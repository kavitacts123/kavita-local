import{$ as ve,$a as yt,$c as De,Aa as te,Ab as $,Ac as ht,Ad as ha,Ba as Fc,Bc as $o,Bd as dd,Ca as vt,Cb as na,Cd as hd,D as zi,Da as ct,Db as ar,Dd as pd,E as Ic,Ea as Bo,Eb as ae,Ed as $i,F as Sc,Fa as Nc,Fb as oe,Fd as es,Ga as ie,Gd as pa,H as Ec,Ha as re,Hb as Hc,I as ot,Ia as T,Ib as jc,Ic as Qc,J as Qt,Ja as L,Jb as de,Jd as se,K as ee,Ka as w,Kb as Cn,Kd as Ci,L as Mc,La as Jt,Lb as N,Ma as z,Mb as xt,Md as we,N as Gt,Na as xe,Nb as Ho,Nd as Vt,O as ye,Oa as Pc,Ob as qc,P as le,Pa as W,Pb as Ze,Pd as wt,Q as K,Qb as At,Qd as ua,R as _t,Ra as zo,Rb as ra,Rc as Gc,Rd as ma,S as G,Sa as Hi,Sb as qi,Sc as ei,Sd as fa,T as tr,Ta as ji,Tb as Wc,Tc as sa,Td as ga,U as ir,Ua as b,Ub as aa,Uc as Ko,Ud as ud,V as x,Va as _,Vb as Wi,Vc as Jc,Vd as Dn,W as P,Wa as F,Wc as Le,Wd as ba,X as ce,Xa as bi,Xb as Yc,Xc as Qo,Xd as _a,Y as A,Ya as _i,Yb as dt,Yc as yi,Yd as In,Z as Tc,Za as je,Zc as Xc,Zd as va,_a as fe,_c as Zc,a as _e,aa as V,ab as Lc,ad as la,ae as Bt,b as Kt,ba as B,bb as S,bd as ed,be as et,ca as st,cb as Vc,cd as or,ce as md,da as nr,db as C,dd as ca,ea as Ne,eb as me,ed as td,ee as Ie,f as $m,fa as Tt,fb as H,fd as id,fe as ti,ga as Me,gd as kn,ge as ts,hd as xi,he as tt,i as Ee,ia as O,ic as Uc,id as nd,ie as fd,j as yn,ja as R,jb as J,jc as Zt,jd as sr,je as gd,k as Y,ka as Ac,kb as X,kc as $c,kd as Go,l as Cc,lb as E,lc as jo,ld as Jo,m as kc,ma as Pt,mb as M,mc as oa,md as rd,n as Dc,nb as Bc,nc as Pe,nd as Te,oa as wn,ob as zc,oc as Kc,od as da,p as bt,pa as Rc,pb as Xt,pc as vi,pd as ad,qc as qo,qd as Re,r as Jr,ra as rr,rb as q,rc as Wo,rd as Xo,sa as g,sb as pe,sc as Yo,sd as Zo,t as er,ta as u,tb as ke,tc as Lt,td as wi,ua as Zr,uc as Yi,ud as od,va as lt,vd as sd,w as Xr,wb as ea,wc as Uo,wd as ld,x as xn,xb as ta,xd as lr,y as Ce,yb as ia,yd as Ui,z as Mt,za as Oc,zb as U,zd as cd}from"./chunk-MV3MVNGJ.js";var bd=r=>typeof r>"u"||r===null,Km=r=>r.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),Qm=r=>{let e={};return Object.keys(r).forEach(i=>{r[i]&&(e[i]=r[i])}),e},ya=r=>{let e=Qm(r);return Object.entries(e).map(([i,t])=>`${Km(i)}:${t}`).join(";")},Sn=class extends Error{constructor(e){super(e),this.name=this.constructor.name}},is=()=>{let r=Date.now().toString(36),e=Math.random().toString(36).substring(2,7);return`${r}${e}`},_d=(r,e,i)=>Math.min(Math.max(r,e),i);function qe(r){this.content=r}qe.prototype={constructor:qe,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,i){var t=i&&i!=r?this.remove(i):this,n=t.find(r),a=t.content.slice();return n==-1?a.push(i||r,e):(a[n+1]=e,i&&(a[n]=i)),new qe(a)},remove:function(r){var e=this.find(r);if(e==-1)return this;var i=this.content.slice();return i.splice(e,2),new qe(i)},addToStart:function(r,e){return new qe([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var i=this.remove(r).content.slice();return i.push(r,e),new qe(i)},addBefore:function(r,e,i){var t=this.remove(e),n=t.content.slice(),a=t.find(r);return n.splice(a==-1?n.length:a,0,e,i),new qe(n)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=qe.from(r),r.size?new qe(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=qe.from(r),r.size?new qe(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=qe.from(r);for(var i=0;i<r.content.length;i+=2)e=e.remove(r.content[i]);return e},toObject:function(){var r={};return this.forEach(function(e,i){r[e]=i}),r},get size(){return this.content.length>>1}};qe.from=function(r){if(r instanceof qe)return r;var e=[];if(r)for(var i in r)e.push(i,r[i]);return new qe(e)};var ns=qe;function Sd(r,e,i){for(let t=0;;t++){if(t==r.childCount||t==e.childCount)return r.childCount==e.childCount?null:i;let n=r.child(t),a=e.child(t);if(n==a){i+=n.nodeSize;continue}if(!n.sameMarkup(a))return i;if(n.isText&&n.text!=a.text){for(let o=0;n.text[o]==a.text[o];o++)i++;return i}if(n.content.size||a.content.size){let o=Sd(n.content,a.content,i+1);if(o!=null)return o}i+=n.nodeSize}}function Ed(r,e,i,t){for(let n=r.childCount,a=e.childCount;;){if(n==0||a==0)return n==a?null:{a:i,b:t};let o=r.child(--n),s=e.child(--a),l=o.nodeSize;if(o==s){i-=l,t-=l;continue}if(!o.sameMarkup(s))return{a:i,b:t};if(o.isText&&o.text!=s.text){let c=0,d=Math.min(o.text.length,s.text.length);for(;c<d&&o.text[o.text.length-c-1]==s.text[s.text.length-c-1];)c++,i--,t--;return{a:i,b:t}}if(o.content.size||s.content.size){let c=Ed(o.content,s.content,i-1,t-1);if(c)return c}i-=l,t-=l}}var k=class r{constructor(e,i){if(this.content=e,this.size=i||0,i==null)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,i,t,n=0,a){for(let o=0,s=0;s<i;o++){let l=this.content[o],c=s+l.nodeSize;if(c>e&&t(l,n+s,a||null,o)!==!1&&l.content.size){let d=s+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,i-d),t,n+d)}s=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,i,t,n){let a="",o=!0;return this.nodesBetween(e,i,(s,l)=>{let c=s.isText?s.text.slice(Math.max(e,l)-l,i-l):s.isLeaf?n?typeof n=="function"?n(s):n:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&c||s.isTextblock)&&t&&(o?o=!1:a+=t),a+=c},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let i=this.lastChild,t=e.firstChild,n=this.content.slice(),a=0;for(i.isText&&i.sameMarkup(t)&&(n[n.length-1]=i.withText(i.text+t.text),a=1);a<e.content.length;a++)n.push(e.content[a]);return new r(n,this.size+e.size)}cut(e,i=this.size){if(e==0&&i==this.size)return this;let t=[],n=0;if(i>e)for(let a=0,o=0;o<i;a++){let s=this.content[a],l=o+s.nodeSize;l>e&&((o<e||l>i)&&(s.isText?s=s.cut(Math.max(0,e-o),Math.min(s.text.length,i-o)):s=s.cut(Math.max(0,e-o-1),Math.min(s.content.size,i-o-1))),t.push(s),n+=s.nodeSize),o=l}return new r(t,n)}cutByIndex(e,i){return e==i?r.empty:e==0&&i==this.content.length?this:new r(this.content.slice(e,i))}replaceChild(e,i){let t=this.content[e];if(t==i)return this;let n=this.content.slice(),a=this.size+i.nodeSize-t.nodeSize;return n[e]=i,new r(n,a)}addToStart(e){return new r([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new r(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let i=0;i<this.content.length;i++)if(!this.content[i].eq(e.content[i]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let i=this.content[e];if(!i)throw new RangeError("Index "+e+" out of range for "+this);return i}maybeChild(e){return this.content[e]||null}forEach(e){for(let i=0,t=0;i<this.content.length;i++){let n=this.content[i];e(n,t,i),t+=n.nodeSize}}findDiffStart(e,i=0){return Sd(this,e,i)}findDiffEnd(e,i=this.size,t=e.size){return Ed(this,e,i,t)}findIndex(e,i=-1){if(e==0)return xa(0,e);if(e==this.size)return xa(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let a=this.child(t),o=n+a.nodeSize;if(o>=e)return o==e||i>0?xa(t+1,o):xa(t,n);n=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,i){if(!i)return r.empty;if(!Array.isArray(i))throw new RangeError("Invalid input for Fragment.fromJSON");return new r(i.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return r.empty;let i,t=0;for(let n=0;n<e.length;n++){let a=e[n];t+=a.nodeSize,n&&a.isText&&e[n-1].sameMarkup(a)?(i||(i=e.slice(0,n)),i[i.length-1]=a.withText(i[i.length-1].text+a.text)):i&&i.push(a)}return new r(i||e,t)}static from(e){if(!e)return r.empty;if(e instanceof r)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new r([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};k.empty=new k([],0);var rs={index:0,offset:0};function xa(r,e){return rs.index=r,rs.offset=e,rs}function Ca(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let i=Array.isArray(r);if(Array.isArray(e)!=i)return!1;if(i){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!Ca(r[t],e[t]))return!1}else{for(let t in r)if(!(t in e)||!Ca(r[t],e[t]))return!1;for(let t in e)if(!(t in r))return!1}return!0}var he=(()=>{class r{constructor(i,t){this.type=i,this.attrs=t}addToSet(i){let t,n=!1;for(let a=0;a<i.length;a++){let o=i[a];if(this.eq(o))return i;if(this.type.excludes(o.type))t||(t=i.slice(0,a));else{if(o.type.excludes(this.type))return i;!n&&o.type.rank>this.type.rank&&(t||(t=i.slice(0,a)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=i.slice()),n||t.push(this),t}removeFromSet(i){for(let t=0;t<i.length;t++)if(this.eq(i[t]))return i.slice(0,t).concat(i.slice(t+1));return i}isInSet(i){for(let t=0;t<i.length;t++)if(this.eq(i[t]))return!0;return!1}eq(i){return this==i||this.type==i.type&&Ca(this.attrs,i.attrs)}toJSON(){let i={type:this.type.name};for(let t in this.attrs){i.attrs=this.attrs;break}return i}static fromJSON(i,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=i.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let a=n.create(t.attrs);return n.checkAttrs(a.attrs),a}static sameSet(i,t){if(i==t)return!0;if(i.length!=t.length)return!1;for(let n=0;n<i.length;n++)if(!i[n].eq(t[n]))return!1;return!0}static setFrom(i){if(!i||Array.isArray(i)&&i.length==0)return r.none;if(i instanceof r)return[i];let t=i.slice();return t.sort((n,a)=>n.type.rank-a.type.rank),t}}return r.none=[],r})(),Gi=class extends Error{},I=class r{constructor(e,i,t){this.content=e,this.openStart=i,this.openEnd=t}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,i){let t=Td(this.content,e+this.openStart,i);return t&&new r(t,this.openStart,this.openEnd)}removeBetween(e,i){return new r(Md(this.content,e+this.openStart,i+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,i){if(!i)return r.empty;let t=i.openStart||0,n=i.openEnd||0;if(typeof t!="number"||typeof n!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new r(k.fromJSON(e,i.content),t,n)}static maxOpen(e,i=!0){let t=0,n=0;for(let a=e.firstChild;a&&!a.isLeaf&&(i||!a.type.spec.isolating);a=a.firstChild)t++;for(let a=e.lastChild;a&&!a.isLeaf&&(i||!a.type.spec.isolating);a=a.lastChild)n++;return new r(e,t,n)}};I.empty=new I(k.empty,0,0);function Md(r,e,i){let{index:t,offset:n}=r.findIndex(e),a=r.maybeChild(t),{index:o,offset:s}=r.findIndex(i);if(n==e||a.isText){if(s!=i&&!r.child(o).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(i))}if(t!=o)throw new RangeError("Removing non-flat range");return r.replaceChild(t,a.copy(Md(a.content,e-n-1,i-n-1)))}function Td(r,e,i,t){let{index:n,offset:a}=r.findIndex(e),o=r.maybeChild(n);if(a==e||o.isText)return t&&!t.canReplace(n,n,i)?null:r.cut(0,e).append(i).append(r.cut(e));let s=Td(o.content,e-a-1,i);return s&&r.replaceChild(n,o.copy(s))}function Gm(r,e,i){if(i.openStart>r.depth)throw new Gi("Inserted content deeper than insertion position");if(r.depth-i.openStart!=e.depth-i.openEnd)throw new Gi("Inconsistent open depths");return Ad(r,e,i,0)}function Ad(r,e,i,t){let n=r.index(t),a=r.node(t);if(n==e.index(t)&&t<r.depth-i.openStart){let o=Ad(r,e,i,t+1);return a.copy(a.content.replaceChild(n,o))}else if(i.content.size)if(!i.openStart&&!i.openEnd&&r.depth==t&&e.depth==t){let o=r.parent,s=o.content;return Qi(o,s.cut(0,r.parentOffset).append(i.content).append(s.cut(e.parentOffset)))}else{let{start:o,end:s}=Jm(i,r);return Qi(a,Od(r,o,s,e,t))}else return Qi(a,ka(r,e,t))}function Rd(r,e){if(!e.type.compatibleContent(r.type))throw new Gi("Cannot join "+e.type.name+" onto "+r.type.name)}function ss(r,e,i){let t=r.node(i);return Rd(t,e.node(i)),t}function Ki(r,e){let i=e.length-1;i>=0&&r.isText&&r.sameMarkup(e[i])?e[i]=r.withText(e[i].text+r.text):e.push(r)}function cr(r,e,i,t){let n=(e||r).node(i),a=0,o=e?e.index(i):n.childCount;r&&(a=r.index(i),r.depth>i?a++:r.textOffset&&(Ki(r.nodeAfter,t),a++));for(let s=a;s<o;s++)Ki(n.child(s),t);e&&e.depth==i&&e.textOffset&&Ki(e.nodeBefore,t)}function Qi(r,e){return r.type.checkContent(e),r.copy(e)}function Od(r,e,i,t,n){let a=r.depth>n&&ss(r,e,n+1),o=t.depth>n&&ss(i,t,n+1),s=[];return cr(null,r,n,s),a&&o&&e.index(n)==i.index(n)?(Rd(a,o),Ki(Qi(a,Od(r,e,i,t,n+1)),s)):(a&&Ki(Qi(a,ka(r,e,n+1)),s),cr(e,i,n,s),o&&Ki(Qi(o,ka(i,t,n+1)),s)),cr(t,null,n,s),new k(s)}function ka(r,e,i){let t=[];if(cr(null,r,i,t),r.depth>i){let n=ss(r,e,i+1);Ki(Qi(n,ka(r,e,i+1)),t)}return cr(e,null,i,t),new k(t)}function Jm(r,e){let i=e.depth-r.openStart,n=e.node(i).copy(r.content);for(let a=i-1;a>=0;a--)n=e.node(a).copy(k.from(n));return{start:n.resolveNoCache(r.openStart+i),end:n.resolveNoCache(n.content.size-r.openEnd-i)}}var Da=class r{constructor(e,i,t){this.pos=e,this.path=i,this.parentOffset=t,this.depth=i.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,i=this.index(this.depth);if(i==e.childCount)return null;let t=this.pos-this.path[this.path.length-1],n=e.child(i);return t?e.child(i).cut(t):n}get nodeBefore(){let e=this.index(this.depth),i=this.pos-this.path[this.path.length-1];return i?this.parent.child(e).cut(0,i):e==0?null:this.parent.child(e-1)}posAtIndex(e,i){i=this.resolveDepth(i);let t=this.path[i*3],n=i==0?0:this.path[i*3-1]+1;for(let a=0;a<e;a++)n+=t.child(a).nodeSize;return n}marks(){let e=this.parent,i=this.index();if(e.content.size==0)return he.none;if(this.textOffset)return e.child(i).marks;let t=e.maybeChild(i-1),n=e.maybeChild(i);if(!t){let s=t;t=n,n=s}let a=t.marks;for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!n||!a[o].isInSet(n.marks))&&(a=a[o--].removeFromSet(a));return a}marksAcross(e){let i=this.parent.maybeChild(this.index());if(!i||!i.isInline)return null;let t=i.marks,n=e.parent.maybeChild(e.index());for(var a=0;a<t.length;a++)t[a].type.spec.inclusive===!1&&(!n||!t[a].isInSet(n.marks))&&(t=t[a--].removeFromSet(t));return t}sharedDepth(e){for(let i=this.depth;i>0;i--)if(this.start(i)<=e&&this.end(i)>=e)return i;return 0}blockRange(e=this,i){if(e.pos<this.pos)return e.blockRange(this);for(let t=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);t>=0;t--)if(e.pos<=this.end(t)&&(!i||i(this.node(t))))return new Ji(this,e,t);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let i=1;i<=this.depth;i++)e+=(e?"/":"")+this.node(i).type.name+"_"+this.index(i-1);return e+":"+this.parentOffset}static resolve(e,i){if(!(i>=0&&i<=e.content.size))throw new RangeError("Position "+i+" out of range");let t=[],n=0,a=i;for(let o=e;;){let{index:s,offset:l}=o.content.findIndex(a),c=a-l;if(t.push(o,s,n+l),!c||(o=o.child(s),o.isText))break;a=c-1,n+=l+1}return new r(i,t,a)}static resolveCached(e,i){let t=vd.get(e);if(t)for(let a=0;a<t.elts.length;a++){let o=t.elts[a];if(o.pos==i)return o}else vd.set(e,t=new ls);let n=t.elts[t.i]=r.resolve(e,i);return t.i=(t.i+1)%Xm,n}},ls=class{constructor(){this.elts=[],this.i=0}},Xm=12,vd=new WeakMap,Ji=class{constructor(e,i,t){this.$from=e,this.$to=i,this.depth=t}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},Zm=Object.create(null),zt=class r{constructor(e,i,t,n=he.none){this.type=e,this.attrs=i,this.marks=n,this.content=t||k.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,i,t,n=0){this.content.nodesBetween(e,i,t,n,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,i,t,n){return this.content.textBetween(e,i,t,n)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,i,t){return this.type==e&&Ca(this.attrs,i||e.defaultAttrs||Zm)&&he.sameSet(this.marks,t||he.none)}copy(e=null){return e==this.content?this:new r(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new r(this.type,this.attrs,this.content,e)}cut(e,i=this.content.size){return e==0&&i==this.content.size?this:this.copy(this.content.cut(e,i))}slice(e,i=this.content.size,t=!1){if(e==i)return I.empty;let n=this.resolve(e),a=this.resolve(i),o=t?0:n.sharedDepth(i),s=n.start(o),c=n.node(o).content.cut(n.pos-s,a.pos-s);return new I(c,n.depth-o,a.depth-o)}replace(e,i,t){return Gm(this.resolve(e),this.resolve(i),t)}nodeAt(e){for(let i=this;;){let{index:t,offset:n}=i.content.findIndex(e);if(i=i.maybeChild(t),!i)return null;if(n==e||i.isText)return i;e-=n+1}}childAfter(e){let{index:i,offset:t}=this.content.findIndex(e);return{node:this.content.maybeChild(i),index:i,offset:t}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:i,offset:t}=this.content.findIndex(e);if(t<e)return{node:this.content.child(i),index:i,offset:t};let n=this.content.child(i-1);return{node:n,index:i-1,offset:t-n.nodeSize}}resolve(e){return Da.resolveCached(this,e)}resolveNoCache(e){return Da.resolve(this,e)}rangeHasMark(e,i,t){let n=!1;return i>e&&this.nodesBetween(e,i,a=>(t.isInSet(a.marks)&&(n=!0),!n)),n}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Fd(this.marks,e)}contentMatchAt(e){let i=this.type.contentMatch.matchFragment(this.content,0,e);if(!i)throw new Error("Called contentMatchAt on a node with invalid content");return i}canReplace(e,i,t=k.empty,n=0,a=t.childCount){let o=this.contentMatchAt(e).matchFragment(t,n,a),s=o&&o.matchFragment(this.content,i);if(!s||!s.validEnd)return!1;for(let l=n;l<a;l++)if(!this.type.allowsMarks(t.child(l).marks))return!1;return!0}canReplaceWith(e,i,t,n){if(n&&!this.type.allowsMarks(n))return!1;let a=this.contentMatchAt(e).matchType(t),o=a&&a.matchFragment(this.content,i);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=he.none;for(let i=0;i<this.marks.length;i++){let t=this.marks[i];t.type.checkAttrs(t.attrs),e=t.addToSet(e)}if(!he.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(i=>i.type.name)}`);this.content.forEach(i=>i.check())}toJSON(){let e={type:this.type.name};for(let i in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(i=>i.toJSON())),e}static fromJSON(e,i){if(!i)throw new RangeError("Invalid input for Node.fromJSON");let t;if(i.marks){if(!Array.isArray(i.marks))throw new RangeError("Invalid mark data for Node.fromJSON");t=i.marks.map(e.markFromJSON)}if(i.type=="text"){if(typeof i.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(i.text,t)}let n=k.fromJSON(e,i.content),a=e.nodeType(i.type).create(i.attrs,n,t);return a.type.checkAttrs(a.attrs),a}};zt.prototype.text=void 0;var cs=class r extends zt{constructor(e,i,t,n){if(super(e,i,null,n),!t)throw new RangeError("Empty text nodes are not allowed");this.text=t}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Fd(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,i){return this.text.slice(e,i)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new r(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new r(this.type,this.attrs,e,this.marks)}cut(e=0,i=this.text.length){return e==0&&i==this.text.length?this:this.withText(this.text.slice(e,i))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function Fd(r,e){for(let i=r.length-1;i>=0;i--)e=r[i].type.name+"("+e+")";return e}var Xi=class r{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,i){let t=new ds(e,i);if(t.next==null)return r.empty;let n=Nd(t);t.next&&t.err("Unexpected trailing text");let a=sf(of(n));return lf(a,t),a}matchType(e){for(let i=0;i<this.next.length;i++)if(this.next[i].type==e)return this.next[i].next;return null}matchFragment(e,i=0,t=e.childCount){let n=this;for(let a=i;n&&a<t;a++)n=n.matchType(e.child(a).type);return n}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:i}=this.next[e];if(!(i.isText||i.hasRequiredAttrs()))return i}return null}compatible(e){for(let i=0;i<this.next.length;i++)for(let t=0;t<e.next.length;t++)if(this.next[i].type==e.next[t].type)return!0;return!1}fillBefore(e,i=!1,t=0){let n=[this];function a(o,s){let l=o.matchFragment(e,t);if(l&&(!i||l.validEnd))return k.from(s.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:d,next:h}=o.next[c];if(!(d.isText||d.hasRequiredAttrs())&&n.indexOf(h)==-1){n.push(h);let p=a(h,s.concat(d));if(p)return p}}return null}return a(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let i=this.computeWrapping(e);return this.wrapCache.push(e,i),i}computeWrapping(e){let i=Object.create(null),t=[{match:this,type:null,via:null}];for(;t.length;){let n=t.shift(),a=n.match;if(a.matchType(e)){let o=[];for(let s=n;s.type;s=s.via)o.push(s.type);return o.reverse()}for(let o=0;o<a.next.length;o++){let{type:s,next:l}=a.next[o];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in i)&&(!n.type||l.validEnd)&&(t.push({match:s.contentMatch,type:s,via:n}),i[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function i(t){e.push(t);for(let n=0;n<t.next.length;n++)e.indexOf(t.next[n].next)==-1&&i(t.next[n].next)}return i(this),e.map((t,n)=>{let a=n+(t.validEnd?"*":" ")+" ";for(let o=0;o<t.next.length;o++)a+=(o?", ":"")+t.next[o].type.name+"->"+e.indexOf(t.next[o].next);return a}).join(`
`)}};Xi.empty=new Xi(!0);var ds=class{constructor(e,i){this.string=e,this.nodeTypes=i,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function Nd(r){let e=[];do e.push(ef(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function ef(r){let e=[];do e.push(tf(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function tf(r){let e=af(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=nf(r,e);else break;return e}function yd(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function nf(r,e){let i=yd(r),t=i;return r.eat(",")&&(r.next!="}"?t=yd(r):t=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:i,max:t,expr:e}}function rf(r,e){let i=r.nodeTypes,t=i[e];if(t)return[t];let n=[];for(let a in i){let o=i[a];o.groups.indexOf(e)>-1&&n.push(o)}return n.length==0&&r.err("No node type or group '"+e+"' found"),n}function af(r){if(r.eat("(")){let e=Nd(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=rf(r,r.next).map(i=>(r.inline==null?r.inline=i.isInline:r.inline!=i.isInline&&r.err("Mixing inline and block content"),{type:"name",value:i}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function of(r){let e=[[]];return n(a(r,0),i()),e;function i(){return e.push([])-1}function t(o,s,l){let c={term:l,to:s};return e[o].push(c),c}function n(o,s){o.forEach(l=>l.to=s)}function a(o,s){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(a(c,s)),[]);if(o.type=="seq")for(let l=0;;l++){let c=a(o.exprs[l],s);if(l==o.exprs.length-1)return c;n(c,s=i())}else if(o.type=="star"){let l=i();return t(s,l),n(a(o.expr,l),l),[t(l)]}else if(o.type=="plus"){let l=i();return n(a(o.expr,s),l),n(a(o.expr,l),l),[t(l)]}else{if(o.type=="opt")return[t(s)].concat(a(o.expr,s));if(o.type=="range"){let l=s;for(let c=0;c<o.min;c++){let d=i();n(a(o.expr,l),d),l=d}if(o.max==-1)n(a(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let d=i();t(l,d),n(a(o.expr,l),d),l=d}return[t(l)]}else{if(o.type=="name")return[t(s,void 0,o.value)];throw new Error("Unknown expr type")}}}}function Pd(r,e){return e-r}function xd(r,e){let i=[];return t(e),i.sort(Pd);function t(n){let a=r[n];if(a.length==1&&!a[0].term)return t(a[0].to);i.push(n);for(let o=0;o<a.length;o++){let{term:s,to:l}=a[o];!s&&i.indexOf(l)==-1&&t(l)}}}function sf(r){let e=Object.create(null);return i(xd(r,0));function i(t){let n=[];t.forEach(o=>{r[o].forEach(({term:s,to:l})=>{if(!s)return;let c;for(let d=0;d<n.length;d++)n[d][0]==s&&(c=n[d][1]);xd(r,l).forEach(d=>{c||n.push([s,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let a=e[t.join(",")]=new Xi(t.indexOf(r.length-1)>-1);for(let o=0;o<n.length;o++){let s=n[o][1].sort(Pd);a.next.push({type:n[o][0],next:e[s.join(",")]||i(s)})}return a}}function lf(r,e){for(let i=0,t=[r];i<t.length;i++){let n=t[i],a=!n.validEnd,o=[];for(let s=0;s<n.next.length;s++){let{type:l,next:c}=n.next[s];o.push(l.name),a&&!(l.isText||l.hasRequiredAttrs())&&(a=!1),t.indexOf(c)==-1&&t.push(c)}a&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ld(r){let e=Object.create(null);for(let i in r){let t=r[i];if(!t.hasDefault)return null;e[i]=t.default}return e}function Vd(r,e){let i=Object.create(null);for(let t in r){let n=e&&e[t];if(n===void 0){let a=r[t];if(a.hasDefault)n=a.default;else throw new RangeError("No value supplied for attribute "+t)}i[t]=n}return i}function Bd(r,e,i,t){for(let n in e)if(!(n in r))throw new RangeError(`Unsupported attribute ${n} for ${i} of type ${n}`);for(let n in r){let a=r[n];a.validate&&a.validate(e[n])}}function zd(r){let e=Object.create(null);if(r)for(let i in r)e[i]=new hs(r[i]);return e}var Ia=class r{constructor(e,i,t){this.name=e,this.schema=i,this.spec=t,this.markSet=null,this.groups=t.group?t.group.split(" "):[],this.attrs=zd(t.attrs),this.defaultAttrs=Ld(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(t.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Vd(this.attrs,e)}create(e=null,i,t){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new zt(this,this.computeAttrs(e),k.from(i),he.setFrom(t))}createChecked(e=null,i,t){return i=k.from(i),this.checkContent(i),new zt(this,this.computeAttrs(e),i,he.setFrom(t))}createAndFill(e=null,i,t){if(e=this.computeAttrs(e),i=k.from(i),i.size){let o=this.contentMatch.fillBefore(i);if(!o)return null;i=o.append(i)}let n=this.contentMatch.matchFragment(i),a=n&&n.fillBefore(k.empty,!0);return a?new zt(this,e,i.append(a),he.setFrom(t)):null}validContent(e){let i=this.contentMatch.matchFragment(e);if(!i||!i.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Bd(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let i=0;i<e.length;i++)if(!this.allowsMarkType(e[i].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let i;for(let t=0;t<e.length;t++)this.allowsMarkType(e[t].type)?i&&i.push(e[t]):i||(i=e.slice(0,t));return i?i.length?i:he.none:e}static compile(e,i){let t=Object.create(null);e.forEach((a,o)=>t[a]=new r(a,i,o));let n=i.spec.topNode||"doc";if(!t[n])throw new RangeError("Schema is missing its top node type ('"+n+"')");if(!t.text)throw new RangeError("Every schema needs a 'text' type");for(let a in t.text.attrs)throw new RangeError("The text node type should not have attributes");return t}};function cf(r){let e=r.split("|");return i=>{let t=i===null?"null":typeof i;if(e.indexOf(t)<0)throw new RangeError(`Expected value of type ${e}, got ${t}`)}}var hs=class{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default,this.validate=typeof e.validate=="string"?cf(e.validate):e.validate}get isRequired(){return!this.hasDefault}},hr=class r{constructor(e,i,t,n){this.name=e,this.rank=i,this.schema=t,this.spec=n,this.attrs=zd(n.attrs),this.excluded=null;let a=Ld(this.attrs);this.instance=a?new he(this,a):null}create(e=null){return!e&&this.instance?this.instance:new he(this,Vd(this.attrs,e))}static compile(e,i){let t=Object.create(null),n=0;return e.forEach((a,o)=>t[a]=new r(a,n++,i,o)),t}removeFromSet(e){for(var i=0;i<e.length;i++)e[i].type==this&&(e=e.slice(0,i).concat(e.slice(i+1)),i--);return e}isInSet(e){for(let i=0;i<e.length;i++)if(e[i].type==this)return e[i]}checkAttrs(e){Bd(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}},Sa=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let i=this.spec={};for(let n in e)i[n]=e[n];i.nodes=ns.from(e.nodes),i.marks=ns.from(e.marks||{}),this.nodes=Ia.compile(this.spec.nodes,this),this.marks=hr.compile(this.spec.marks,this);let t=Object.create(null);for(let n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");let a=this.nodes[n],o=a.spec.content||"",s=a.spec.marks;if(a.contentMatch=t[o]||(t[o]=Xi.parse(o,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=s=="_"?null:s?wd(this,s.split(" ")):s==""||!a.inlineContent?[]:null}for(let n in this.marks){let a=this.marks[n],o=a.spec.excludes;a.excluded=o==null?[a]:o==""?[]:wd(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,i=null,t,n){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Ia){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(i,t,n)}text(e,i){let t=this.nodes.text;return new cs(t,t.defaultAttrs,e,he.setFrom(i))}mark(e,i){return typeof e=="string"&&(e=this.marks[e]),e.create(i)}nodeFromJSON(e){return zt.fromJSON(this,e)}markFromJSON(e){return he.fromJSON(this,e)}nodeType(e){let i=this.nodes[e];if(!i)throw new RangeError("Unknown node type: "+e);return i}};function wd(r,e){let i=[];for(let t=0;t<e.length;t++){let n=e[t],a=r.marks[n],o=a;if(a)i.push(a);else for(let s in r.marks){let l=r.marks[s];(n=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(n)>-1)&&i.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[t]+"'")}return i}function df(r){return r.tag!=null}function hf(r){return r.style!=null}var ki=class r{constructor(e,i){this.schema=e,this.rules=i,this.tags=[],this.styles=[];let t=this.matchedStyles=[];i.forEach(n=>{if(df(n))this.tags.push(n);else if(hf(n)){let a=/[^=]*/.exec(n.style)[0];t.indexOf(a)<0&&t.push(a),this.styles.push(n)}}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let a=e.nodes[n.node];return a.contentMatch.matchType(a)})}parse(e,i={}){let t=new Ta(this,i,!1);return t.addAll(e,i.from,i.to),t.finish()}parseSlice(e,i={}){let t=new Ta(this,i,!0);return t.addAll(e,i.from,i.to),I.maxOpen(t.finish())}matchTag(e,i,t){for(let n=t?this.tags.indexOf(t)+1:0;n<this.tags.length;n++){let a=this.tags[n];if(mf(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||i.matchesContext(a.context))){if(a.getAttrs){let o=a.getAttrs(e);if(o===!1)continue;a.attrs=o||void 0}return a}}}matchStyle(e,i,t,n){for(let a=n?this.styles.indexOf(n)+1:0;a<this.styles.length;a++){let o=this.styles[a],s=o.style;if(!(s.indexOf(e)!=0||o.context&&!t.matchesContext(o.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=i))){if(o.getAttrs){let l=o.getAttrs(i);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let i=[];function t(n){let a=n.priority==null?50:n.priority,o=0;for(;o<i.length;o++){let s=i[o];if((s.priority==null?50:s.priority)<a)break}i.splice(o,0,n)}for(let n in e.marks){let a=e.marks[n].spec.parseDOM;a&&a.forEach(o=>{t(o=kd(o)),o.mark||o.ignore||o.clearMark||(o.mark=n)})}for(let n in e.nodes){let a=e.nodes[n].spec.parseDOM;a&&a.forEach(o=>{t(o=kd(o)),o.node||o.ignore||o.mark||(o.node=n)})}return i}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new r(e,r.schemaRules(e)))}},Hd={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},pf={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},jd={ol:!0,ul:!0},Ea=1,Ma=2,dr=4;function Cd(r,e,i){return e!=null?(e?Ea:0)|(e==="full"?Ma:0):r&&r.whitespace=="pre"?Ea|Ma:i&~dr}var En=class{constructor(e,i,t,n,a,o,s){this.type=e,this.attrs=i,this.marks=t,this.pendingMarks=n,this.solid=a,this.options=s,this.content=[],this.activeMarks=he.none,this.stashMarks=[],this.match=o||(s&dr?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let i=this.type.contentMatch.fillBefore(k.from(e));if(i)this.match=this.type.contentMatch.matchFragment(i);else{let t=this.type.contentMatch,n;return(n=t.findWrapping(e.type))?(this.match=t,n):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ea)){let t=this.content[this.content.length-1],n;if(t&&t.isText&&(n=/[ \t\r\n\u000c]+$/.exec(t.text))){let a=t;t.text.length==n[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-n[0].length))}}let i=k.from(this.content);return!e&&this.match&&(i=i.append(this.match.fillBefore(k.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i}popFromStashMark(e){for(let i=this.stashMarks.length-1;i>=0;i--)if(e.eq(this.stashMarks[i]))return this.stashMarks.splice(i,1)[0]}applyPending(e){for(let i=0,t=this.pendingMarks;i<t.length;i++){let n=t[i];(this.type?this.type.allowsMarkType(n.type):ff(n.type,e))&&!n.isInSet(this.activeMarks)&&(this.activeMarks=n.addToSet(this.activeMarks),this.pendingMarks=n.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Hd.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},Ta=class{constructor(e,i,t){this.parser=e,this.options=i,this.isOpen=t,this.open=0;let n=i.topNode,a,o=Cd(null,i.preserveWhitespace,0)|(t?dr:0);n?a=new En(n.type,n.attrs,he.none,he.none,!0,i.topMatch||n.type.contentMatch,o):t?a=new En(null,null,he.none,he.none,!0,null,o):a=new En(e.schema.topNodeType,null,he.none,he.none,!0,null,o),this.nodes=[a],this.find=i.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,i){let t=e.style;if(!t||!t.length)return i();let n=this.readStyles(e.style);if(!n)return;let[a,o]=n,s=this.top;for(let l=0;l<o.length;l++)this.removePendingMark(o[l],s);for(let l=0;l<a.length;l++)this.addPendingMark(a[l]);i();for(let l=0;l<a.length;l++)this.removePendingMark(a[l],s);for(let l=0;l<o.length;l++)this.addPendingMark(o[l])}addTextNode(e){let i=e.nodeValue,t=this.top;if(t.options&Ma||t.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(t.options&Ea)t.options&Ma?i=i.replace(/\r\n?/g,`
`):i=i.replace(/\r?\n|\r/g," ");else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let n=t.content[t.content.length-1],a=e.previousSibling;(!n||a&&a.nodeName=="BR"||n.isText&&/[ \t\r\n\u000c]$/.test(n.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i)),this.findInText(e)}else this.findInside(e)}addElement(e,i){let t=e.nodeName.toLowerCase(),n;jd.hasOwnProperty(t)&&this.parser.normalizeLists&&uf(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,i));if(a?a.ignore:pf.hasOwnProperty(t))this.findInside(e),this.ignoreFallback(e);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let o,s=this.top,l=this.needsBlock;if(Hd.hasOwnProperty(t))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),o=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}a&&a.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),o&&this.sync(s),this.needsBlock=l}else this.withStyleRules(e,()=>{this.addElementByRule(e,a,a.consuming===!1?n:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let i=he.none,t=he.none;if(e.length)for(let n=0;n<this.parser.matchedStyles.length;n++){let a=this.parser.matchedStyles[n],o=e.getPropertyValue(a);if(o)for(let s=void 0;;){let l=this.parser.matchStyle(a,o,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(c=>{l.clearMark(c)&&(t=c.addToSet(t))}):i=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(i),l.consuming===!1)s=l;else break}}return[i,t]}addElementByRule(e,i,t){let n,a,o;i.node?(a=this.parser.schema.nodes[i.node],a.isLeaf?this.insertNode(a.create(i.attrs))||this.leafFallback(e):n=this.enter(a,i.attrs||null,i.preserveWhitespace)):(o=this.parser.schema.marks[i.mark].create(i.attrs),this.addPendingMark(o));let s=this.top;if(a&&a.isLeaf)this.findInside(e);else if(t)this.addElement(e,t);else if(i.getContent)this.findInside(e),i.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof i.contentElement=="string"?l=e.querySelector(i.contentElement):typeof i.contentElement=="function"?l=i.contentElement(e):i.contentElement&&(l=i.contentElement),this.findAround(e,l,!0),this.addAll(l)}n&&this.sync(s)&&this.open--,o&&this.removePendingMark(o,s)}addAll(e,i,t){let n=i||0;for(let a=i?e.childNodes[i]:e.firstChild,o=t==null?null:e.childNodes[t];a!=o;a=a.nextSibling,++n)this.findAtPoint(e,n),this.addDOM(a);this.findAtPoint(e,n)}findPlace(e){let i,t;for(let n=this.open;n>=0;n--){let a=this.nodes[n],o=a.findWrapping(e);if(o&&(!i||i.length>o.length)&&(i=o,t=a,!o.length)||a.solid)break}if(!i)return!1;this.sync(t);for(let n=0;n<i.length;n++)this.enterInner(i[n],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&this.enterInner(i)}if(this.findPlace(e)){this.closeExtra();let i=this.top;i.applyPending(e.type),i.match&&(i.match=i.match.matchType(e.type));let t=i.activeMarks;for(let n=0;n<e.marks.length;n++)(!i.type||i.type.allowsMarkType(e.marks[n].type))&&(t=e.marks[n].addToSet(t));return i.content.push(e.mark(t)),!0}return!1}enter(e,i,t){let n=this.findPlace(e.create(i));return n&&this.enterInner(e,i,!0,t),n}enterInner(e,i=null,t=!1,n){this.closeExtra();let a=this.top;a.applyPending(e),a.match=a.match&&a.match.matchType(e);let o=Cd(e,n,a.options);a.options&dr&&a.content.length==0&&(o|=dr),this.nodes.push(new En(e,i,a.activeMarks,a.pendingMarks,t,null,o)),this.open++}closeExtra(e=!1){let i=this.nodes.length-1;if(i>this.open){for(;i>this.open;i--)this.nodes[i-1].content.push(this.nodes[i].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let i=this.open;i>=0;i--)if(this.nodes[i]==e)return this.open=i,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let i=this.open;i>=0;i--){let t=this.nodes[i].content;for(let n=t.length-1;n>=0;n--)e+=t[n].nodeSize;i&&e++}return e}findAtPoint(e,i){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&this.find[t].offset==i&&(this.find[t].pos=this.currentPos)}findInside(e){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&(this.find[i].pos=this.currentPos)}findAround(e,i,t){if(e!=i&&this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&i.compareDocumentPosition(this.find[n].node)&(t?2:4)&&(this.find[n].pos=this.currentPos)}findInText(e){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&(this.find[i].pos=this.currentPos-(e.nodeValue.length-this.find[i].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let i=e.split("/"),t=this.options.context,n=!this.isOpen&&(!t||t.parent.type==this.nodes[0].type),a=-(t?t.depth+1:0)+(n?0:1),o=(s,l)=>{for(;s>=0;s--){let c=i[s];if(c==""){if(s==i.length-1||s==0)continue;for(;l>=a;l--)if(o(s-1,l))return!0;return!1}else{let d=l>0||l==0&&n?this.nodes[l].type:t&&l>=a?t.node(l-a).type:null;if(!d||d.name!=c&&d.groups.indexOf(c)==-1)return!1;l--}}return!0};return o(i.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let i=e.depth;i>=0;i--){let t=e.node(i).contentMatchAt(e.indexAfter(i)).defaultType;if(t&&t.isTextblock&&t.defaultAttrs)return t}for(let i in this.parser.schema.nodes){let t=this.parser.schema.nodes[i];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(e){let i=gf(e,this.top.pendingMarks);i&&this.top.stashMarks.push(i),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,i){for(let t=this.open;t>=0;t--){let n=this.nodes[t];if(n.pendingMarks.lastIndexOf(e)>-1)n.pendingMarks=e.removeFromSet(n.pendingMarks);else{n.activeMarks=e.removeFromSet(n.activeMarks);let o=n.popFromStashMark(e);o&&n.type&&n.type.allowsMarkType(o.type)&&(n.activeMarks=o.addToSet(n.activeMarks))}if(n==i)break}}};function uf(r){for(let e=r.firstChild,i=null;e;e=e.nextSibling){let t=e.nodeType==1?e.nodeName.toLowerCase():null;t&&jd.hasOwnProperty(t)&&i?(i.appendChild(e),e=i):t=="li"?i=e:t&&(i=null)}}function mf(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function kd(r){let e={};for(let i in r)e[i]=r[i];return e}function ff(r,e){let i=e.schema.nodes;for(let t in i){let n=i[t];if(!n.allowsMarkType(r))continue;let a=[],o=s=>{a.push(s);for(let l=0;l<s.edgeCount;l++){let{type:c,next:d}=s.edge(l);if(c==e||a.indexOf(d)<0&&o(d))return!0}};if(o(n.contentMatch))return!0}}function gf(r,e){for(let i=0;i<e.length;i++)if(r.eq(e[i]))return e[i]}var ii=class r{constructor(e,i){this.nodes=e,this.marks=i}serializeFragment(e,i={},t){t||(t=as(i).createDocumentFragment());let n=t,a=[];return e.forEach(o=>{if(a.length||o.marks.length){let s=0,l=0;for(;s<a.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(a[s][0])||c.type.spec.spanning===!1)break;s++,l++}for(;s<a.length;)n=a.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],d=this.serializeMark(c,o.isInline,i);d&&(a.push([c,n]),n.appendChild(d.dom),n=d.contentDOM||d.dom)}}n.appendChild(this.serializeNodeInner(o,i))}),t}serializeNodeInner(e,i){let{dom:t,contentDOM:n}=wa(as(i),this.nodes[e.type.name](e),null,e.attrs);if(n){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,i,n)}return t}serializeNode(e,i={}){let t=this.serializeNodeInner(e,i);for(let n=e.marks.length-1;n>=0;n--){let a=this.serializeMark(e.marks[n],e.isInline,i);a&&((a.contentDOM||a.dom).appendChild(t),t=a.dom)}return t}serializeMark(e,i,t={}){let n=this.marks[e.type.name];return n&&wa(as(t),n(e,i),null,e.attrs)}static renderSpec(e,i,t=null){return wa(e,i,t)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new r(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let i=Dd(e.nodes);return i.text||(i.text=t=>t.text),i}static marksFromSchema(e){return Dd(e.marks)}};function Dd(r){let e={};for(let i in r){let t=r[i].spec.toDOM;t&&(e[i]=t)}return e}function as(r){return r.document||window.document}var Id=new WeakMap;function bf(r){let e=Id.get(r);return e===void 0&&Id.set(r,e=_f(r)),e}function _f(r){let e=null;function i(t){if(t&&typeof t=="object")if(Array.isArray(t))if(typeof t[0]=="string")e||(e=[]),e.push(t);else for(let n=0;n<t.length;n++)i(t[n]);else for(let n in t)i(t[n])}return i(r),e}function wa(r,e,i,t){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let n=e[0],a;if(typeof n!="string")throw new RangeError("Invalid array passed to renderSpec");if(t&&(a=bf(t))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=n.indexOf(" ");o>0&&(i=n.slice(0,o),n=n.slice(o+1));let s,l=i?r.createElementNS(i,n):r.createElement(n),c=e[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let h in c)if(c[h]!=null){let p=h.indexOf(" ");p>0?l.setAttributeNS(h.slice(0,p),h.slice(p+1),c[h]):l.setAttribute(h,c[h])}}for(let h=d;h<e.length;h++){let p=e[h];if(p===0){if(h<e.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:m}=wa(r,p,i,t);if(l.appendChild(f),m){if(s)throw new RangeError("Multiple content holes");s=m}}}return{dom:l,contentDOM:s}}var Yd=65535,Ud=Math.pow(2,16);function vf(r,e){return r+e*Ud}function qd(r){return r&Yd}function yf(r){return(r-(r&Yd))/Ud}var $d=1,Kd=2,Aa=4,Qd=8,mr=class{constructor(e,i,t){this.pos=e,this.delInfo=i,this.recover=t}get deleted(){return(this.delInfo&Qd)>0}get deletedBefore(){return(this.delInfo&($d|Aa))>0}get deletedAfter(){return(this.delInfo&(Kd|Aa))>0}get deletedAcross(){return(this.delInfo&Aa)>0}},ni=class r{constructor(e,i=!1){if(this.ranges=e,this.inverted=i,!e.length&&r.empty)return r.empty}recover(e){let i=0,t=qd(e);if(!this.inverted)for(let n=0;n<t;n++)i+=this.ranges[n*3+2]-this.ranges[n*3+1];return this.ranges[t*3]+i+yf(e)}mapResult(e,i=1){return this._map(e,i,!1)}map(e,i=1){return this._map(e,i,!0)}_map(e,i,t){let n=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[s+a],d=this.ranges[s+o],h=l+c;if(e<=h){let p=c?e==l?-1:e==h?1:i:i,f=l+n+(p<0?0:d);if(t)return f;let m=e==(i<0?l:h)?null:vf(s/3,e-l),v=e==l?Kd:e==h?$d:Aa;return(i<0?e!=l:e!=h)&&(v|=Qd),new mr(f,v,m)}n+=d-c}return t?e+n:new mr(e+n,0,null)}touches(e,i){let t=0,n=qd(i),a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?t:0);if(l>e)break;let c=this.ranges[s+a],d=l+c;if(e<=d&&s==n*3)return!0;t+=this.ranges[s+o]-c}return!1}forEach(e){let i=this.inverted?2:1,t=this.inverted?1:2;for(let n=0,a=0;n<this.ranges.length;n+=3){let o=this.ranges[n],s=o-(this.inverted?a:0),l=o+(this.inverted?0:a),c=this.ranges[n+i],d=this.ranges[n+t];e(s,s+c,l,l+d),a+=d-c}}invert(){return new r(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?r.empty:new r(e<0?[0,-e,0]:[0,0,e])}};ni.empty=new ni([]);var fr=class r{constructor(e=[],i,t=0,n=e.length){this.maps=e,this.mirror=i,this.from=t,this.to=n}slice(e=0,i=this.maps.length){return new r(this.maps,this.mirror,e,i)}copy(){return new r(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,i){this.to=this.maps.push(e),i!=null&&this.setMirror(this.maps.length-1,i)}appendMapping(e){for(let i=0,t=this.maps.length;i<e.maps.length;i++){let n=e.getMirror(i);this.appendMap(e.maps[i],n!=null&&n<i?t+n:void 0)}}getMirror(e){if(this.mirror){for(let i=0;i<this.mirror.length;i++)if(this.mirror[i]==e)return this.mirror[i+(i%2?-1:1)]}}setMirror(e,i){this.mirror||(this.mirror=[]),this.mirror.push(e,i)}appendMappingInverted(e){for(let i=e.maps.length-1,t=this.maps.length+e.maps.length;i>=0;i--){let n=e.getMirror(i);this.appendMap(e.maps[i].invert(),n!=null&&n>i?t-n-1:void 0)}}invert(){let e=new r;return e.appendMappingInverted(this),e}map(e,i=1){if(this.mirror)return this._map(e,i,!0);for(let t=this.from;t<this.to;t++)e=this.maps[t].map(e,i);return e}mapResult(e,i=1){return this._map(e,i,!1)}_map(e,i,t){let n=0;for(let a=this.from;a<this.to;a++){let o=this.maps[a],s=o.mapResult(e,i);if(s.recover!=null){let l=this.getMirror(a);if(l!=null&&l>a&&l<this.to){a=l,e=this.maps[l].recover(s.recover);continue}}n|=s.delInfo,e=s.pos}return t?e:new mr(e,n,null)}},ps=Object.create(null),Oe=class{getMap(){return ni.empty}merge(e){return null}static fromJSON(e,i){if(!i||!i.stepType)throw new RangeError("Invalid input for Step.fromJSON");let t=ps[i.stepType];if(!t)throw new RangeError(`No step type ${i.stepType} defined`);return t.fromJSON(e,i)}static jsonID(e,i){if(e in ps)throw new RangeError("Duplicate use of step JSON ID "+e);return ps[e]=i,i.prototype.jsonID=e,i}},Ve=class r{constructor(e,i){this.doc=e,this.failed=i}static ok(e){return new r(e,null)}static fail(e){return new r(null,e)}static fromReplace(e,i,t,n){try{return r.ok(e.replace(i,t,n))}catch(a){if(a instanceof Gi)return r.fail(a.message);throw a}}};function bs(r,e,i){let t=[];for(let n=0;n<r.childCount;n++){let a=r.child(n);a.content.size&&(a=a.copy(bs(a.content,e,a))),a.isInline&&(a=e(a,i,n)),t.push(a)}return k.fromArray(t)}var gr=class r extends Oe{constructor(e,i,t){super(),this.from=e,this.to=i,this.mark=t}apply(e){let i=e.slice(this.from,this.to),t=e.resolve(this.from),n=t.node(t.sharedDepth(this.to)),a=new I(bs(i.content,(o,s)=>!o.isAtom||!s.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),n),i.openStart,i.openEnd);return Ve.fromReplace(e,this.from,this.to,a)}invert(){return new Zi(this.from,this.to,this.mark)}map(e){let i=e.mapResult(this.from,1),t=e.mapResult(this.to,-1);return i.deleted&&t.deleted||i.pos>=t.pos?null:new r(i.pos,t.pos,this.mark)}merge(e){return e instanceof r&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new r(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new r(i.from,i.to,e.markFromJSON(i.mark))}};Oe.jsonID("addMark",gr);var Zi=class r extends Oe{constructor(e,i,t){super(),this.from=e,this.to=i,this.mark=t}apply(e){let i=e.slice(this.from,this.to),t=new I(bs(i.content,n=>n.mark(this.mark.removeFromSet(n.marks)),e),i.openStart,i.openEnd);return Ve.fromReplace(e,this.from,this.to,t)}invert(){return new gr(this.from,this.to,this.mark)}map(e){let i=e.mapResult(this.from,1),t=e.mapResult(this.to,-1);return i.deleted&&t.deleted||i.pos>=t.pos?null:new r(i.pos,t.pos,this.mark)}merge(e){return e instanceof r&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new r(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new r(i.from,i.to,e.markFromJSON(i.mark))}};Oe.jsonID("removeMark",Zi);var br=class r extends Oe{constructor(e,i){super(),this.pos=e,this.mark=i}apply(e){let i=e.nodeAt(this.pos);if(!i)return Ve.fail("No node at mark step's position");let t=i.type.create(i.attrs,null,this.mark.addToSet(i.marks));return Ve.fromReplace(e,this.pos,this.pos+1,new I(k.from(t),0,i.isLeaf?0:1))}invert(e){let i=e.nodeAt(this.pos);if(i){let t=this.mark.addToSet(i.marks);if(t.length==i.marks.length){for(let n=0;n<i.marks.length;n++)if(!i.marks[n].isInSet(t))return new r(this.pos,i.marks[n]);return new r(this.pos,this.mark)}}return new _r(this.pos,this.mark)}map(e){let i=e.mapResult(this.pos,1);return i.deletedAfter?null:new r(i.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,i){if(typeof i.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new r(i.pos,e.markFromJSON(i.mark))}};Oe.jsonID("addNodeMark",br);var _r=class r extends Oe{constructor(e,i){super(),this.pos=e,this.mark=i}apply(e){let i=e.nodeAt(this.pos);if(!i)return Ve.fail("No node at mark step's position");let t=i.type.create(i.attrs,null,this.mark.removeFromSet(i.marks));return Ve.fromReplace(e,this.pos,this.pos+1,new I(k.from(t),0,i.isLeaf?0:1))}invert(e){let i=e.nodeAt(this.pos);return!i||!this.mark.isInSet(i.marks)?this:new br(this.pos,this.mark)}map(e){let i=e.mapResult(this.pos,1);return i.deletedAfter?null:new r(i.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,i){if(typeof i.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new r(i.pos,e.markFromJSON(i.mark))}};Oe.jsonID("removeNodeMark",_r);var pt=class r extends Oe{constructor(e,i,t,n=!1){super(),this.from=e,this.to=i,this.slice=t,this.structure=n}apply(e){return this.structure&&fs(e,this.from,this.to)?Ve.fail("Structure replace would overwrite content"):Ve.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ni([this.from,this.to-this.from,this.slice.size])}invert(e){return new r(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let i=e.mapResult(this.from,1),t=e.mapResult(this.to,-1);return i.deletedAcross&&t.deletedAcross?null:new r(i.pos,Math.max(i.pos,t.pos),this.slice)}merge(e){if(!(e instanceof r)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let i=this.slice.size+e.slice.size==0?I.empty:new I(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new r(this.from,this.to+(e.to-e.from),i,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let i=this.slice.size+e.slice.size==0?I.empty:new I(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new r(e.from,this.to,i,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new r(i.from,i.to,I.fromJSON(e,i.slice),!!i.structure)}};Oe.jsonID("replace",pt);var Fe=class r extends Oe{constructor(e,i,t,n,a,o,s=!1){super(),this.from=e,this.to=i,this.gapFrom=t,this.gapTo=n,this.slice=a,this.insert=o,this.structure=s}apply(e){if(this.structure&&(fs(e,this.from,this.gapFrom)||fs(e,this.gapTo,this.to)))return Ve.fail("Structure gap-replace would overwrite content");let i=e.slice(this.gapFrom,this.gapTo);if(i.openStart||i.openEnd)return Ve.fail("Gap is not a flat range");let t=this.slice.insertAt(this.insert,i.content);return t?Ve.fromReplace(e,this.from,this.to,t):Ve.fail("Content does not fit in gap")}getMap(){return new ni([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let i=this.gapTo-this.gapFrom;return new r(this.from,this.from+this.slice.size+i,this.from+this.insert,this.from+this.insert+i,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let i=e.mapResult(this.from,1),t=e.mapResult(this.to,-1),n=this.from==this.gapFrom?i.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?t.pos:e.map(this.gapTo,1);return i.deletedAcross&&t.deletedAcross||n<i.pos||a>t.pos?null:new r(i.pos,t.pos,n,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,i){if(typeof i.from!="number"||typeof i.to!="number"||typeof i.gapFrom!="number"||typeof i.gapTo!="number"||typeof i.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new r(i.from,i.to,i.gapFrom,i.gapTo,I.fromJSON(e,i.slice),i.insert,!!i.structure)}};Oe.jsonID("replaceAround",Fe);function fs(r,e,i){let t=r.resolve(e),n=i-e,a=t.depth;for(;n>0&&a>0&&t.indexAfter(a)==t.node(a).childCount;)a--,n--;if(n>0){let o=t.node(a).maybeChild(t.indexAfter(a));for(;n>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,n--}}return!1}function xf(r,e,i,t){let n=[],a=[],o,s;r.doc.nodesBetween(e,i,(l,c,d)=>{if(!l.isInline)return;let h=l.marks;if(!t.isInSet(h)&&d.type.allowsMarkType(t.type)){let p=Math.max(c,e),f=Math.min(c+l.nodeSize,i),m=t.addToSet(h);for(let v=0;v<h.length;v++)h[v].isInSet(m)||(o&&o.to==p&&o.mark.eq(h[v])?o.to=f:n.push(o=new Zi(p,f,h[v])));s&&s.to==p?s.to=f:a.push(s=new gr(p,f,t))}}),n.forEach(l=>r.step(l)),a.forEach(l=>r.step(l))}function wf(r,e,i,t){let n=[],a=0;r.doc.nodesBetween(e,i,(o,s)=>{if(!o.isInline)return;a++;let l=null;if(t instanceof hr){let c=o.marks,d;for(;d=t.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else t?t.isInSet(o.marks)&&(l=[t]):l=o.marks;if(l&&l.length){let c=Math.min(s+o.nodeSize,i);for(let d=0;d<l.length;d++){let h=l[d],p;for(let f=0;f<n.length;f++){let m=n[f];m.step==a-1&&h.eq(n[f].style)&&(p=m)}p?(p.to=c,p.step=a):n.push({style:h,from:Math.max(s,e),to:c,step:a})}}}),n.forEach(o=>r.step(new Zi(o.from,o.to,o.style)))}function Gd(r,e,i,t=i.contentMatch,n=!0){let a=r.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<a.childCount;l++){let c=a.child(l),d=s+c.nodeSize,h=t.matchType(c.type);if(!h)o.push(new pt(s,d,I.empty));else{t=h;for(let p=0;p<c.marks.length;p++)i.allowsMarkType(c.marks[p].type)||r.step(new Zi(s,d,c.marks[p]));if(n&&c.isText&&i.whitespace!="pre"){let p,f=/\r?\n|\r/g,m;for(;p=f.exec(c.text);)m||(m=new I(k.from(i.schema.text(" ",i.allowedMarks(c.marks))),0,0)),o.push(new pt(s+p.index,s+p.index+p[0].length,m))}}s=d}if(!t.validEnd){let l=t.fillBefore(k.empty,!0);r.replace(s,s,new I(l,0,0))}for(let l=o.length-1;l>=0;l--)r.step(o[l])}function Cf(r,e,i){return(e==0||r.canReplace(e,r.childCount))&&(i==r.childCount||r.canReplace(0,i))}function en(r){let i=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let t=r.depth;;--t){let n=r.$from.node(t),a=r.$from.index(t),o=r.$to.indexAfter(t);if(t<r.depth&&n.canReplace(a,o,i))return t;if(t==0||n.type.spec.isolating||!Cf(n,a,o))break}return null}function kf(r,e,i){let{$from:t,$to:n,depth:a}=e,o=t.before(a+1),s=n.after(a+1),l=o,c=s,d=k.empty,h=0;for(let m=a,v=!1;m>i;m--)v||t.index(m)>0?(v=!0,d=k.from(t.node(m).copy(d)),h++):l--;let p=k.empty,f=0;for(let m=a,v=!1;m>i;m--)v||n.after(m+1)<n.end(m)?(v=!0,p=k.from(n.node(m).copy(p)),f++):c++;r.step(new Fe(l,c,o,s,new I(d.append(p),h,f),d.size-h,!0))}function Tn(r,e,i=null,t=r){let n=Df(r,e),a=n&&If(t,e);return a?n.map(Wd).concat({type:e,attrs:i}).concat(a.map(Wd)):null}function Wd(r){return{type:r,attrs:null}}function Df(r,e){let{parent:i,startIndex:t,endIndex:n}=r,a=i.contentMatchAt(t).findWrapping(e);if(!a)return null;let o=a.length?a[0]:e;return i.canReplaceWith(t,n,o)?a:null}function If(r,e){let{parent:i,startIndex:t,endIndex:n}=r,a=i.child(t),o=e.contentMatch.findWrapping(a.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=t;l&&c<n;c++)l=l.matchType(i.child(c).type);return!l||!l.validEnd?null:o}function Sf(r,e,i){let t=k.empty;for(let o=i.length-1;o>=0;o--){if(t.size){let s=i[o].type.contentMatch.matchFragment(t);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}t=k.from(i[o].type.create(i[o].attrs,t))}let n=e.start,a=e.end;r.step(new Fe(n,a,n,a,new I(t,0,0),i.length,!0))}function Ef(r,e,i,t,n){if(!t.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=r.steps.length;r.doc.nodesBetween(e,i,(o,s)=>{let l=typeof n=="function"?n(o):n;if(o.isTextblock&&!o.hasMarkup(t,l)&&Af(r.doc,r.mapping.slice(a).map(s),t)){let c=null;if(t.schema.linebreakReplacement){let f=t.whitespace=="pre",m=!!t.contentMatch.matchType(t.schema.linebreakReplacement);f&&!m?c=!1:!f&&m&&(c=!0)}c===!1&&Tf(r,o,s,a),Gd(r,r.mapping.slice(a).map(s,1),t,void 0,c===null);let d=r.mapping.slice(a),h=d.map(s,1),p=d.map(s+o.nodeSize,1);return r.step(new Fe(h,p,h+1,p-1,new I(k.from(t.create(l,null,o.marks)),0,0),1,!0)),c===!0&&Mf(r,o,s,a),!1}})}function Mf(r,e,i,t){e.forEach((n,a)=>{if(n.isText){let o,s=/\r?\n|\r/g;for(;o=s.exec(n.text);){let l=r.mapping.slice(t).map(i+1+a+o.index);r.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Tf(r,e,i,t){e.forEach((n,a)=>{if(n.type==n.type.schema.linebreakReplacement){let o=r.mapping.slice(t).map(i+1+a);r.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Af(r,e,i){let t=r.resolve(e),n=t.index();return t.parent.canReplaceWith(n,n+1,i)}function Rf(r,e,i,t,n){let a=r.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");i||(i=a.type);let o=i.create(t,null,n||a.marks);if(a.isLeaf)return r.replaceWith(e,e+a.nodeSize,o);if(!i.validContent(a.content))throw new RangeError("Invalid content for node type "+i.name);r.step(new Fe(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new I(k.from(o),0,0),1,!0))}function Di(r,e,i=1,t){let n=r.resolve(e),a=n.depth-i,o=t&&t[t.length-1]||n.parent;if(a<0||n.parent.type.spec.isolating||!n.parent.canReplace(n.index(),n.parent.childCount)||!o.type.validContent(n.parent.content.cutByIndex(n.index(),n.parent.childCount)))return!1;for(let c=n.depth-1,d=i-2;c>a;c--,d--){let h=n.node(c),p=n.index(c);if(h.type.spec.isolating)return!1;let f=h.content.cutByIndex(p,h.childCount),m=t&&t[d+1];m&&(f=f.replaceChild(0,m.type.create(m.attrs)));let v=t&&t[d]||h;if(!h.canReplace(p+1,h.childCount)||!v.type.validContent(f))return!1}let s=n.indexAfter(a),l=t&&t[0];return n.node(a).canReplaceWith(s,s,l?l.type:n.node(a+1).type)}function Of(r,e,i=1,t){let n=r.doc.resolve(e),a=k.empty,o=k.empty;for(let s=n.depth,l=n.depth-i,c=i-1;s>l;s--,c--){a=k.from(n.node(s).copy(a));let d=t&&t[c];o=k.from(d?d.type.create(d.attrs,o):n.node(s).copy(o))}r.step(new pt(e,e,new I(a.append(o),i,i),!0))}function tn(r,e){let i=r.resolve(e),t=i.index();return Ff(i.nodeBefore,i.nodeAfter)&&i.parent.canReplace(t,t+1)}function Ff(r,e){return!!(r&&e&&!r.isLeaf&&r.canAppend(e))}function Nf(r,e,i){let t=new pt(e-i,e+i,I.empty,!0);r.step(t)}function Pf(r,e,i){let t=r.resolve(e);if(t.parent.canReplaceWith(t.index(),t.index(),i))return e;if(t.parentOffset==0)for(let n=t.depth-1;n>=0;n--){let a=t.index(n);if(t.node(n).canReplaceWith(a,a,i))return t.before(n+1);if(a>0)return null}if(t.parentOffset==t.parent.content.size)for(let n=t.depth-1;n>=0;n--){let a=t.indexAfter(n);if(t.node(n).canReplaceWith(a,a,i))return t.after(n+1);if(a<t.node(n).childCount)return null}return null}function Jd(r,e,i){let t=r.resolve(e);if(!i.content.size)return e;let n=i.content;for(let a=0;a<i.openStart;a++)n=n.firstChild.content;for(let a=1;a<=(i.openStart==0&&i.size?2:1);a++)for(let o=t.depth;o>=0;o--){let s=o==t.depth?0:t.pos<=(t.start(o+1)+t.end(o+1))/2?-1:1,l=t.index(o)+(s>0?1:0),c=t.node(o),d=!1;if(a==1)d=c.canReplace(l,l,n);else{let h=c.contentMatchAt(l).findWrapping(n.firstChild.type);d=h&&c.canReplaceWith(l,l,h[0])}if(d)return s==0?t.pos:s<0?t.before(o+1):t.after(o+1)}return null}function Na(r,e,i=e,t=I.empty){if(e==i&&!t.size)return null;let n=r.resolve(e),a=r.resolve(i);return Xd(n,a,t)?new pt(e,i,t):new gs(n,a,t).fit()}function Xd(r,e,i){return!i.openStart&&!i.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),i.content)}var gs=class{constructor(e,i,t){this.$from=e,this.$to=i,this.unplaced=t,this.frontier=[],this.placed=k.empty;for(let n=0;n<=e.depth;n++){let a=e.node(n);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(n))})}for(let n=e.depth;n>0;n--)this.placed=k.from(e.node(n).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),i=this.placed.size-this.depth-this.$from.depth,t=this.$from,n=this.close(e<0?this.$to:t.doc.resolve(e));if(!n)return null;let a=this.placed,o=t.depth,s=n.depth;for(;o&&s&&a.childCount==1;)a=a.firstChild.content,o--,s--;let l=new I(a,o,s);return e>-1?new Fe(t.pos,e,this.$to.pos,this.$to.end(),l,i):l.size||t.pos!=this.$to.pos?new pt(t.pos,n.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let i=this.unplaced.content,t=0,n=this.unplaced.openEnd;t<e;t++){let a=i.firstChild;if(i.childCount>1&&(n=0),a.type.spec.isolating&&n<=t){e=t;break}i=a.content}for(let i=1;i<=2;i++)for(let t=i==1?e:this.unplaced.openStart;t>=0;t--){let n,a=null;t?(a=us(this.unplaced.content,t-1).firstChild,n=a.content):n=this.unplaced.content;let o=n.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:c}=this.frontier[s],d,h=null;if(i==1&&(o?c.matchType(o.type)||(h=c.fillBefore(k.from(o),!1)):a&&l.compatibleContent(a.type)))return{sliceDepth:t,frontierDepth:s,parent:a,inject:h};if(i==2&&o&&(d=c.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:s,parent:a,wrap:d};if(a&&c.matchType(a.type))break}}}openMore(){let{content:e,openStart:i,openEnd:t}=this.unplaced,n=us(e,i);return!n.childCount||n.firstChild.isLeaf?!1:(this.unplaced=new I(e,i+1,Math.max(t,n.size+i>=e.size-t?i+1:0)),!0)}dropNode(){let{content:e,openStart:i,openEnd:t}=this.unplaced,n=us(e,i);if(n.childCount<=1&&i>0){let a=e.size-i<=i+n.size;this.unplaced=new I(pr(e,i-1,1),i-1,a?i-1:t)}else this.unplaced=new I(pr(e,i,1),i,t)}placeNodes({sliceDepth:e,frontierDepth:i,parent:t,inject:n,wrap:a}){for(;this.depth>i;)this.closeFrontierNode();if(a)for(let v=0;v<a.length;v++)this.openFrontierNode(a[v]);let o=this.unplaced,s=t?t.content:o.content,l=o.openStart-e,c=0,d=[],{match:h,type:p}=this.frontier[i];if(n){for(let v=0;v<n.childCount;v++)d.push(n.child(v));h=h.matchFragment(n)}let f=s.size+e-(o.content.size-o.openEnd);for(;c<s.childCount;){let v=s.child(c),y=h.matchType(v.type);if(!y)break;c++,(c>1||l==0||v.content.size)&&(h=y,d.push(Zd(v.mark(p.allowedMarks(v.marks)),c==1?l:0,c==s.childCount?f:-1)))}let m=c==s.childCount;m||(f=-1),this.placed=ur(this.placed,i,k.from(d)),this.frontier[i].match=h,m&&f<0&&t&&t.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,y=s;v<f;v++){let D=y.lastChild;this.frontier.push({type:D.type,match:D.contentMatchAt(D.childCount)}),y=D.content}this.unplaced=m?e==0?I.empty:new I(pr(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new I(pr(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],i;if(!e.type.isTextblock||!ms(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(i=this.findCloseLevel(this.$to))&&i.depth==this.depth)return-1;let{depth:t}=this.$to,n=this.$to.after(t);for(;t>1&&n==this.$to.end(--t);)++n;return n}findCloseLevel(e){e:for(let i=Math.min(this.depth,e.depth);i>=0;i--){let{match:t,type:n}=this.frontier[i],a=i<e.depth&&e.end(i+1)==e.pos+(e.depth-(i+1)),o=ms(e,i,n,t,a);if(o){for(let s=i-1;s>=0;s--){let{match:l,type:c}=this.frontier[s],d=ms(e,s,c,l,!0);if(!d||d.childCount)continue e}return{depth:i,fit:o,move:a?e.doc.resolve(e.after(i+1)):e}}}}close(e){let i=this.findCloseLevel(e);if(!i)return null;for(;this.depth>i.depth;)this.closeFrontierNode();i.fit.childCount&&(this.placed=ur(this.placed,i.depth,i.fit)),e=i.move;for(let t=i.depth+1;t<=e.depth;t++){let n=e.node(t),a=n.type.contentMatch.fillBefore(n.content,!0,e.index(t));this.openFrontierNode(n.type,n.attrs,a)}return e}openFrontierNode(e,i=null,t){let n=this.frontier[this.depth];n.match=n.match.matchType(e),this.placed=ur(this.placed,this.depth,k.from(e.create(i,t))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let i=this.frontier.pop().match.fillBefore(k.empty,!0);i.childCount&&(this.placed=ur(this.placed,this.frontier.length,i))}};function pr(r,e,i){return e==0?r.cutByIndex(i,r.childCount):r.replaceChild(0,r.firstChild.copy(pr(r.firstChild.content,e-1,i)))}function ur(r,e,i){return e==0?r.append(i):r.replaceChild(r.childCount-1,r.lastChild.copy(ur(r.lastChild.content,e-1,i)))}function us(r,e){for(let i=0;i<e;i++)r=r.firstChild.content;return r}function Zd(r,e,i){if(e<=0)return r;let t=r.content;return e>1&&(t=t.replaceChild(0,Zd(t.firstChild,e-1,t.childCount==1?i-1:0))),e>0&&(t=r.type.contentMatch.fillBefore(t).append(t),i<=0&&(t=t.append(r.type.contentMatch.matchFragment(t).fillBefore(k.empty,!0)))),r.copy(t)}function ms(r,e,i,t,n){let a=r.node(e),o=n?r.indexAfter(e):r.index(e);if(o==a.childCount&&!i.compatibleContent(a.type))return null;let s=t.fillBefore(a.content,!0,o);return s&&!Lf(i,a.content,o)?s:null}function Lf(r,e,i){for(let t=i;t<e.childCount;t++)if(!r.allowsMarks(e.child(t).marks))return!0;return!1}function Vf(r){return r.spec.defining||r.spec.definingForContent}function Bf(r,e,i,t){if(!t.size)return r.deleteRange(e,i);let n=r.doc.resolve(e),a=r.doc.resolve(i);if(Xd(n,a,t))return r.step(new pt(e,i,t));let o=th(n,r.doc.resolve(i));o[o.length-1]==0&&o.pop();let s=-(n.depth+1);o.unshift(s);for(let p=n.depth,f=n.pos-1;p>0;p--,f--){let m=n.node(p).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(p)>-1?s=p:n.before(p)==f&&o.splice(1,0,-p)}let l=o.indexOf(s),c=[],d=t.openStart;for(let p=t.content,f=0;;f++){let m=p.firstChild;if(c.push(m),f==t.openStart)break;p=m.content}for(let p=d-1;p>=0;p--){let f=c[p],m=Vf(f.type);if(m&&!f.sameMarkup(n.node(Math.abs(s)-1)))d=p;else if(m||!f.type.isTextblock)break}for(let p=t.openStart;p>=0;p--){let f=(p+d+1)%(t.openStart+1),m=c[f];if(m)for(let v=0;v<o.length;v++){let y=o[(v+l)%o.length],D=!0;y<0&&(D=!1,y=-y);let be=n.node(y-1),mi=n.index(y-1);if(be.canReplaceWith(mi,mi,m.type,m.marks))return r.replace(n.before(y),D?a.after(y):i,new I(eh(t.content,0,t.openStart,f),f,t.openEnd))}}let h=r.steps.length;for(let p=o.length-1;p>=0&&(r.replace(e,i,t),!(r.steps.length>h));p--){let f=o[p];f<0||(e=n.before(f),i=a.after(f))}}function eh(r,e,i,t,n){if(e<i){let a=r.firstChild;r=r.replaceChild(0,a.copy(eh(a.content,e+1,i,t,a)))}if(e>t){let a=n.contentMatchAt(0),o=a.fillBefore(r).append(r);r=o.append(a.matchFragment(o).fillBefore(k.empty,!0))}return r}function zf(r,e,i,t){if(!t.isInline&&e==i&&r.doc.resolve(e).parent.content.size){let n=Pf(r.doc,e,t.type);n!=null&&(e=i=n)}r.replaceRange(e,i,new I(k.from(t),0,0))}function Hf(r,e,i){let t=r.doc.resolve(e),n=r.doc.resolve(i),a=th(t,n);for(let o=0;o<a.length;o++){let s=a[o],l=o==a.length-1;if(l&&s==0||t.node(s).type.contentMatch.validEnd)return r.delete(t.start(s),n.end(s));if(s>0&&(l||t.node(s-1).canReplace(t.index(s-1),n.indexAfter(s-1))))return r.delete(t.before(s),n.after(s))}for(let o=1;o<=t.depth&&o<=n.depth;o++)if(e-t.start(o)==t.depth-o&&i>t.end(o)&&n.end(o)-i!=n.depth-o)return r.delete(t.before(o),i);r.delete(e,i)}function th(r,e){let i=[],t=Math.min(r.depth,e.depth);for(let n=t;n>=0;n--){let a=r.start(n);if(a<r.pos-(r.depth-n)||e.end(n)>e.pos+(e.depth-n)||r.node(n).type.spec.isolating||e.node(n).type.spec.isolating)break;(a==e.start(n)||n==r.depth&&n==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&n&&e.start(n-1)==a-1)&&i.push(n)}return i}var Ra=class r extends Oe{constructor(e,i,t){super(),this.pos=e,this.attr=i,this.value=t}apply(e){let i=e.nodeAt(this.pos);if(!i)return Ve.fail("No node at attribute step's position");let t=Object.create(null);for(let a in i.attrs)t[a]=i.attrs[a];t[this.attr]=this.value;let n=i.type.create(t,null,i.marks);return Ve.fromReplace(e,this.pos,this.pos+1,new I(k.from(n),0,i.isLeaf?0:1))}getMap(){return ni.empty}invert(e){return new r(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let i=e.mapResult(this.pos,1);return i.deletedAfter?null:new r(i.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,i){if(typeof i.pos!="number"||typeof i.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new r(i.pos,i.attr,i.value)}};Oe.jsonID("attr",Ra);var Oa=class r extends Oe{constructor(e,i){super(),this.attr=e,this.value=i}apply(e){let i=Object.create(null);for(let n in e.attrs)i[n]=e.attrs[n];i[this.attr]=this.value;let t=e.type.create(i,e.content,e.marks);return Ve.ok(t)}getMap(){return ni.empty}invert(e){return new r(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,i){if(typeof i.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new r(i.attr,i.value)}};Oe.jsonID("docAttr",Oa);var Mn=class extends Error{};Mn=function r(e){let i=Error.call(this,e);return i.__proto__=r.prototype,i};Mn.prototype=Object.create(Error.prototype);Mn.prototype.constructor=Mn;Mn.prototype.name="TransformError";var Fa=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new fr}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let i=this.maybeStep(e);if(i.failed)throw new Mn(i.failed);return this}maybeStep(e){let i=e.apply(this.doc);return i.failed||this.addStep(e,i.doc),i}get docChanged(){return this.steps.length>0}addStep(e,i){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=i}replace(e,i=e,t=I.empty){let n=Na(this.doc,e,i,t);return n&&this.step(n),this}replaceWith(e,i,t){return this.replace(e,i,new I(k.from(t),0,0))}delete(e,i){return this.replace(e,i,I.empty)}insert(e,i){return this.replaceWith(e,e,i)}replaceRange(e,i,t){return Bf(this,e,i,t),this}replaceRangeWith(e,i,t){return zf(this,e,i,t),this}deleteRange(e,i){return Hf(this,e,i),this}lift(e,i){return kf(this,e,i),this}join(e,i=1){return Nf(this,e,i),this}wrap(e,i){return Sf(this,e,i),this}setBlockType(e,i=e,t,n=null){return Ef(this,e,i,t,n),this}setNodeMarkup(e,i,t=null,n){return Rf(this,e,i,t,n),this}setNodeAttribute(e,i,t){return this.step(new Ra(e,i,t)),this}setDocAttribute(e,i){return this.step(new Oa(e,i)),this}addNodeMark(e,i){return this.step(new br(e,i)),this}removeNodeMark(e,i){if(!(i instanceof he)){let t=this.doc.nodeAt(e);if(!t)throw new RangeError("No node at position "+e);if(i=i.isInSet(t.marks),!i)return this}return this.step(new _r(e,i)),this}split(e,i=1,t){return Of(this,e,i,t),this}addMark(e,i,t){return xf(this,e,i,t),this}removeMark(e,i,t){return wf(this,e,i,t),this}clearIncompatible(e,i,t){return Gd(this,e,i,t),this}};var _s=Object.create(null),Q=class{constructor(e,i,t){this.$anchor=e,this.$head=i,this.ranges=t||[new ys(e.min(i),e.max(i))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let i=0;i<e.length;i++)if(e[i].$from.pos!=e[i].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,i=I.empty){let t=i.content.lastChild,n=null;for(let s=0;s<i.openEnd;s++)n=t,t=t.lastChild;let a=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:l,$to:c}=o[s],d=e.mapping.slice(a);e.replaceRange(d.map(l.pos),d.map(c.pos),s?I.empty:i),s==0&&rh(e,a,(t?t.isInline:n&&n.isTextblock)?-1:1)}}replaceWith(e,i){let t=e.steps.length,n=this.ranges;for(let a=0;a<n.length;a++){let{$from:o,$to:s}=n[a],l=e.mapping.slice(t),c=l.map(o.pos),d=l.map(s.pos);a?e.deleteRange(c,d):(e.replaceRangeWith(c,d,i),rh(e,t,i.isInline?-1:1))}}static findFrom(e,i,t=!1){let n=e.parent.inlineContent?new ue(e):An(e.node(0),e.parent,e.pos,e.index(),i,t);if(n)return n;for(let a=e.depth-1;a>=0;a--){let o=i<0?An(e.node(0),e.node(a),e.before(a+1),e.index(a),i,t):An(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,i,t);if(o)return o}return null}static near(e,i=1){return this.findFrom(e,i)||this.findFrom(e,-i)||new ut(e.node(0))}static atStart(e){return An(e,e,0,0,1)||new ut(e)}static atEnd(e){return An(e,e,e.content.size,e.childCount,-1)||new ut(e)}static fromJSON(e,i){if(!i||!i.type)throw new RangeError("Invalid input for Selection.fromJSON");let t=_s[i.type];if(!t)throw new RangeError(`No selection type ${i.type} defined`);return t.fromJSON(e,i)}static jsonID(e,i){if(e in _s)throw new RangeError("Duplicate use of selection JSON ID "+e);return _s[e]=i,i.prototype.jsonID=e,i}getBookmark(){return ue.between(this.$anchor,this.$head).getBookmark()}};Q.prototype.visible=!0;var ys=class{constructor(e,i){this.$from=e,this.$to=i}},ih=!1;function nh(r){!ih&&!r.parent.inlineContent&&(ih=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}var ue=class r extends Q{constructor(e,i=e){nh(e),nh(i),super(e,i)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,i){let t=e.resolve(i.map(this.head));if(!t.parent.inlineContent)return Q.near(t);let n=e.resolve(i.map(this.anchor));return new r(n.parent.inlineContent?n:t,t)}replace(e,i=I.empty){if(super.replace(e,i),i==I.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof r&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new La(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,i){if(typeof i.anchor!="number"||typeof i.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new r(e.resolve(i.anchor),e.resolve(i.head))}static create(e,i,t=i){let n=e.resolve(i);return new this(n,t==i?n:e.resolve(t))}static between(e,i,t){let n=e.pos-i.pos;if((!t||n)&&(t=n>=0?1:-1),!i.parent.inlineContent){let a=Q.findFrom(i,t,!0)||Q.findFrom(i,-t,!0);if(a)i=a.$head;else return Q.near(i,t)}return e.parent.inlineContent||(n==0?e=i:(e=(Q.findFrom(e,-t,!0)||Q.findFrom(e,t,!0)).$anchor,e.pos<i.pos!=n<0&&(e=i))),new r(e,i)}};Q.jsonID("text",ue);var La=class r{constructor(e,i){this.anchor=e,this.head=i}map(e){return new r(e.map(this.anchor),e.map(this.head))}resolve(e){return ue.between(e.resolve(this.anchor),e.resolve(this.head))}},j=class r extends Q{constructor(e){let i=e.nodeAfter,t=e.node(0).resolve(e.pos+i.nodeSize);super(e,t),this.node=i}map(e,i){let{deleted:t,pos:n}=i.mapResult(this.anchor),a=e.resolve(n);return t?Q.near(a):new r(a)}content(){return new I(k.from(this.node),0,0)}eq(e){return e instanceof r&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new xs(this.anchor)}static fromJSON(e,i){if(typeof i.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new r(e.resolve(i.anchor))}static create(e,i){return new r(e.resolve(i))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};j.prototype.visible=!1;Q.jsonID("node",j);var xs=class r{constructor(e){this.anchor=e}map(e){let{deleted:i,pos:t}=e.mapResult(this.anchor);return i?new La(t,t):new r(t)}resolve(e){let i=e.resolve(this.anchor),t=i.nodeAfter;return t&&j.isSelectable(t)?new j(i):Q.near(i)}},ut=class r extends Q{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,i=I.empty){if(i==I.empty){e.delete(0,e.doc.content.size);let t=Q.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,i)}toJSON(){return{type:"all"}}static fromJSON(e){return new r(e)}map(e){return new r(e)}eq(e){return e instanceof r}getBookmark(){return jf}};Q.jsonID("all",ut);var jf={map(){return this},resolve(r){return new ut(r)}};function An(r,e,i,t,n,a=!1){if(e.inlineContent)return ue.create(r,i);for(let o=t-(n>0?0:1);n>0?o<e.childCount:o>=0;o+=n){let s=e.child(o);if(s.isAtom){if(!a&&j.isSelectable(s))return j.create(r,i-(n<0?s.nodeSize:0))}else{let l=An(r,s,i+n,n<0?s.childCount:0,n,a);if(l)return l}i+=s.nodeSize*n}return null}function rh(r,e,i){let t=r.steps.length-1;if(t<e)return;let n=r.steps[t];if(!(n instanceof pt||n instanceof Fe))return;let a=r.mapping.maps[t],o;a.forEach((s,l,c,d)=>{o==null&&(o=d)}),r.setSelection(Q.near(r.doc.resolve(o),i))}var ah=1,Pa=2,oh=4,ws=class extends Fa{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ah)&~Pa,this.storedMarks=null,this}get selectionSet(){return(this.updated&ah)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Pa,this}ensureMarks(e){return he.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Pa)>0}addStep(e,i){super.addStep(e,i),this.updated=this.updated&~Pa,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,i=!0){let t=this.selection;return i&&(e=e.mark(this.storedMarks||(t.empty?t.$from.marks():t.$from.marksAcross(t.$to)||he.none))),t.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,i,t){let n=this.doc.type.schema;if(i==null)return e?this.replaceSelectionWith(n.text(e),!0):this.deleteSelection();{if(t==null&&(t=i),t=t??i,!e)return this.deleteRange(i,t);let a=this.storedMarks;if(!a){let o=this.doc.resolve(i);a=t==i?o.marks():o.marksAcross(this.doc.resolve(t))}return this.replaceRangeWith(i,t,n.text(e,a)),this.selection.empty||this.setSelection(Q.near(this.selection.$to)),this}}setMeta(e,i){return this.meta[typeof e=="string"?e:e.key]=i,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=oh,this}get scrolledIntoView(){return(this.updated&oh)>0}};function sh(r,e){return!e||!r?r:r.bind(e)}var nn=class{constructor(e,i,t){this.name=e,this.init=sh(i.init,t),this.apply=sh(i.apply,t)}},qf=[new nn("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new nn("selection",{init(r,e){return r.selection||Q.atStart(e.doc)},apply(r){return r.selection}}),new nn("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,i,t){return t.selection.$cursor?r.storedMarks:null}}),new nn("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})],vr=class{constructor(e,i){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=qf.slice(),i&&i.forEach(t=>{if(this.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new nn(t.key,t.spec.state,t))})}},Va=class r{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,i=-1){for(let t=0;t<this.config.plugins.length;t++)if(t!=i){let n=this.config.plugins[t];if(n.spec.filterTransaction&&!n.spec.filterTransaction.call(n,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let i=[e],t=this.applyInner(e),n=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let l=n?n[o].n:0,c=n?n[o].state:this,d=l<i.length&&s.spec.appendTransaction.call(s,l?i.slice(l):i,c,t);if(d&&t.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!n){n=[];for(let h=0;h<this.config.plugins.length;h++)n.push(h<o?{state:t,n:i.length}:{state:this,n:0})}i.push(d),t=t.applyInner(d),a=!0}n&&(n[o]={state:t,n:i.length})}}if(!a)return{state:t,transactions:i}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let i=new r(this.config),t=this.config.fields;for(let n=0;n<t.length;n++){let a=t[n];i[a.name]=a.apply(e,this[a.name],this,i)}return i}get tr(){return new ws(this)}static create(e){let i=new vr(e.doc?e.doc.type.schema:e.schema,e.plugins),t=new r(i);for(let n=0;n<i.fields.length;n++)t[i.fields[n].name]=i.fields[n].init(e,t);return t}reconfigure(e){let i=new vr(this.schema,e.plugins),t=i.fields,n=new r(i);for(let a=0;a<t.length;a++){let o=t[a].name;n[o]=this.hasOwnProperty(o)?this[o]:t[a].init(e,n)}return n}toJSON(e){let i={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(i.storedMarks=this.storedMarks.map(t=>t.toJSON())),e&&typeof e=="object")for(let t in e){if(t=="doc"||t=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let n=e[t],a=n.spec.state;a&&a.toJSON&&(i[t]=a.toJSON.call(n,this[n.key]))}return i}static fromJSON(e,i,t){if(!i)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let n=new vr(e.schema,e.plugins),a=new r(n);return n.fields.forEach(o=>{if(o.name=="doc")a.doc=zt.fromJSON(e.schema,i.doc);else if(o.name=="selection")a.selection=Q.fromJSON(a.doc,i.selection);else if(o.name=="storedMarks")i.storedMarks&&(a.storedMarks=i.storedMarks.map(e.schema.markFromJSON));else{if(t)for(let s in t){let l=t[s],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(i,s)){a[o.name]=c.fromJSON.call(l,e,i[s],a);return}}a[o.name]=o.init(e,a)}}),a}};function lh(r,e,i){for(let t in r){let n=r[t];n instanceof Function?n=n.bind(e):t=="handleDOMEvents"&&(n=lh(n,e,{})),i[t]=n}return i}var We=class{constructor(e){this.spec=e,this.props={},e.props&&lh(e.props,this,this.props),this.key=e.key?e.key.key:ch("plugin")}getState(e){return e[this.key]}},vs=Object.create(null);function ch(r){return r in vs?r+"$"+ ++vs[r]:(vs[r]=0,r+"$")}var mt=class{constructor(e="key"){this.key=ch(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}};var Be=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},Cr=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e},Ss=null,ai=function(r,e,i){let t=Ss||(Ss=document.createRange());return t.setEnd(r,i??r.nodeValue.length),t.setStart(r,e||0),t},Wf=function(){Ss=null},dn=function(r,e,i,t){return i&&(dh(r,e,i,t,-1)||dh(r,e,i,t,1))},Yf=/^(img|br|input|textarea|hr)$/i;function dh(r,e,i,t,n){for(;;){if(r==i&&e==t)return!0;if(e==(n<0?0:Ht(r))){let a=r.parentNode;if(!a||a.nodeType!=1||Sr(r)||Yf.test(r.nodeName)||r.contentEditable=="false")return!1;e=Be(r)+(n<0?0:1),r=a}else if(r.nodeType==1){if(r=r.childNodes[e+(n<0?-1:0)],r.contentEditable=="false")return!1;e=n<0?Ht(r):0}else return!1}}function Ht(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Uf(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=Ht(r)}else if(r.parentNode&&!Sr(r))e=Be(r),r=r.parentNode;else return null}}function $f(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!Sr(r))e=Be(r)+1,r=r.parentNode;else return null}}function Kf(r,e,i){for(let t=e==0,n=e==Ht(r);t||n;){if(r==i)return!0;let a=Be(r);if(r=r.parentNode,!r)return!1;t=t&&a==0,n=n&&a==Ht(r)}}function Sr(r){let e;for(let i=r;i&&!(e=i.pmViewDesc);i=i.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}var Qa=function(r){return r.focusNode&&dn(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function rn(r,e){let i=document.createEvent("Event");return i.initEvent("keydown",!0,!0),i.keyCode=r,i.key=i.code=e,i}function Qf(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Gf(r,e,i){if(r.caretPositionFromPoint)try{let t=r.caretPositionFromPoint(e,i);if(t)return{node:t.offsetNode,offset:t.offset}}catch{}if(r.caretRangeFromPoint){let t=r.caretRangeFromPoint(e,i);if(t)return{node:t.startContainer,offset:t.startOffset}}}var jt=typeof navigator<"u"?navigator:null,hh=typeof document<"u"?document:null,Ai=jt&&jt.userAgent||"",Es=/Edge\/(\d+)/.exec(Ai),qh=/MSIE \d/.exec(Ai),Ms=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ai),it=!!(qh||Ms||Es),Mi=qh?document.documentMode:Ms?+Ms[1]:Es?+Es[1]:0,Ot=!it&&/gecko\/(\d+)/i.test(Ai);Ot&&+(/Firefox\/(\d+)/.exec(Ai)||[0,0])[1];var Ts=!it&&/Chrome\/(\d+)/.exec(Ai),$e=!!Ts,Jf=Ts?+Ts[1]:0,Qe=!it&&!!jt&&/Apple Computer/.test(jt.vendor),Pn=Qe&&(/Mobile\/\w+/.test(Ai)||!!jt&&jt.maxTouchPoints>2),Ct=Pn||(jt?/Mac/.test(jt.platform):!1),Xf=jt?/Win/.test(jt.platform):!1,Rt=/Android \d/.test(Ai),Er=!!hh&&"webkitFontSmoothing"in hh.documentElement.style,Zf=Er?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function eg(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function ri(r,e){return typeof r=="number"?r:r[e]}function tg(r){let e=r.getBoundingClientRect(),i=e.width/r.offsetWidth||1,t=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*i,top:e.top,bottom:e.top+r.clientHeight*t}}function ph(r,e,i){let t=r.someProp("scrollThreshold")||0,n=r.someProp("scrollMargin")||5,a=r.dom.ownerDocument;for(let o=i||r.dom;o;o=Cr(o)){if(o.nodeType!=1)continue;let s=o,l=s==a.body,c=l?eg(a):tg(s),d=0,h=0;if(e.top<c.top+ri(t,"top")?h=-(c.top-e.top+ri(n,"top")):e.bottom>c.bottom-ri(t,"bottom")&&(h=e.bottom-e.top>c.bottom-c.top?e.top+ri(n,"top")-c.top:e.bottom-c.bottom+ri(n,"bottom")),e.left<c.left+ri(t,"left")?d=-(c.left-e.left+ri(n,"left")):e.right>c.right-ri(t,"right")&&(d=e.right-c.right+ri(n,"right")),d||h)if(l)a.defaultView.scrollBy(d,h);else{let p=s.scrollLeft,f=s.scrollTop;h&&(s.scrollTop+=h),d&&(s.scrollLeft+=d);let m=s.scrollLeft-p,v=s.scrollTop-f;e={left:e.left-m,top:e.top-v,right:e.right-m,bottom:e.bottom-v}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function ig(r){let e=r.dom.getBoundingClientRect(),i=Math.max(0,e.top),t,n;for(let a=(e.left+e.right)/2,o=i+1;o<Math.min(innerHeight,e.bottom);o+=5){let s=r.root.elementFromPoint(a,o);if(!s||s==r.dom||!r.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=i-20){t=s,n=l.top;break}}return{refDOM:t,refTop:n,stack:Wh(r.dom)}}function Wh(r){let e=[],i=r.ownerDocument;for(let t=r;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),r!=i);t=Cr(t));return e}function ng({refDOM:r,refTop:e,stack:i}){let t=r?r.getBoundingClientRect().top:0;Yh(i,t==0?0:t-e)}function Yh(r,e){for(let i=0;i<r.length;i++){let{dom:t,top:n,left:a}=r[i];t.scrollTop!=n+e&&(t.scrollTop=n+e),t.scrollLeft!=a&&(t.scrollLeft=a)}}var Rn=null;function rg(r){if(r.setActive)return r.setActive();if(Rn)return r.focus(Rn);let e=Wh(r);r.focus(Rn==null?{get preventScroll(){return Rn={preventScroll:!0},!0}}:void 0),Rn||(Rn=!1,Yh(e,0))}function Uh(r,e){let i,t=2e8,n,a=0,o=e.top,s=e.top,l,c;for(let d=r.firstChild,h=0;d;d=d.nextSibling,h++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=ai(d).getClientRects();else continue;for(let f=0;f<p.length;f++){let m=p[f];if(m.top<=o&&m.bottom>=s){o=Math.max(m.bottom,o),s=Math.min(m.top,s);let v=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(v<t){i=d,t=v,n=v&&i.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,d.nodeType==1&&v&&(a=h+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=d,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!i&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(a=h+1)}}return!i&&l&&(i=l,n=c,t=0),i&&i.nodeType==3?ag(i,n):!i||t&&i.nodeType==1?{node:r,offset:a}:Uh(i,n)}function ag(r,e){let i=r.nodeValue.length,t=document.createRange();for(let n=0;n<i;n++){t.setEnd(r,n+1),t.setStart(r,n);let a=Ii(t,1);if(a.top!=a.bottom&&Us(e,a))return{node:r,offset:n+(e.left>=(a.left+a.right)/2?1:0)}}return{node:r,offset:0}}function Us(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function og(r,e){let i=r.parentNode;return i&&/^li$/i.test(i.nodeName)&&e.left<r.getBoundingClientRect().left?i:r}function sg(r,e,i){let{node:t,offset:n}=Uh(e,i),a=-1;if(t.nodeType==1&&!t.firstChild){let o=t.getBoundingClientRect();a=o.left!=o.right&&i.left>(o.left+o.right)/2?1:-1}return r.docView.posFromDOM(t,n,a)}function lg(r,e,i,t){let n=-1;for(let a=e,o=!1;a!=r.dom;){let s=r.docView.nearestDesc(a,!0);if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)){let l=s.dom.getBoundingClientRect();if(s.node.isBlock&&s.parent&&(!o&&l.left>t.left||l.top>t.top?n=s.posBefore:(!o&&l.right<t.left||l.bottom<t.top)&&(n=s.posAfter),o=!0),!s.contentDOM&&n<0&&!s.node.isText)return(s.node.isBlock?t.top<(l.top+l.bottom)/2:t.left<(l.left+l.right)/2)?s.posBefore:s.posAfter}a=s.dom.parentNode}return n>-1?n:r.docView.posFromDOM(e,i,-1)}function $h(r,e,i){let t=r.childNodes.length;if(t&&i.top<i.bottom)for(let n=Math.max(0,Math.min(t-1,Math.floor(t*(e.top-i.top)/(i.bottom-i.top))-2)),a=n;;){let o=r.childNodes[a];if(o.nodeType==1){let s=o.getClientRects();for(let l=0;l<s.length;l++){let c=s[l];if(Us(e,c))return $h(o,e,c)}}if((a=(a+1)%t)==n)break}return r}function cg(r,e){let i=r.dom.ownerDocument,t,n=0,a=Gf(i,e.left,e.top);a&&({node:t,offset:n}=a);let o=(r.root.elementFromPoint?r.root:i).elementFromPoint(e.left,e.top),s;if(!o||!r.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=r.dom.getBoundingClientRect();if(!Us(e,c)||(o=$h(r.dom,e,c),!o))return null}if(Qe)for(let c=o;t&&c;c=Cr(c))c.draggable&&(t=void 0);if(o=og(o,e),t){if(Ot&&t.nodeType==1&&(n=Math.min(n,t.childNodes.length),n<t.childNodes.length)){let d=t.childNodes[n],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&n++}let c;Er&&n&&t.nodeType==1&&(c=t.childNodes[n-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&n--,t==r.dom&&n==t.childNodes.length-1&&t.lastChild.nodeType==1&&e.top>t.lastChild.getBoundingClientRect().bottom?s=r.state.doc.content.size:(n==0||t.nodeType!=1||t.childNodes[n-1].nodeName!="BR")&&(s=lg(r,t,n,e))}s==null&&(s=sg(r,o,e));let l=r.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function uh(r){return r.top<r.bottom||r.left<r.right}function Ii(r,e){let i=r.getClientRects();if(i.length){let t=i[e<0?0:i.length-1];if(uh(t))return t}return Array.prototype.find.call(i,uh)||r.getBoundingClientRect()}var dg=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Kh(r,e,i){let{node:t,offset:n,atom:a}=r.docView.domFromPos(e,i<0?-1:1),o=Er||Ot;if(t.nodeType==3)if(o&&(dg.test(t.nodeValue)||(i<0?!n:n==t.nodeValue.length))){let l=Ii(ai(t,n,n),i);if(Ot&&n&&/\s/.test(t.nodeValue[n-1])&&n<t.nodeValue.length){let c=Ii(ai(t,n-1,n-1),-1);if(c.top==l.top){let d=Ii(ai(t,n,n+1),-1);if(d.top!=l.top)return yr(d,d.left<c.left)}}return l}else{let l=n,c=n,d=i<0?1:-1;return i<0&&!n?(c++,d=-1):i>=0&&n==t.nodeValue.length?(l--,d=1):i<0?l--:c++,yr(Ii(ai(t,l,c),d),d<0)}if(!r.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&n&&(i<0||n==Ht(t))){let l=t.childNodes[n-1];if(l.nodeType==1)return Cs(l.getBoundingClientRect(),!1)}if(a==null&&n<Ht(t)){let l=t.childNodes[n];if(l.nodeType==1)return Cs(l.getBoundingClientRect(),!0)}return Cs(t.getBoundingClientRect(),i>=0)}if(a==null&&n&&(i<0||n==Ht(t))){let l=t.childNodes[n-1],c=l.nodeType==3?ai(l,Ht(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return yr(Ii(c,1),!1)}if(a==null&&n<Ht(t)){let l=t.childNodes[n];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ai(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return yr(Ii(c,-1),!0)}return yr(Ii(t.nodeType==3?ai(t):t,-i),i>=0)}function yr(r,e){if(r.width==0)return r;let i=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:i,right:i}}function Cs(r,e){if(r.height==0)return r;let i=e?r.top:r.bottom;return{top:i,bottom:i,left:r.left,right:r.right}}function Qh(r,e,i){let t=r.state,n=r.root.activeElement;t!=e&&r.updateState(e),n!=r.dom&&r.focus();try{return i()}finally{t!=e&&r.updateState(t),n!=r.dom&&n&&n.focus()}}function hg(r,e,i){let t=e.selection,n=i=="up"?t.$from:t.$to;return Qh(r,e,()=>{let{node:a}=r.docView.domFromPos(n.pos,i=="up"?-1:1);for(;;){let s=r.docView.nearestDesc(a,!0);if(!s)break;if(s.node.isBlock){a=s.contentDOM||s.dom;break}a=s.dom.parentNode}let o=Kh(r,n.pos,1);for(let s=a.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=ai(s,0,s.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(i=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}var pg=/[\u0590-\u08ac]/;function ug(r,e,i){let{$head:t}=e.selection;if(!t.parent.isTextblock)return!1;let n=t.parentOffset,a=!n,o=n==t.parent.content.size,s=r.domSelection();return!pg.test(t.parent.textContent)||!s.modify?i=="left"||i=="backward"?a:o:Qh(r,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:h}=r.domSelectionRange(),p=s.caretBidiLevel;s.modify("move",i,"character");let f=t.depth?r.docView.domAfterPos(t.before()):r.dom,{focusNode:m,focusOffset:v}=r.domSelectionRange(),y=m&&!f.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==v;try{s.collapse(d,h),l&&(l!=d||c!=h)&&s.extend&&s.extend(l,c)}catch{}return p!=null&&(s.caretBidiLevel=p),y})}var mh=null,fh=null,gh=!1;function mg(r,e,i){return mh==e&&fh==i?gh:(mh=e,fh=i,gh=i=="up"||i=="down"?hg(r,e,i):ug(r,e,i))}var kt=0,bh=1,an=2,qt=3,hn=class{constructor(e,i,t,n){this.parent=e,this.children=i,this.dom=t,this.contentDOM=n,this.dirty=kt,t.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,i,t){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let i=0;i<this.children.length;i++)e+=this.children[i].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let i=0,t=this.posAtStart;;i++){let n=this.children[i];if(n==e)return t;t+=n.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,i,t){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(t<0){let a,o;if(e==this.contentDOM)a=e.childNodes[i-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{let a,o;if(e==this.contentDOM)a=e.childNodes[i];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(o):this.posAtEnd}let n;if(e==this.dom&&this.contentDOM)n=i>Be(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))n=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(i==0)for(let a=e;;a=a.parentNode){if(a==this.dom){n=!1;break}if(a.previousSibling)break}if(n==null&&i==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){n=!0;break}if(a.nextSibling)break}}return n??t>0?this.posAtEnd:this.posAtStart}nearestDesc(e,i=!1){for(let t=!0,n=e;n;n=n.parentNode){let a=this.getDesc(n),o;if(a&&(!i||a.node))if(t&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))t=!1;else return a}}getDesc(e){let i=e.pmViewDesc;for(let t=i;t;t=t.parent)if(t==this)return i}posFromDOM(e,i,t){for(let n=e;n;n=n.parentNode){let a=this.getDesc(n);if(a)return a.localPosFromDOM(e,i,t)}return-1}descAt(e){for(let i=0,t=0;i<this.children.length;i++){let n=this.children[i],a=t+n.size;if(t==e&&a!=t){for(;!n.border&&n.children.length;)n=n.children[0];return n}if(e<a)return n.descAt(e-t-n.border);t=a}}domFromPos(e,i){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let t=0,n=0;for(let a=0;t<this.children.length;t++){let o=this.children[t],s=a+o.size;if(s>e||o instanceof Ha){n=e-a;break}a=s}if(n)return this.children[t].domFromPos(n-this.children[t].border,i);for(let a;t&&!(a=this.children[t-1]).size&&a instanceof Ba&&a.side>=0;t--);if(i<=0){let a,o=!0;for(;a=t?this.children[t-1]:null,!(!a||a.dom.parentNode==this.contentDOM);t--,o=!1);return a&&i&&o&&!a.border&&!a.domAtom?a.domFromPos(a.size,i):{node:this.contentDOM,offset:a?Be(a.dom)+1:0}}else{let a,o=!0;for(;a=t<this.children.length?this.children[t]:null,!(!a||a.dom.parentNode==this.contentDOM);t++,o=!1);return a&&o&&!a.border&&!a.domAtom?a.domFromPos(0,i):{node:this.contentDOM,offset:a?Be(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,i,t=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:i,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let n=-1,a=-1;for(let o=t,s=0;;s++){let l=this.children[s],c=o+l.size;if(n==-1&&e<=c){let d=o+l.border;if(e>=d&&i<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,i,d);e=o;for(let h=s;h>0;h--){let p=this.children[h-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){n=Be(p.dom)+1;break}e-=p.size}n==-1&&(n=0)}if(n>-1&&(c>i||s==this.children.length-1)){i=c;for(let d=s+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){a=Be(h.dom);break}i+=h.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:i,fromOffset:n,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let i=this.children[e<0?0:this.children.length-1];return i.size==0||i.emptyChildAt(e)}domAfterPos(e){let{node:i,offset:t}=this.domFromPos(e,0);if(i.nodeType!=1||t==i.childNodes.length)throw new RangeError("No node after pos "+e);return i.childNodes[t]}setSelection(e,i,t,n=!1){let a=Math.min(e,i),o=Math.max(e,i);for(let p=0,f=0;p<this.children.length;p++){let m=this.children[p],v=f+m.size;if(a>f&&o<v)return m.setSelection(e-f-m.border,i-f-m.border,t,n);f=v}let s=this.domFromPos(e,e?-1:1),l=i==e?s:this.domFromPos(i,i?-1:1),c=t.getSelection(),d=!1;if((Ot||Qe)&&e==i){let{node:p,offset:f}=s;if(p.nodeType==3){if(d=!!(f&&p.nodeValue[f-1]==`
`),d&&f==p.nodeValue.length)for(let m=p,v;m;m=m.parentNode){if(v=m.nextSibling){v.nodeName=="BR"&&(s=l={node:v.parentNode,offset:Be(v)+1});break}let y=m.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let m=p.childNodes[f-1];d=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(Ot&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let p=c.focusNode.childNodes[c.focusOffset];p&&p.contentEditable=="false"&&(n=!0)}if(!(n||d&&Qe)&&dn(s.node,s.offset,c.anchorNode,c.anchorOffset)&&dn(l.node,l.offset,c.focusNode,c.focusOffset))return;let h=!1;if((c.extend||e==i)&&!d){c.collapse(s.node,s.offset);try{e!=i&&c.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(e>i){let f=s;s=l,l=f}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(s.node,s.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,i){for(let t=0,n=0;n<this.children.length;n++){let a=this.children[n],o=t+a.size;if(t==o?e<=o&&i>=t:e<o&&i>t){let s=t+a.border,l=o-a.border;if(e>=s&&i<=l){this.dirty=e==t||i==o?an:bh,e==s&&i==l&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=qt:a.markDirty(e-s,i-s);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?an:qt}t=o}this.dirty=an}markParentsDirty(){let e=1;for(let i=this.parent;i;i=i.parent,e++){let t=e==1?an:bh;i.dirty<t&&(i.dirty=t)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}},Ba=class extends hn{constructor(e,i,t,n){let a,o=i.type.toDOM;if(typeof o=="function"&&(o=o(t,()=>{if(!a)return n;if(a.parent)return a.parent.posBeforeChild(a)})),!i.type.spec.raw){if(o.nodeType!=1){let s=document.createElement("span");s.appendChild(o),o=s}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=i,this.widget=i,a=this}matchesWidget(e){return this.dirty==kt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let i=this.widget.spec.stopEvent;return i?i(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},As=class extends hn{constructor(e,i,t,n){super(e,[],i,null),this.textDOM=t,this.text=n}get size(){return this.text.length}localPosFromDOM(e,i){return e!=this.textDOM?this.posAtStart+(i?this.size:0):this.posAtStart+i}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}},Ln=class r extends hn{constructor(e,i,t,n){super(e,[],t,n),this.mark=i}static create(e,i,t,n){let a=n.nodeViews[i.type.name],o=a&&a(i,n,t);return(!o||!o.dom)&&(o=ii.renderSpec(document,i.type.spec.toDOM(i,t))),new r(e,i,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&qt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=qt&&this.mark.eq(e)}markDirty(e,i){if(super.markDirty(e,i),this.dirty!=kt){let t=this.parent;for(;!t.node;)t=t.parent;t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=kt}}slice(e,i,t){let n=r.create(this.parent,this.mark,!0,t),a=this.children,o=this.size;i<o&&(a=Ps(a,i,o,t)),e>0&&(a=Ps(a,0,e,t));for(let s=0;s<a.length;s++)a[s].parent=n;return n.children=a,n}},Ti=class r extends hn{constructor(e,i,t,n,a,o,s,l,c){super(e,[],a,o),this.node=i,this.outerDeco=t,this.innerDeco=n,this.nodeDOM=s}static create(e,i,t,n,a,o){let s=a.nodeViews[i.type.name],l,c=s&&s(i,a,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},t,n),d=c&&c.dom,h=c&&c.contentDOM;if(i.isText){if(!d)d=document.createTextNode(i.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=ii.renderSpec(document,i.type.spec.toDOM(i)));!h&&!i.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),i.type.spec.draggable&&(d.draggable=!0));let p=d;return d=Xh(d,t,i),c?l=new Rs(e,i,t,n,d,h||null,p,c,a,o+1):i.isText?new za(e,i,t,n,d,p,a):new r(e,i,t,n,d,h||null,p,a,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let i=this.children.length-1;i>=0;i--){let t=this.children[i];if(this.dom.contains(t.dom.parentNode)){e.contentElement=t.dom.parentNode;break}}e.contentElement||(e.getContent=()=>k.empty)}return e}matchesNode(e,i,t){return this.dirty==kt&&e.eq(this.node)&&Fs(i,this.outerDeco)&&t.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,i){let t=this.node.inlineContent,n=i,a=e.composing?this.localCompositionInfo(e,i):null,o=a&&a.pos>-1?a:null,s=a&&a.pos<0,l=new Ns(this,o&&o.node,e);_g(this.node,this.innerDeco,(c,d,h)=>{c.spec.marks?l.syncToMarks(c.spec.marks,t,e):c.type.side>=0&&!h&&l.syncToMarks(d==this.node.childCount?he.none:this.node.child(d).marks,t,e),l.placeWidget(c,e,n)},(c,d,h,p)=>{l.syncToMarks(c.marks,t,e);let f;l.findNodeMatch(c,d,h,p)||s&&e.state.selection.from>n&&e.state.selection.to<n+c.nodeSize&&(f=l.findIndexWithChild(a.node))>-1&&l.updateNodeAt(c,d,h,f,e)||l.updateNextNode(c,d,h,e,p,n)||l.addNode(c,d,h,e,n),n+=c.nodeSize}),l.syncToMarks([],t,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==an)&&(o&&this.protectLocalComposition(e,o),Gh(this.contentDOM,this.children,e),Pn&&vg(this.dom))}localCompositionInfo(e,i){let{from:t,to:n}=e.state.selection;if(!(e.state.selection instanceof ue)||t<i||n>i+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let o=a.nodeValue,s=yg(this.node.content,o,t-i,n-i);return s<0?null:{node:a,pos:s,text:o}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:i,pos:t,text:n}){if(this.getDesc(i))return;let a=i;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new As(this,a,i,n);e.input.compositionNodes.push(o),this.children=Ps(this.children,t,t+n.length,e,o)}update(e,i,t,n){return this.dirty==qt||!e.sameMarkup(this.node)?!1:(this.updateInner(e,i,t,n),!0)}updateInner(e,i,t,n){this.updateOuterDeco(i),this.node=e,this.innerDeco=t,this.contentDOM&&this.updateChildren(n,this.posAtStart),this.dirty=kt}updateOuterDeco(e){if(Fs(e,this.outerDeco))return;let i=this.nodeDOM.nodeType!=1,t=this.dom;this.dom=Jh(this.dom,this.nodeDOM,Os(this.outerDeco,this.node,i),Os(e,this.node,i)),this.dom!=t&&(t.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function _h(r,e,i,t,n){Xh(t,e,r);let a=new Ti(void 0,r,e,i,t,t,t,n,0);return a.contentDOM&&a.updateChildren(n,0),a}var za=class r extends Ti{constructor(e,i,t,n,a,o,s){super(e,i,t,n,a,null,o,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,i,t,n){return this.dirty==qt||this.dirty!=kt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(i),(this.dirty!=kt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,n.trackWrites==this.nodeDOM&&(n.trackWrites=null)),this.node=e,this.dirty=kt,!0)}inParent(){let e=this.parent.contentDOM;for(let i=this.nodeDOM;i;i=i.parentNode)if(i==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,i,t){return e==this.nodeDOM?this.posAtStart+Math.min(i,this.node.text.length):super.localPosFromDOM(e,i,t)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,i,t){let n=this.node.cut(e,i),a=document.createTextNode(n.text);return new r(this.parent,n,this.outerDeco,this.innerDeco,a,a,t)}markDirty(e,i){super.markDirty(e,i),this.dom!=this.nodeDOM&&(e==0||i==this.nodeDOM.nodeValue.length)&&(this.dirty=qt)}get domAtom(){return!1}isText(e){return this.node.text==e}},Ha=class extends hn{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==kt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},Rs=class extends Ti{constructor(e,i,t,n,a,o,s,l,c,d){super(e,i,t,n,a,o,s,c,d),this.spec=l}update(e,i,t,n){if(this.dirty==qt)return!1;if(this.spec.update){let a=this.spec.update(e,i,t);return a&&this.updateInner(e,i,t,n),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,i,t,n)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,i,t,n){this.spec.setSelection?this.spec.setSelection(e,i,t):super.setSelection(e,i,t,n)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};function Gh(r,e,i){let t=r.firstChild,n=!1;for(let a=0;a<e.length;a++){let o=e[a],s=o.dom;if(s.parentNode==r){for(;s!=t;)t=vh(t),n=!0;t=t.nextSibling}else n=!0,r.insertBefore(s,t);if(o instanceof Ln){let l=t?t.previousSibling:r.lastChild;Gh(o.contentDOM,o.children,i),t=l?l.nextSibling:r.firstChild}}for(;t;)t=vh(t),n=!0;n&&i.trackWrites==r&&(i.trackWrites=null)}var xr=function(r){r&&(this.nodeName=r)};xr.prototype=Object.create(null);var on=[new xr];function Os(r,e,i){if(r.length==0)return on;let t=i?on[0]:new xr,n=[t];for(let a=0;a<r.length;a++){let o=r[a].type.attrs;if(o){o.nodeName&&n.push(t=new xr(o.nodeName));for(let s in o){let l=o[s];l!=null&&(i&&n.length==1&&n.push(t=new xr(e.isInline?"span":"div")),s=="class"?t.class=(t.class?t.class+" ":"")+l:s=="style"?t.style=(t.style?t.style+";":"")+l:s!="nodeName"&&(t[s]=l))}}}return n}function Jh(r,e,i,t){if(i==on&&t==on)return e;let n=e;for(let a=0;a<t.length;a++){let o=t[a],s=i[a];if(a){let l;s&&s.nodeName==o.nodeName&&n!=r&&(l=n.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(n),s=on[0]),n=l}fg(n,s||on[0],o)}return n}function fg(r,e,i){for(let t in e)t!="class"&&t!="style"&&t!="nodeName"&&!(t in i)&&r.removeAttribute(t);for(let t in i)t!="class"&&t!="style"&&t!="nodeName"&&i[t]!=e[t]&&r.setAttribute(t,i[t]);if(e.class!=i.class){let t=e.class?e.class.split(" ").filter(Boolean):[],n=i.class?i.class.split(" ").filter(Boolean):[];for(let a=0;a<t.length;a++)n.indexOf(t[a])==-1&&r.classList.remove(t[a]);for(let a=0;a<n.length;a++)t.indexOf(n[a])==-1&&r.classList.add(n[a]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=i.style){if(e.style){let t=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,n;for(;n=t.exec(e.style);)r.style.removeProperty(n[1])}i.style&&(r.style.cssText+=i.style)}}function Xh(r,e,i){return Jh(r,r,on,Os(e,i,r.nodeType!=1))}function Fs(r,e){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!r[i].type.eq(e[i].type))return!1;return!0}function vh(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}var Ns=class{constructor(e,i,t){this.lock=i,this.view=t,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=gg(e.node.content,e)}destroyBetween(e,i){if(e!=i){for(let t=e;t<i;t++)this.top.children[t].destroy();this.top.children.splice(e,i-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,i,t){let n=0,a=this.stack.length>>1,o=Math.min(a,e.length);for(;n<o&&(n==a-1?this.top:this.stack[n+1<<1]).matchesMark(e[n])&&e[n].type.spec.spanning!==!1;)n++;for(;n<a;)this.destroyRest(),this.top.dirty=kt,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[a])&&!this.isLocked(c.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=Ln.create(this.top,e[a],i,t);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,a++}}findNodeMatch(e,i,t,n){let a=-1,o;if(n>=this.preMatch.index&&(o=this.preMatch.matches[n-this.preMatch.index]).parent==this.top&&o.matchesNode(e,i,t))a=this.top.children.indexOf(o,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let c=this.top.children[s];if(c.matchesNode(e,i,t)&&!this.preMatch.matched.has(c)){a=s;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,i,t,n,a){let o=this.top.children[n];return o.dirty==qt&&o.dom==o.contentDOM&&(o.dirty=an),o.update(e,i,t,a)?(this.destroyBetween(this.index,n),this.index++,!0):!1}findIndexWithChild(e){for(;;){let i=e.parentNode;if(!i)return-1;if(i==this.top.contentDOM){let t=e.pmViewDesc;if(t){for(let n=this.index;n<this.top.children.length;n++)if(this.top.children[n]==t)return n}return-1}e=i}}updateNextNode(e,i,t,n,a,o){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Ti){let c=this.preMatch.matched.get(l);if(c!=null&&c!=a)return!1;let d=l.dom,h,p=this.isLocked(d)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=qt&&Fs(i,l.outerDeco));if(!p&&l.update(e,i,t,n))return this.destroyBetween(this.index,s),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(h=this.recreateWrapper(l,e,i,t,n,o)))return this.top.children[this.index]=h,h.contentDOM&&(h.dirty=an,h.updateChildren(n,o+1),h.dirty=kt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,i,t,n,a,o){if(e.dirty||i.isAtom||!e.children.length||!e.node.content.eq(i.content))return null;let s=Ti.create(this.top,i,t,n,a,o);if(s.contentDOM){s.children=e.children,e.children=[];for(let l of s.children)l.parent=s}return e.destroy(),s}addNode(e,i,t,n,a){let o=Ti.create(this.top,e,i,t,n,a);o.contentDOM&&o.updateChildren(n,a+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,i,t){let n=this.index<this.top.children.length?this.top.children[this.index]:null;if(n&&n.matchesWidget(e)&&(e==n.widget||!n.widget.type.toDOM.parentNode))this.index++;else{let a=new Ba(this.top,e,i,t);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],i=this.top;for(;e instanceof Ln;)i=e,e=i.children[i.children.length-1];(!e||!(e instanceof za)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Qe||$e)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",i),this.addHackNode("BR",this.top))}addHackNode(e,i){if(i==this.top&&this.index<i.children.length&&i.children[this.index].matchesHack(e))this.index++;else{let t=document.createElement(e);e=="IMG"&&(t.className="ProseMirror-separator",t.alt=""),e=="BR"&&(t.className="ProseMirror-trailingBreak");let n=new Ha(this.top,[],t,null);i!=this.top?i.children.push(n):i.children.splice(this.index++,0,n),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}};function gg(r,e){let i=e,t=i.children.length,n=r.childCount,a=new Map,o=[];e:for(;n>0;){let s;for(;;)if(t){let c=i.children[t-1];if(c instanceof Ln)i=c,t=c.children.length;else{s=c,t--;break}}else{if(i==e)break e;t=i.parent.children.indexOf(i),i=i.parent}let l=s.node;if(l){if(l!=r.child(n-1))break;--n,a.set(s,n),o.push(s)}}return{index:n,matched:a,matches:o.reverse()}}function bg(r,e){return r.type.side-e.type.side}function _g(r,e,i,t){let n=e.locals(r),a=0;if(n.length==0){for(let c=0;c<r.childCount;c++){let d=r.child(c);t(d,n,e.forChild(a,d),c),a+=d.nodeSize}return}let o=0,s=[],l=null;for(let c=0;;){let d,h;for(;o<n.length&&n[o].to==a;){let y=n[o++];y.widget&&(d?(h||(h=[d])).push(y):d=y)}if(d)if(h){h.sort(bg);for(let y=0;y<h.length;y++)i(h[y],c,!!l)}else i(d,c,!!l);let p,f;if(l)f=-1,p=l,l=null;else if(c<r.childCount)f=c,p=r.child(c++);else break;for(let y=0;y<s.length;y++)s[y].to<=a&&s.splice(y--,1);for(;o<n.length&&n[o].from<=a&&n[o].to>a;)s.push(n[o++]);let m=a+p.nodeSize;if(p.isText){let y=m;o<n.length&&n[o].from<y&&(y=n[o].from);for(let D=0;D<s.length;D++)s[D].to<y&&(y=s[D].to);y<m&&(l=p.cut(y-a),p=p.cut(0,y-a),m=y,f=-1)}else for(;o<n.length&&n[o].to<m;)o++;let v=p.isInline&&!p.isLeaf?s.filter(y=>!y.inline):s.slice();t(p,v,e.forChild(a,p),f),a=m}}function vg(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function yg(r,e,i,t){for(let n=0,a=0;n<r.childCount&&a<=t;){let o=r.child(n++),s=a;if(a+=o.nodeSize,!o.isText)continue;let l=o.text;for(;n<r.childCount;){let c=r.child(n++);if(a+=c.nodeSize,!c.isText)break;l+=c.text}if(a>=i){if(a>=t&&l.slice(t-e.length-s,t-s)==e)return t-e.length;let c=s<t?l.lastIndexOf(e,t-s-1):-1;if(c>=0&&c+e.length+s>=i)return s+c;if(i==t&&l.length>=t+e.length-s&&l.slice(t-s,t-s+e.length)==e)return t}}return-1}function Ps(r,e,i,t,n){let a=[];for(let o=0,s=0;o<r.length;o++){let l=r[o],c=s,d=s+=l.size;c>=i||d<=e?a.push(l):(c<e&&a.push(l.slice(0,e-c,t)),n&&(a.push(n),n=void 0),d>i&&a.push(l.slice(i-c,l.size,t)))}return a}function $s(r,e=null){let i=r.domSelectionRange(),t=r.state.doc;if(!i.focusNode)return null;let n=r.docView.nearestDesc(i.focusNode),a=n&&n.size==0,o=r.docView.posFromDOM(i.focusNode,i.focusOffset,1);if(o<0)return null;let s=t.resolve(o),l,c;if(Qa(i)){for(l=s;n&&!n.node;)n=n.parent;let d=n.node;if(n&&d.isAtom&&j.isSelectable(d)&&n.parent&&!(d.isInline&&Kf(i.focusNode,i.focusOffset,n.dom))){let h=n.posBefore;c=new j(o==h?s:t.resolve(h))}}else{let d=r.docView.posFromDOM(i.anchorNode,i.anchorOffset,1);if(d<0)return null;l=t.resolve(d)}if(!c){let d=e=="pointer"||r.state.selection.head<s.pos&&!a?1:-1;c=Ks(r,l,s,d)}return c}function Zh(r){return r.editable?r.hasFocus():tp(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function oi(r,e=!1){let i=r.state.selection;if(ep(r,i),!!Zh(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&$e){let t=r.domSelectionRange(),n=r.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&dn(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)wg(r);else{let{anchor:t,head:n}=i,a,o;yh&&!(i instanceof ue)&&(i.$from.parent.inlineContent||(a=xh(r,i.from)),!i.empty&&!i.$from.parent.inlineContent&&(o=xh(r,i.to))),r.docView.setSelection(t,n,r.root,e),yh&&(a&&wh(a),o&&wh(o)),i.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&xg(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}var yh=Qe||$e&&Jf<63;function xh(r,e){let{node:i,offset:t}=r.docView.domFromPos(e,0),n=t<i.childNodes.length?i.childNodes[t]:null,a=t?i.childNodes[t-1]:null;if(Qe&&n&&n.contentEditable=="false")return ks(n);if((!n||n.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(n)return ks(n);if(a)return ks(a)}}function ks(r){return r.contentEditable="true",Qe&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function wh(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function xg(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let i=r.domSelectionRange(),t=i.anchorNode,n=i.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(i.anchorNode!=t||i.anchorOffset!=n)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!Zh(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function wg(r){let e=r.domSelection(),i=document.createRange(),t=r.cursorWrapper.dom,n=t.nodeName=="IMG";n?i.setEnd(t.parentNode,Be(t)+1):i.setEnd(t,0),i.collapse(!1),e.removeAllRanges(),e.addRange(i),!n&&!r.state.selection.visible&&it&&Mi<=11&&(t.disabled=!0,t.disabled=!1)}function ep(r,e){if(e instanceof j){let i=r.docView.descAt(e.from);i!=r.lastSelectedViewDesc&&(Ch(r),i&&i.selectNode(),r.lastSelectedViewDesc=i)}else Ch(r)}function Ch(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function Ks(r,e,i,t){return r.someProp("createSelectionBetween",n=>n(r,e,i))||ue.between(e,i,t)}function kh(r){return r.editable&&!r.hasFocus()?!1:tp(r)}function tp(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Cg(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),i=r.domSelectionRange();return dn(e.node,e.offset,i.anchorNode,i.anchorOffset)}function Ls(r,e){let{$anchor:i,$head:t}=r.selection,n=e>0?i.max(t):i.min(t),a=n.parent.inlineContent?n.depth?r.doc.resolve(e>0?n.after():n.before()):null:n;return a&&Q.findFrom(a,e)}function Si(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function Dh(r,e,i){let t=r.state.selection;if(t instanceof ue)if(i.indexOf("s")>-1){let{$head:n}=t,a=n.textOffset?null:e<0?n.nodeBefore:n.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let o=r.state.doc.resolve(n.pos+a.nodeSize*(e<0?-1:1));return Si(r,new ue(t.$anchor,o))}else if(t.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let n=Ls(r.state,e);return n&&n instanceof j?Si(r,n):!1}else if(!(Ct&&i.indexOf("m")>-1)){let n=t.$head,a=n.textOffset?null:e<0?n.nodeBefore:n.nodeAfter,o;if(!a||a.isText)return!1;let s=e<0?n.pos-a.nodeSize:n.pos;return a.isAtom||(o=r.docView.descAt(s))&&!o.contentDOM?j.isSelectable(a)?Si(r,new j(e<0?r.state.doc.resolve(n.pos-a.nodeSize):n)):Er?Si(r,new ue(r.state.doc.resolve(e<0?s:s+a.nodeSize))):!1:!1}}else return!1;else{if(t instanceof j&&t.node.isInline)return Si(r,new ue(e>0?t.$to:t.$from));{let n=Ls(r.state,e);return n?Si(r,n):!1}}}function ja(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function wr(r,e){let i=r.pmViewDesc;return i&&i.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function On(r,e){return e<0?kg(r):Dg(r)}function kg(r){let e=r.domSelectionRange(),i=e.focusNode,t=e.focusOffset;if(!i)return;let n,a,o=!1;for(Ot&&i.nodeType==1&&t<ja(i)&&wr(i.childNodes[t],-1)&&(o=!0);;)if(t>0){if(i.nodeType!=1)break;{let s=i.childNodes[t-1];if(wr(s,-1))n=i,a=--t;else if(s.nodeType==3)i=s,t=i.nodeValue.length;else break}}else{if(ip(i))break;{let s=i.previousSibling;for(;s&&wr(s,-1);)n=i.parentNode,a=Be(s),s=s.previousSibling;if(s)i=s,t=ja(i);else{if(i=i.parentNode,i==r.dom)break;t=0}}}o?Vs(r,i,t):n&&Vs(r,n,a)}function Dg(r){let e=r.domSelectionRange(),i=e.focusNode,t=e.focusOffset;if(!i)return;let n=ja(i),a,o;for(;;)if(t<n){if(i.nodeType!=1)break;let s=i.childNodes[t];if(wr(s,1))a=i,o=++t;else break}else{if(ip(i))break;{let s=i.nextSibling;for(;s&&wr(s,1);)a=s.parentNode,o=Be(s)+1,s=s.nextSibling;if(s)i=s,t=0,n=ja(i);else{if(i=i.parentNode,i==r.dom)break;t=n=0}}}a&&Vs(r,a,o)}function ip(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function Ig(r,e){for(;r&&e==r.childNodes.length&&!Sr(r);)e=Be(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let i=r.childNodes[e];if(i.nodeType==3)return i;if(i.nodeType==1&&i.contentEditable=="false")break;r=i,e=0}}function Sg(r,e){for(;r&&!e&&!Sr(r);)e=Be(r),r=r.parentNode;for(;r&&e;){let i=r.childNodes[e-1];if(i.nodeType==3)return i;if(i.nodeType==1&&i.contentEditable=="false")break;r=i,e=r.childNodes.length}}function Vs(r,e,i){if(e.nodeType!=3){let a,o;(o=Ig(e,i))?(e=o,i=0):(a=Sg(e,i))&&(e=a,i=a.nodeValue.length)}let t=r.domSelection();if(Qa(t)){let a=document.createRange();a.setEnd(e,i),a.setStart(e,i),t.removeAllRanges(),t.addRange(a)}else t.extend&&t.extend(e,i);r.domObserver.setCurSelection();let{state:n}=r;setTimeout(()=>{r.state==n&&oi(r)},50)}function Ih(r,e){let i=r.state.doc.resolve(e);if(!($e||Xf)&&i.parent.inlineContent){let n=r.coordsAtPos(e);if(e>i.start()){let a=r.coordsAtPos(e-1),o=(a.top+a.bottom)/2;if(o>n.top&&o<n.bottom&&Math.abs(a.left-n.left)>1)return a.left<n.left?"ltr":"rtl"}if(e<i.end()){let a=r.coordsAtPos(e+1),o=(a.top+a.bottom)/2;if(o>n.top&&o<n.bottom&&Math.abs(a.left-n.left)>1)return a.left>n.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function Sh(r,e,i){let t=r.state.selection;if(t instanceof ue&&!t.empty||i.indexOf("s")>-1||Ct&&i.indexOf("m")>-1)return!1;let{$from:n,$to:a}=t;if(!n.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let o=Ls(r.state,e);if(o&&o instanceof j)return Si(r,o)}if(!n.parent.inlineContent){let o=e<0?n:a,s=t instanceof ut?Q.near(o,e):Q.findFrom(o,e);return s?Si(r,s):!1}return!1}function Eh(r,e){if(!(r.state.selection instanceof ue))return!0;let{$head:i,$anchor:t,empty:n}=r.state.selection;if(!i.sameParent(t))return!0;if(!n)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!i.textOffset&&(e<0?i.nodeBefore:i.nodeAfter);if(a&&!a.isText){let o=r.state.tr;return e<0?o.delete(i.pos-a.nodeSize,i.pos):o.delete(i.pos,i.pos+a.nodeSize),r.dispatch(o),!0}return!1}function Mh(r,e,i){r.domObserver.stop(),e.contentEditable=i,r.domObserver.start()}function Eg(r){if(!Qe||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:i}=r.domSelectionRange();if(e&&e.nodeType==1&&i==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let t=e.firstChild;Mh(r,t,"true"),setTimeout(()=>Mh(r,t,"false"),20)}return!1}function Mg(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function Tg(r,e){let i=e.keyCode,t=Mg(e);if(i==8||Ct&&i==72&&t=="c")return Eh(r,-1)||On(r,-1);if(i==46&&!e.shiftKey||Ct&&i==68&&t=="c")return Eh(r,1)||On(r,1);if(i==13||i==27)return!0;if(i==37||Ct&&i==66&&t=="c"){let n=i==37?Ih(r,r.state.selection.from)=="ltr"?-1:1:-1;return Dh(r,n,t)||On(r,n)}else if(i==39||Ct&&i==70&&t=="c"){let n=i==39?Ih(r,r.state.selection.from)=="ltr"?1:-1:1;return Dh(r,n,t)||On(r,n)}else{if(i==38||Ct&&i==80&&t=="c")return Sh(r,-1,t)||On(r,-1);if(i==40||Ct&&i==78&&t=="c")return Eg(r)||Sh(r,1,t)||On(r,1);if(t==(Ct?"m":"c")&&(i==66||i==73||i==89||i==90))return!0}return!1}function np(r,e){r.someProp("transformCopied",f=>{e=f(e,r)});let i=[],{content:t,openStart:n,openEnd:a}=e;for(;n>1&&a>1&&t.childCount==1&&t.firstChild.childCount==1;){n--,a--;let f=t.firstChild;i.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),t=f.content}let o=r.someProp("clipboardSerializer")||ii.fromSchema(r.state.schema),s=cp(),l=s.createElement("div");l.appendChild(o.serializeFragment(t,{document:s}));let c=l.firstChild,d,h=0;for(;c&&c.nodeType==1&&(d=lp[c.nodeName.toLowerCase()]);){for(let f=d.length-1;f>=0;f--){let m=s.createElement(d[f]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),h++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${n} ${a}${h?` -${h}`:""} ${JSON.stringify(i)}`);let p=r.someProp("clipboardTextSerializer",f=>f(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p,slice:e}}function rp(r,e,i,t,n){let a=n.parent.type.spec.code,o,s;if(!i&&!e)return null;let l=e&&(t||a||!i);if(l){if(r.someProp("transformPastedText",p=>{e=p(e,a||t,r)}),a)return e?new I(k.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):I.empty;let h=r.someProp("clipboardTextParser",p=>p(e,n,t,r));if(h)s=h;else{let p=n.marks(),{schema:f}=r.state,m=ii.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let y=o.appendChild(document.createElement("p"));v&&y.appendChild(m.serializeNode(f.text(v,p)))})}}else r.someProp("transformPastedHTML",h=>{i=h(i,r)}),o=Og(i),Er&&Fg(o);let c=o&&o.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(s||(s=(r.someProp("clipboardParser")||r.someProp("domParser")||ki.fromSchema(r.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||d),context:n,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!Ag.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)s=Ng(Th(s,+d[1],+d[2]),d[4]);else if(s=I.maxOpen(Rg(s.content,n),!0),s.openStart||s.openEnd){let h=0,p=0;for(let f=s.content.firstChild;h<s.openStart&&!f.type.spec.isolating;h++,f=f.firstChild);for(let f=s.content.lastChild;p<s.openEnd&&!f.type.spec.isolating;p++,f=f.lastChild);s=Th(s,h,p)}return r.someProp("transformPasted",h=>{s=h(s,r)}),s}var Ag=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Rg(r,e){if(r.childCount<2)return r;for(let i=e.depth;i>=0;i--){let n=e.node(i).contentMatchAt(e.index(i)),a,o=[];if(r.forEach(s=>{if(!o)return;let l=n.findWrapping(s.type),c;if(!l)return o=null;if(c=o.length&&a.length&&op(l,a,s,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=sp(o[o.length-1],a.length));let d=ap(s,l);o.push(d),n=n.matchType(d.type),a=l}}),o)return k.from(o)}return r}function ap(r,e,i=0){for(let t=e.length-1;t>=i;t--)r=e[t].create(null,k.from(r));return r}function op(r,e,i,t,n){if(n<r.length&&n<e.length&&r[n]==e[n]){let a=op(r,e,i,t.lastChild,n+1);if(a)return t.copy(t.content.replaceChild(t.childCount-1,a));if(t.contentMatchAt(t.childCount).matchType(n==r.length-1?i.type:r[n+1]))return t.copy(t.content.append(k.from(ap(i,r,n+1))))}}function sp(r,e){if(e==0)return r;let i=r.content.replaceChild(r.childCount-1,sp(r.lastChild,e-1)),t=r.contentMatchAt(r.childCount).fillBefore(k.empty,!0);return r.copy(i.append(t))}function Bs(r,e,i,t,n,a){let o=e<0?r.firstChild:r.lastChild,s=o.content;return r.childCount>1&&(a=0),n<t-1&&(s=Bs(s,e,i,t,n+1,a)),n>=i&&(s=e<0?o.contentMatchAt(0).fillBefore(s,a<=n).append(s):s.append(o.contentMatchAt(o.childCount).fillBefore(k.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,o.copy(s))}function Th(r,e,i){return e<r.openStart&&(r=new I(Bs(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),i<r.openEnd&&(r=new I(Bs(r.content,1,i,r.openEnd,0,0),r.openStart,i)),r}var lp={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Ah=null;function cp(){return Ah||(Ah=document.implementation.createHTMLDocument("title"))}function Og(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let i=cp().createElement("div"),t=/<([a-z][^>\s]+)/i.exec(r),n;if((n=t&&lp[t[1].toLowerCase()])&&(r=n.map(a=>"<"+a+">").join("")+r+n.map(a=>"</"+a+">").reverse().join("")),i.innerHTML=r,n)for(let a=0;a<n.length;a++)i=i.querySelector(n[a])||i;return i}function Fg(r){let e=r.querySelectorAll($e?"span:not([class]):not([style])":"span.Apple-converted-space");for(let i=0;i<e.length;i++){let t=e[i];t.childNodes.length==1&&t.textContent=="\xA0"&&t.parentNode&&t.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),t)}}function Ng(r,e){if(!r.size)return r;let i=r.content.firstChild.type.schema,t;try{t=JSON.parse(e)}catch{return r}let{content:n,openStart:a,openEnd:o}=r;for(let s=t.length-2;s>=0;s-=2){let l=i.nodes[t[s]];if(!l||l.hasRequiredAttrs())break;n=k.from(l.create(t[s+1],n)),a++,o++}return new I(n,a,o)}var Ge={},Je={},Pg={touchstart:!0,touchmove:!0},zs=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function Lg(r){for(let e in Ge){let i=Ge[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=t=>{Bg(r,t)&&!Qs(r,t)&&(r.editable||!(t.type in Je))&&i(r,t)},Pg[e]?{passive:!0}:void 0)}Qe&&r.dom.addEventListener("input",()=>null),Hs(r)}function Ei(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function Vg(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function Hs(r){r.someProp("handleDOMEvents",e=>{for(let i in e)r.input.eventHandlers[i]||r.dom.addEventListener(i,r.input.eventHandlers[i]=t=>Qs(r,t))})}function Qs(r,e){return r.someProp("handleDOMEvents",i=>{let t=i[e.type];return t?t(r,e)||e.defaultPrevented:!1})}function Bg(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let i=e.target;i!=r.dom;i=i.parentNode)if(!i||i.nodeType==11||i.pmViewDesc&&i.pmViewDesc.stopEvent(e))return!1;return!0}function zg(r,e){!Qs(r,e)&&Ge[e.type]&&(r.editable||!(e.type in Je))&&Ge[e.type](r,e)}Je.keydown=(r,e)=>{let i=e;if(r.input.shiftKey=i.keyCode==16||i.shiftKey,!hp(r,i)&&(r.input.lastKeyCode=i.keyCode,r.input.lastKeyCodeTime=Date.now(),!(Rt&&$e&&i.keyCode==13)))if(i.keyCode!=229&&r.domObserver.forceFlush(),Pn&&i.keyCode==13&&!i.ctrlKey&&!i.altKey&&!i.metaKey){let t=Date.now();r.input.lastIOSEnter=t,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==t&&(r.someProp("handleKeyDown",n=>n(r,rn(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",t=>t(r,i))||Tg(r,i)?i.preventDefault():Ei(r,"key")};Je.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};Je.keypress=(r,e)=>{let i=e;if(hp(r,i)||!i.charCode||i.ctrlKey&&!i.altKey||Ct&&i.metaKey)return;if(r.someProp("handleKeyPress",n=>n(r,i))){i.preventDefault();return}let t=r.state.selection;if(!(t instanceof ue)||!t.$from.sameParent(t.$to)){let n=String.fromCharCode(i.charCode);!/[\r\n]/.test(n)&&!r.someProp("handleTextInput",a=>a(r,t.$from.pos,t.$to.pos,n))&&r.dispatch(r.state.tr.insertText(n).scrollIntoView()),i.preventDefault()}};function Ga(r){return{left:r.clientX,top:r.clientY}}function Hg(r,e){let i=e.x-r.clientX,t=e.y-r.clientY;return i*i+t*t<100}function Gs(r,e,i,t,n){if(t==-1)return!1;let a=r.state.doc.resolve(t);for(let o=a.depth+1;o>0;o--)if(r.someProp(e,s=>o>a.depth?s(r,i,a.nodeAfter,a.before(o),n,!0):s(r,i,a.node(o),a.before(o),n,!1)))return!0;return!1}function Nn(r,e,i){r.focused||r.focus();let t=r.state.tr.setSelection(e);i=="pointer"&&t.setMeta("pointer",!0),r.dispatch(t)}function jg(r,e){if(e==-1)return!1;let i=r.state.doc.resolve(e),t=i.nodeAfter;return t&&t.isAtom&&j.isSelectable(t)?(Nn(r,new j(i),"pointer"),!0):!1}function qg(r,e){if(e==-1)return!1;let i=r.state.selection,t,n;i instanceof j&&(t=i.node);let a=r.state.doc.resolve(e);for(let o=a.depth+1;o>0;o--){let s=o>a.depth?a.nodeAfter:a.node(o);if(j.isSelectable(s)){t&&i.$from.depth>0&&o>=i.$from.depth&&a.before(i.$from.depth+1)==i.$from.pos?n=a.before(i.$from.depth):n=a.before(o);break}}return n!=null?(Nn(r,j.create(r.state.doc,n),"pointer"),!0):!1}function Wg(r,e,i,t,n){return Gs(r,"handleClickOn",e,i,t)||r.someProp("handleClick",a=>a(r,e,t))||(n?qg(r,i):jg(r,i))}function Yg(r,e,i,t){return Gs(r,"handleDoubleClickOn",e,i,t)||r.someProp("handleDoubleClick",n=>n(r,e,t))}function Ug(r,e,i,t){return Gs(r,"handleTripleClickOn",e,i,t)||r.someProp("handleTripleClick",n=>n(r,e,t))||$g(r,i,t)}function $g(r,e,i){if(i.button!=0)return!1;let t=r.state.doc;if(e==-1)return t.inlineContent?(Nn(r,ue.create(t,0,t.content.size),"pointer"),!0):!1;let n=t.resolve(e);for(let a=n.depth+1;a>0;a--){let o=a>n.depth?n.nodeAfter:n.node(a),s=n.before(a);if(o.inlineContent)Nn(r,ue.create(t,s+1,s+1+o.content.size),"pointer");else if(j.isSelectable(o))Nn(r,j.create(t,s),"pointer");else continue;return!0}}function Js(r){return qa(r)}var dp=Ct?"metaKey":"ctrlKey";Ge.mousedown=(r,e)=>{let i=e;r.input.shiftKey=i.shiftKey;let t=Js(r),n=Date.now(),a="singleClick";n-r.input.lastClick.time<500&&Hg(i,r.input.lastClick)&&!i[dp]&&(r.input.lastClick.type=="singleClick"?a="doubleClick":r.input.lastClick.type=="doubleClick"&&(a="tripleClick")),r.input.lastClick={time:n,x:i.clientX,y:i.clientY,type:a};let o=r.posAtCoords(Ga(i));o&&(a=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new js(r,o,i,!!t)):(a=="doubleClick"?Yg:Ug)(r,o.pos,o.inside,i)?i.preventDefault():Ei(r,"pointer"))};var js=class{constructor(e,i,t,n){this.view=e,this.pos=i,this.event=t,this.flushed=n,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!t[dp],this.allowDefault=t.shiftKey;let a,o;if(i.inside>-1)a=e.state.doc.nodeAt(i.inside),o=i.inside;else{let d=e.state.doc.resolve(i.pos);a=d.parent,o=d.depth?d.before():0}let s=n?null:t.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(t.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||c instanceof j&&c.from<=o&&c.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ot&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ei(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>oi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let i=this.pos;this.view.state.doc!=this.startDoc&&(i=this.view.posAtCoords(Ga(e))),this.updateAllowDefault(e),this.allowDefault||!i?Ei(this.view,"pointer"):Wg(this.view,i.pos,i.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Qe&&this.mightDrag&&!this.mightDrag.node.isAtom||$e&&!this.view.state.selection.visible&&Math.min(Math.abs(i.pos-this.view.state.selection.from),Math.abs(i.pos-this.view.state.selection.to))<=2)?(Nn(this.view,Q.near(this.view.state.doc.resolve(i.pos)),"pointer"),e.preventDefault()):Ei(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ei(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};Ge.touchstart=r=>{r.input.lastTouch=Date.now(),Js(r),Ei(r,"pointer")};Ge.touchmove=r=>{r.input.lastTouch=Date.now(),Ei(r,"pointer")};Ge.contextmenu=r=>Js(r);function hp(r,e){return r.composing?!0:Qe&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}var Kg=Rt?5e3:-1;Je.compositionstart=Je.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,i=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!i.textOffset&&i.parentOffset&&i.nodeBefore.marks.some(t=>t.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||i.marks(),qa(r,!0),r.markCursor=null;else if(qa(r),Ot&&e.selection.empty&&i.parentOffset&&!i.textOffset&&i.nodeBefore.marks.length){let t=r.domSelectionRange();for(let n=t.focusNode,a=t.focusOffset;n&&n.nodeType==1&&a!=0;){let o=a<0?n.lastChild:n.childNodes[a-1];if(!o)break;if(o.nodeType==3){r.domSelection().collapse(o,o.nodeValue.length);break}else n=o,a=-1}}r.input.composing=!0}pp(r,Kg)};Je.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,pp(r,20))};function pp(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>qa(r),e))}function up(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=Gg());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function Qg(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let i=Uf(e.focusNode,e.focusOffset),t=$f(e.focusNode,e.focusOffset);if(i&&t&&i!=t){let n=t.pmViewDesc,a=r.domObserver.lastChangedTextNode;if(i==a||t==a)return a;if(!n||!n.isText(t.nodeValue))return t;if(r.input.compositionNode==t){let o=i.pmViewDesc;if(!(!o||!o.isText(i.nodeValue)))return t}}return i||t}function Gg(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function qa(r,e=!1){if(!(Rt&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),up(r),e||r.docView&&r.docView.dirty){let i=$s(r);return i&&!i.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(i)):r.updateState(r.state),!0}return!1}}function Jg(r,e){if(!r.dom.parentNode)return;let i=r.dom.parentNode.appendChild(document.createElement("div"));i.appendChild(e),i.style.cssText="position: fixed; left: -10000px; top: 10px";let t=getSelection(),n=document.createRange();n.selectNodeContents(e),r.dom.blur(),t.removeAllRanges(),t.addRange(n),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i),r.focus()},50)}var kr=it&&Mi<15||Pn&&Zf<604;Ge.copy=Je.cut=(r,e)=>{let i=e,t=r.state.selection,n=i.type=="cut";if(t.empty)return;let a=kr?null:i.clipboardData,o=t.content(),{dom:s,text:l}=np(r,o);a?(i.preventDefault(),a.clearData(),a.setData("text/html",s.innerHTML),a.setData("text/plain",l)):Jg(r,s),n&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Xg(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function Zg(r,e){if(!r.dom.parentNode)return;let i=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,t=r.dom.parentNode.appendChild(document.createElement(i?"textarea":"div"));i||(t.contentEditable="true"),t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus();let n=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),t.parentNode&&t.parentNode.removeChild(t),i?Dr(r,t.value,null,n,e):Dr(r,t.textContent,t.innerHTML,n,e)},50)}function Dr(r,e,i,t,n){let a=rp(r,e,i,t,r.state.selection.$from);if(r.someProp("handlePaste",l=>l(r,n,a||I.empty)))return!0;if(!a)return!1;let o=Xg(a),s=o?r.state.tr.replaceSelectionWith(o,t):r.state.tr.replaceSelection(a);return r.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function mp(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let i=r.getData("text/uri-list");return i?i.replace(/\r?\n/g," "):""}Je.paste=(r,e)=>{let i=e;if(r.composing&&!Rt)return;let t=kr?null:i.clipboardData,n=r.input.shiftKey&&r.input.lastKeyCode!=45;t&&Dr(r,mp(t),t.getData("text/html"),n,i)?i.preventDefault():Zg(r,i)};var Wa=class{constructor(e,i,t){this.slice=e,this.move=i,this.node=t}},fp=Ct?"altKey":"ctrlKey";Ge.dragstart=(r,e)=>{let i=e,t=r.input.mouseDown;if(t&&t.done(),!i.dataTransfer)return;let n=r.state.selection,a=n.empty?null:r.posAtCoords(Ga(i)),o;if(!(a&&a.pos>=n.from&&a.pos<=(n instanceof j?n.to-1:n.to))){if(t&&t.mightDrag)o=j.create(r.state.doc,t.mightDrag.pos);else if(i.target&&i.target.nodeType==1){let h=r.docView.nearestDesc(i.target,!0);h&&h.node.type.spec.draggable&&h!=r.docView&&(o=j.create(r.state.doc,h.posBefore))}}let s=(o||r.state.selection).content(),{dom:l,text:c,slice:d}=np(r,s);i.dataTransfer.clearData(),i.dataTransfer.setData(kr?"Text":"text/html",l.innerHTML),i.dataTransfer.effectAllowed="copyMove",kr||i.dataTransfer.setData("text/plain",c),r.dragging=new Wa(d,!i[fp],o)};Ge.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};Je.dragover=Je.dragenter=(r,e)=>e.preventDefault();Je.drop=(r,e)=>{let i=e,t=r.dragging;if(r.dragging=null,!i.dataTransfer)return;let n=r.posAtCoords(Ga(i));if(!n)return;let a=r.state.doc.resolve(n.pos),o=t&&t.slice;o?r.someProp("transformPasted",m=>{o=m(o,r)}):o=rp(r,mp(i.dataTransfer),kr?null:i.dataTransfer.getData("text/html"),!1,a);let s=!!(t&&!i[fp]);if(r.someProp("handleDrop",m=>m(r,i,o||I.empty,s))){i.preventDefault();return}if(!o)return;i.preventDefault();let l=o?Jd(r.state.doc,a.pos,o):a.pos;l==null&&(l=a.pos);let c=r.state.tr;if(s){let{node:m}=t;m?m.replace(c):c.deleteSelection()}let d=c.mapping.map(l),h=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=c.doc;if(h?c.replaceRangeWith(d,d,o.content.firstChild):c.replaceRange(d,d,o),c.doc.eq(p))return;let f=c.doc.resolve(d);if(h&&j.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new j(f));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((v,y,D,be)=>m=be),c.setSelection(Ks(r,f,c.doc.resolve(m)))}r.focus(),r.dispatch(c.setMeta("uiEvent","drop"))};Ge.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&oi(r)},20))};Ge.blur=(r,e)=>{let i=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),i.relatedTarget&&r.dom.contains(i.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};Ge.beforeinput=(r,e)=>{if($e&&Rt&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:t}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=t||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",a=>a(r,rn(8,"Backspace")))))return;let{$cursor:n}=r.state.selection;n&&n.pos>0&&r.dispatch(r.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let r in Je)Ge[r]=Je[r];function Ir(r,e){if(r==e)return!0;for(let i in r)if(r[i]!==e[i])return!1;for(let i in e)if(!(i in r))return!1;return!0}var Ya=class r{constructor(e,i){this.toDOM=e,this.spec=i||ln,this.side=this.spec.side||0}map(e,i,t,n){let{pos:a,deleted:o}=e.mapResult(i.from+n,this.side<0?-1:1);return o?null:new Wt(a-t,a-t,this)}valid(){return!0}eq(e){return this==e||e instanceof r&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ir(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}},sn=class r{constructor(e,i){this.attrs=e,this.spec=i||ln}map(e,i,t,n){let a=e.map(i.from+n,this.spec.inclusiveStart?-1:1)-t,o=e.map(i.to+n,this.spec.inclusiveEnd?1:-1)-t;return a>=o?null:new Wt(a,o,this)}valid(e,i){return i.from<i.to}eq(e){return this==e||e instanceof r&&Ir(this.attrs,e.attrs)&&Ir(this.spec,e.spec)}static is(e){return e.type instanceof r}destroy(){}},qs=class r{constructor(e,i){this.attrs=e,this.spec=i||ln}map(e,i,t,n){let a=e.mapResult(i.from+n,1);if(a.deleted)return null;let o=e.mapResult(i.to+n,-1);return o.deleted||o.pos<=a.pos?null:new Wt(a.pos-t,o.pos-t,this)}valid(e,i){let{index:t,offset:n}=e.content.findIndex(i.from),a;return n==i.from&&!(a=e.child(t)).isText&&n+a.nodeSize==i.to}eq(e){return this==e||e instanceof r&&Ir(this.attrs,e.attrs)&&Ir(this.spec,e.spec)}destroy(){}},Wt=class r{constructor(e,i,t){this.from=e,this.to=i,this.type=t}copy(e,i){return new r(e,i,this.type)}eq(e,i=0){return this.type.eq(e.type)&&this.from+i==e.from&&this.to+i==e.to}map(e,i,t){return this.type.map(e,this,i,t)}static widget(e,i,t){return new r(e,e,new Ya(i,t))}static inline(e,i,t,n){return new r(e,i,new sn(t,n))}static node(e,i,t,n){return new r(e,i,new qs(t,n))}get spec(){return this.type.spec}get inline(){return this.type instanceof sn}get widget(){return this.type instanceof Ya}},Fn=[],ln={},Ke=class r{constructor(e,i){this.local=e.length?e:Fn,this.children=i.length?i:Fn}static create(e,i){return i.length?$a(i,e,0,ln):Ye}find(e,i,t){let n=[];return this.findInner(e??0,i??1e9,n,0,t),n}findInner(e,i,t,n,a){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=i&&s.to>=e&&(!a||a(s.spec))&&t.push(s.copy(s.from+n,s.to+n))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<i&&this.children[o+1]>e){let s=this.children[o]+1;this.children[o+2].findInner(e-s,i-s,t,n+s,a)}}map(e,i,t){return this==Ye||e.maps.length==0?this:this.mapInner(e,i,0,0,t||ln)}mapInner(e,i,t,n,a){let o;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,t,n);l&&l.type.valid(i,l)?(o||(o=[])).push(l):a.onRemove&&a.onRemove(this.local[s].spec)}return this.children.length?eb(this.children,o||[],e,i,t,n,a):o?new r(o.sort(cn),Fn):Ye}add(e,i){return i.length?this==Ye?r.create(e,i):this.addInner(e,i,0):this}addInner(e,i,t){let n,a=0;e.forEach((s,l)=>{let c=l+t,d;if(d=bp(i,s,c)){for(n||(n=this.children.slice());a<n.length&&n[a]<l;)a+=3;n[a]==l?n[a+2]=n[a+2].addInner(s,d,c+1):n.splice(a,0,l,l+s.nodeSize,$a(d,s,c+1,ln)),a+=3}});let o=gp(a?_p(i):i,-t);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||o.splice(s--,1);return new r(o.length?this.local.concat(o).sort(cn):this.local,n||this.children)}remove(e){return e.length==0||this==Ye?this:this.removeInner(e,0)}removeInner(e,i){let t=this.children,n=this.local;for(let a=0;a<t.length;a+=3){let o,s=t[a]+i,l=t[a+1]+i;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>s&&h.to<l&&(e[d]=null,(o||(o=[])).push(h));if(!o)continue;t==this.children&&(t=this.children.slice());let c=t[a+2].removeInner(o,s+1);c!=Ye?t[a+2]=c:(t.splice(a,3),a-=3)}if(n.length){for(let a=0,o;a<e.length;a++)if(o=e[a])for(let s=0;s<n.length;s++)n[s].eq(o,i)&&(n==this.local&&(n=this.local.slice()),n.splice(s--,1))}return t==this.children&&n==this.local?this:n.length||t.length?new r(n,t):Ye}forChild(e,i){if(this==Ye)return this;if(i.isLeaf)return r.empty;let t,n;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(t=this.children[s+2]);break}let a=e+1,o=a+i.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<o&&l.to>a&&l.type instanceof sn){let c=Math.max(a,l.from)-a,d=Math.min(o,l.to)-a;c<d&&(n||(n=[])).push(l.copy(c,d))}}if(n){let s=new r(n.sort(cn),Fn);return t?new Ua([s,t]):s}return t||Ye}eq(e){if(this==e)return!0;if(!(e instanceof r)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let i=0;i<this.local.length;i++)if(!this.local[i].eq(e.local[i]))return!1;for(let i=0;i<this.children.length;i+=3)if(this.children[i]!=e.children[i]||this.children[i+1]!=e.children[i+1]||!this.children[i+2].eq(e.children[i+2]))return!1;return!0}locals(e){return Xs(this.localsInner(e))}localsInner(e){if(this==Ye)return Fn;if(e.inlineContent||!this.local.some(sn.is))return this.local;let i=[];for(let t=0;t<this.local.length;t++)this.local[t].type instanceof sn||i.push(this.local[t]);return i}};Ke.empty=new Ke([],[]);Ke.removeOverlap=Xs;var Ye=Ke.empty,Ua=class r{constructor(e){this.members=e}map(e,i){let t=this.members.map(n=>n.map(e,i,ln));return r.from(t)}forChild(e,i){if(i.isLeaf)return Ke.empty;let t=[];for(let n=0;n<this.members.length;n++){let a=this.members[n].forChild(e,i);a!=Ye&&(a instanceof r?t=t.concat(a.members):t.push(a))}return r.from(t)}eq(e){if(!(e instanceof r)||e.members.length!=this.members.length)return!1;for(let i=0;i<this.members.length;i++)if(!this.members[i].eq(e.members[i]))return!1;return!0}locals(e){let i,t=!0;for(let n=0;n<this.members.length;n++){let a=this.members[n].localsInner(e);if(a.length)if(!i)i=a;else{t&&(i=i.slice(),t=!1);for(let o=0;o<a.length;o++)i.push(a[o])}}return i?Xs(t?i:i.sort(cn)):Fn}static from(e){switch(e.length){case 0:return Ye;case 1:return e[0];default:return new r(e.every(i=>i instanceof Ke)?e:e.reduce((i,t)=>i.concat(t instanceof Ke?t:t.members),[]))}}};function eb(r,e,i,t,n,a,o){let s=r.slice();for(let c=0,d=a;c<i.maps.length;c++){let h=0;i.maps[c].forEach((p,f,m,v)=>{let y=v-m-(f-p);for(let D=0;D<s.length;D+=3){let be=s[D+1];if(be<0||p>be+d-h)continue;let mi=s[D]+d-h;f>=mi?s[D+1]=p<=mi?-2:-1:p>=d&&y&&(s[D]+=y,s[D+1]+=y)}h+=y}),d=i.maps[c].map(d,-1)}let l=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(s[c+1]==-2){l=!0,s[c+1]=-1;continue}let d=i.map(r[c]+a),h=d-n;if(h<0||h>=t.content.size){l=!0;continue}let p=i.map(r[c+1]+a,-1),f=p-n,{index:m,offset:v}=t.content.findIndex(h),y=t.maybeChild(m);if(y&&v==h&&v+y.nodeSize==f){let D=s[c+2].mapInner(i,y,d+1,r[c]+a+1,o);D!=Ye?(s[c]=h,s[c+1]=f,s[c+2]=D):(s[c+1]=-2,l=!0)}else l=!0}if(l){let c=tb(s,r,e,i,n,a,o),d=$a(c,t,0,o);e=d.local;for(let h=0;h<s.length;h+=3)s[h+1]<0&&(s.splice(h,3),h-=3);for(let h=0,p=0;h<d.children.length;h+=3){let f=d.children[h];for(;p<s.length&&s[p]<f;)p+=3;s.splice(p,0,d.children[h],d.children[h+1],d.children[h+2])}}return new Ke(e.sort(cn),s)}function gp(r,e){if(!e||!r.length)return r;let i=[];for(let t=0;t<r.length;t++){let n=r[t];i.push(new Wt(n.from+e,n.to+e,n.type))}return i}function tb(r,e,i,t,n,a,o){function s(l,c){for(let d=0;d<l.local.length;d++){let h=l.local[d].map(t,n,c);h?i.push(h):o.onRemove&&o.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)s(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<r.length;l+=3)r[l+1]==-1&&s(r[l+2],e[l]+a+1);return i}function bp(r,e,i){if(e.isLeaf)return null;let t=i+e.nodeSize,n=null;for(let a=0,o;a<r.length;a++)(o=r[a])&&o.from>i&&o.to<t&&((n||(n=[])).push(o),r[a]=null);return n}function _p(r){let e=[];for(let i=0;i<r.length;i++)r[i]!=null&&e.push(r[i]);return e}function $a(r,e,i,t){let n=[],a=!1;e.forEach((s,l)=>{let c=bp(r,s,l+i);if(c){a=!0;let d=$a(c,s,i+l+1,t);d!=Ye&&n.push(l,l+s.nodeSize,d)}});let o=gp(a?_p(r):r,-i).sort(cn);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||(t.onRemove&&t.onRemove(o[s].spec),o.splice(s--,1));return o.length||n.length?new Ke(o,n):Ye}function cn(r,e){return r.from-e.from||r.to-e.to}function Xs(r){let e=r;for(let i=0;i<e.length-1;i++){let t=e[i];if(t.from!=t.to)for(let n=i+1;n<e.length;n++){let a=e[n];if(a.from==t.from){a.to!=t.to&&(e==r&&(e=r.slice()),e[n]=a.copy(a.from,t.to),Rh(e,n+1,a.copy(t.to,a.to)));continue}else{a.from<t.to&&(e==r&&(e=r.slice()),e[i]=t.copy(t.from,a.from),Rh(e,n,t.copy(a.from,t.to)));break}}}return e}function Rh(r,e,i){for(;e<r.length&&cn(i,r[e])>0;)e++;r.splice(e,0,i)}function Ds(r){let e=[];return r.someProp("decorations",i=>{let t=i(r.state);t&&t!=Ye&&e.push(t)}),r.cursorWrapper&&e.push(Ke.create(r.state.doc,[r.cursorWrapper.deco])),Ua.from(e)}var ib={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},nb=it&&Mi<=11,Ws=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}},Ys=class{constructor(e,i){this.view=e,this.handleDOMChange=i,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ws,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(t=>{for(let n=0;n<t.length;n++)this.queue.push(t[n]);it&&Mi<=11&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),nb&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ib)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let i=0;i<e.length;i++)this.queue.push(e[i]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(kh(this.view)){if(this.suppressingSelectionUpdates)return oi(this.view);if(it&&Mi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&dn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let i=new Set,t;for(let a=e.focusNode;a;a=Cr(a))i.add(a);for(let a=e.anchorNode;a;a=Cr(a))if(i.has(a)){t=a;break}let n=t&&this.view.docView.nearestDesc(t);if(n&&n.ignoreMutation({type:"selection",target:t.nodeType==3?t.parentNode:t}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let i=this.pendingRecords();i.length&&(this.queue=[]);let t=e.domSelectionRange(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&kh(e)&&!this.ignoreSelectionChange(t),a=-1,o=-1,s=!1,l=[];if(e.editable)for(let d=0;d<i.length;d++){let h=this.registerMutation(i[d],l);h&&(a=a<0?h.from:Math.min(h.from,a),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(s=!0))}if(Ot&&l.length){let d=l.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,p]=d;h.parentNode&&h.parentNode.parentNode==p.parentNode?p.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let p of d){let f=p.parentNode;f&&f.nodeName=="LI"&&(!h||ob(e,h)!=f)&&p.remove()}}}let c=null;a<0&&n&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Qa(t)&&(c=$s(e))&&c.eq(Q.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,oi(e),this.currentSelection.set(t),e.scrollToSelection()):(a>-1||n)&&(a>-1&&(e.docView.markDirty(a,o),rb(e)),this.handleDOMChange(a,o,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(t)||oi(e),this.currentSelection.set(t))}registerMutation(e,i){if(i.indexOf(e.target)>-1)return null;let t=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(t==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!t||t.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let h=e.addedNodes[d];i.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(t.contentDOM&&t.contentDOM!=t.dom&&!t.contentDOM.contains(e.target))return{from:t.posBefore,to:t.posAfter};let n=e.previousSibling,a=e.nextSibling;if(it&&Mi<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:h,nextSibling:p}=e.addedNodes[d];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(n=h),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(a=p)}let o=n&&n.parentNode==e.target?Be(n)+1:0,s=t.localPosFromDOM(e.target,o,-1),l=a&&a.parentNode==e.target?Be(a):e.target.childNodes.length,c=t.localPosFromDOM(e.target,l,1);return{from:s,to:c}}else return e.type=="attributes"?{from:t.posAtStart-t.border,to:t.posAtEnd+t.border}:(this.lastChangedTextNode=e.target,{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}},Oh=new WeakMap,Fh=!1;function rb(r){if(!Oh.has(r)&&(Oh.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=Ot,Fh)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Fh=!0}}function Nh(r,e){let i=e.startContainer,t=e.startOffset,n=e.endContainer,a=e.endOffset,o=r.domAtPos(r.state.selection.anchor);return dn(o.node,o.offset,n,a)&&([i,t,n,a]=[n,a,i,t]),{anchorNode:i,anchorOffset:t,focusNode:n,focusOffset:a}}function ab(r,e){if(e.getComposedRanges){let n=e.getComposedRanges(r.root)[0];if(n)return Nh(r,n)}let i;function t(n){n.preventDefault(),n.stopImmediatePropagation(),i=n.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",t,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",t,!0),i?Nh(r,i):null}function ob(r,e){for(let i=e.parentNode;i&&i!=r.dom;i=i.parentNode){let t=r.docView.nearestDesc(i,!0);if(t&&t.node.isBlock)return i}return null}function sb(r,e,i){let{node:t,fromOffset:n,toOffset:a,from:o,to:s}=r.docView.parseRange(e,i),l=r.domSelectionRange(),c,d=l.anchorNode;if(d&&r.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],Qa(l)||c.push({node:l.focusNode,offset:l.focusOffset})),$e&&r.input.lastKeyCode===8)for(let y=a;y>n;y--){let D=t.childNodes[y-1],be=D.pmViewDesc;if(D.nodeName=="BR"&&!be){a=y;break}if(!be||be.size)break}let h=r.state.doc,p=r.someProp("domParser")||ki.fromSchema(r.state.schema),f=h.resolve(o),m=null,v=p.parse(t,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:n,to:a,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:lb,context:f});if(c&&c[0].pos!=null){let y=c[0].pos,D=c[1]&&c[1].pos;D==null&&(D=y),m={anchor:y+o,head:D+o}}return{doc:v,sel:m,from:o,to:s}}function lb(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(Qe&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let i=document.createElement("div");return i.appendChild(document.createElement("li")),{skip:i}}else if(r.parentNode.lastChild==r||Qe&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}var cb=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function db(r,e,i,t,n){let a=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let ne=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,gi=$s(r,ne);if(gi&&!r.state.selection.eq(gi)){if($e&&Rt&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",Um=>Um(r,rn(13,"Enter"))))return;let Gr=r.state.tr.setSelection(gi);ne=="pointer"?Gr.setMeta("pointer",!0):ne=="key"&&Gr.scrollIntoView(),a&&Gr.setMeta("composition",a),r.dispatch(Gr)}return}let o=r.state.doc.resolve(e),s=o.sharedDepth(i);e=o.before(s+1),i=r.state.doc.resolve(i).after(s+1);let l=r.state.selection,c=sb(r,e,i),d=r.state.doc,h=d.slice(c.from,c.to),p,f;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(p=r.state.selection.to,f="end"):(p=r.state.selection.from,f="start"),r.input.lastKeyCode=null;let m=ub(h.content,c.doc.content,c.from,p,f);if((Pn&&r.input.lastIOSEnter>Date.now()-225||Rt)&&n.some(ne=>ne.nodeType==1&&!cb.test(ne.nodeName))&&(!m||m.endA>=m.endB)&&r.someProp("handleKeyDown",ne=>ne(r,rn(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!m)if(t&&l instanceof ue&&!l.empty&&l.$head.sameParent(l.$anchor)&&!r.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let ne=Ph(r,r.state.doc,c.sel);if(ne&&!ne.eq(r.state.selection)){let gi=r.state.tr.setSelection(ne);a&&gi.setMeta("composition",a),r.dispatch(gi)}}return}r.input.domChangeCount++,r.state.selection.from<r.state.selection.to&&m.start==m.endB&&r.state.selection instanceof ue&&(m.start>r.state.selection.from&&m.start<=r.state.selection.from+2&&r.state.selection.from>=c.from?m.start=r.state.selection.from:m.endA<r.state.selection.to&&m.endA>=r.state.selection.to-2&&r.state.selection.to<=c.to&&(m.endB+=r.state.selection.to-m.endA,m.endA=r.state.selection.to)),it&&Mi<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" \xA0"&&(m.start--,m.endA--,m.endB--);let v=c.doc.resolveNoCache(m.start-c.from),y=c.doc.resolveNoCache(m.endB-c.from),D=d.resolve(m.start),be=v.sameParent(y)&&v.parent.inlineContent&&D.end()>=m.endA,mi;if((Pn&&r.input.lastIOSEnter>Date.now()-225&&(!be||n.some(ne=>ne.nodeName=="DIV"||ne.nodeName=="P"))||!be&&v.pos<c.doc.content.size&&!v.sameParent(y)&&(mi=Q.findFrom(c.doc.resolve(v.pos+1),1,!0))&&mi.head==y.pos)&&r.someProp("handleKeyDown",ne=>ne(r,rn(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>m.start&&pb(d,m.start,m.endA,v,y)&&r.someProp("handleKeyDown",ne=>ne(r,rn(8,"Backspace")))){Rt&&$e&&r.domObserver.suppressSelectionUpdates();return}$e&&Rt&&m.endB==m.start&&(r.input.lastAndroidDelete=Date.now()),Rt&&!be&&v.start()!=y.start()&&y.parentOffset==0&&v.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,y=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{r.someProp("handleKeyDown",function(ne){return ne(r,rn(13,"Enter"))})},20));let fi=m.start,Bi=m.endA,at,Vo,Qr;if(be){if(v.pos==y.pos)it&&Mi<=11&&v.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>oi(r),20)),at=r.state.tr.delete(fi,Bi),Vo=d.resolve(m.start).marksAcross(d.resolve(m.endA));else if(m.endA==m.endB&&(Qr=hb(v.parent.content.cut(v.parentOffset,y.parentOffset),D.parent.content.cut(D.parentOffset,m.endA-D.start()))))at=r.state.tr,Qr.type=="add"?at.addMark(fi,Bi,Qr.mark):at.removeMark(fi,Bi,Qr.mark);else if(v.parent.child(v.index()).isText&&v.index()==y.index()-(y.textOffset?0:1)){let ne=v.parent.textBetween(v.parentOffset,y.parentOffset);if(r.someProp("handleTextInput",gi=>gi(r,fi,Bi,ne)))return;at=r.state.tr.insertText(ne,fi,Bi)}}if(at||(at=r.state.tr.replace(fi,Bi,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let ne=Ph(r,at.doc,c.sel);ne&&!($e&&Rt&&r.composing&&ne.empty&&(m.start!=m.endB||r.input.lastAndroidDelete<Date.now()-100)&&(ne.head==fi||ne.head==at.mapping.map(Bi)-1)||it&&ne.empty&&ne.head==fi)&&at.setSelection(ne)}Vo&&at.ensureMarks(Vo),a&&at.setMeta("composition",a),r.dispatch(at.scrollIntoView())}function Ph(r,e,i){return Math.max(i.anchor,i.head)>e.content.size?null:Ks(r,e.resolve(i.anchor),e.resolve(i.head))}function hb(r,e){let i=r.firstChild.marks,t=e.firstChild.marks,n=i,a=t,o,s,l;for(let d=0;d<t.length;d++)n=t[d].removeFromSet(n);for(let d=0;d<i.length;d++)a=i[d].removeFromSet(a);if(n.length==1&&a.length==0)s=n[0],o="add",l=d=>d.mark(s.addToSet(d.marks));else if(n.length==0&&a.length==1)s=a[0],o="remove",l=d=>d.mark(s.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<e.childCount;d++)c.push(l(e.child(d)));if(k.from(c).eq(r))return{mark:s,type:o}}function pb(r,e,i,t,n){if(i-e<=n.pos-t.pos||Is(t,!0,!1)<n.pos)return!1;let a=r.resolve(e);if(!t.parent.isTextblock){let s=a.nodeAfter;return s!=null&&i==e+s.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let o=r.resolve(Is(a,!0,!0));return!o.parent.isTextblock||o.pos>i||Is(o,!0,!1)<i?!1:t.parent.content.cut(t.parentOffset).eq(o.parent.content)}function Is(r,e,i){let t=r.depth,n=e?r.end():r.pos;for(;t>0&&(e||r.indexAfter(t)==r.node(t).childCount);)t--,n++,e=!1;if(i){let a=r.node(t).maybeChild(r.indexAfter(t));for(;a&&!a.isLeaf;)a=a.firstChild,n++}return n}function ub(r,e,i,t,n){let a=r.findDiffStart(e,i);if(a==null)return null;let{a:o,b:s}=r.findDiffEnd(e,i+r.size,i+e.size);if(n=="end"){let l=Math.max(0,a-Math.min(o,s));t-=o+l-a}if(o<a&&r.size<e.size){let l=t<=a&&t>=o?a-t:0;a-=l,a&&a<e.size&&Lh(e.textBetween(a-1,a+1))&&(a+=l?1:-1),s=a+(s-o),o=a}else if(s<a){let l=t<=a&&t>=s?a-t:0;a-=l,a&&a<r.size&&Lh(r.textBetween(a-1,a+1))&&(a+=l?1:-1),o=a+(o-s),s=a}return{start:a,endA:o,endB:s}}function Lh(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),i=r.charCodeAt(1);return e>=56320&&e<=57343&&i>=55296&&i<=56319}var Ka=class{constructor(e,i){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new zs,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=i,this.state=i.state,this.directPlugins=i.plugins||[],this.directPlugins.forEach(jh),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=zh(this),Bh(this),this.nodeViews=Hh(this),this.docView=_h(this.state.doc,Vh(this),Ds(this),this.dom,this),this.domObserver=new Ys(this,(t,n,a,o)=>db(this,t,n,a,o)),this.domObserver.start(),Lg(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let i in e)this._props[i]=e[i];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Hs(this);let i=this._props;this._props=e,e.plugins&&(e.plugins.forEach(jh),this.directPlugins=e.plugins),this.updateStateInner(e.state,i)}setProps(e){let i={};for(let t in this._props)i[t]=this._props[t];i.state=this.state;for(let t in e)i[t]=e[t];this.update(i)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,i){var t;let n=this.state,a=!1,o=!1;e.storedMarks&&this.composing&&(up(this),o=!0),this.state=e;let s=n.plugins!=e.plugins||this._props.plugins!=i.plugins;if(s||this._props.plugins!=i.plugins||this._props.nodeViews!=i.nodeViews){let f=Hh(this);fb(f,this.nodeViews)&&(this.nodeViews=f,a=!0)}(s||i.handleDOMEvents!=this._props.handleDOMEvents)&&Hs(this),this.editable=zh(this),Bh(this);let l=Ds(this),c=Vh(this),d=n.plugins!=e.plugins&&!n.doc.eq(e.doc)?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",h=a||!this.docView.matchesNode(e.doc,c,l);(h||!e.selection.eq(n.selection))&&(o=!0);let p=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&ig(this);if(o){this.domObserver.stop();let f=h&&(it||$e)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&mb(n.selection,e.selection);if(h){let m=$e?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Qg(this)),(a||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=_h(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Cg(this))?oi(this,f):(ep(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),!((t=this.dragging)===null||t===void 0)&&t.node&&!n.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,n),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&ng(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",i=>i(this)))if(this.state.selection instanceof j){let i=this.docView.domAfterPos(this.state.selection.from);i.nodeType==1&&ph(this,i.getBoundingClientRect(),e)}else ph(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let i=0;i<this.directPlugins.length;i++){let t=this.directPlugins[i];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let i=0;i<this.state.plugins.length;i++){let t=this.state.plugins[i];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}else for(let i=0;i<this.pluginViews.length;i++){let t=this.pluginViews[i];t.update&&t.update(this,e)}}updateDraggedNode(e,i){let t=e.node,n=-1;if(this.state.doc.nodeAt(t.from)==t.node)n=t.from;else{let a=t.from+(this.state.doc.content.size-i.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==t.node&&(n=a)}this.dragging=new Wa(e.slice,e.move,n<0?void 0:j.create(this.state.doc,n))}someProp(e,i){let t=this._props&&this._props[e],n;if(t!=null&&(n=i?i(t):t))return n;for(let o=0;o<this.directPlugins.length;o++){let s=this.directPlugins[o].props[e];if(s!=null&&(n=i?i(s):s))return n}let a=this.state.plugins;if(a)for(let o=0;o<a.length;o++){let s=a[o].props[e];if(s!=null&&(n=i?i(s):s))return n}}hasFocus(){if(it){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&rg(this.dom),oi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let i=this.dom.parentNode;i;i=i.parentNode)if(i.nodeType==9||i.nodeType==11&&i.host)return i.getSelection||(Object.getPrototypeOf(i).getSelection=()=>i.ownerDocument.getSelection()),this._root=i}return e||document}updateRoot(){this._root=null}posAtCoords(e){return cg(this,e)}coordsAtPos(e,i=1){return Kh(this,e,i)}domAtPos(e,i=0){return this.docView.domFromPos(e,i)}nodeDOM(e){let i=this.docView.descAt(e);return i?i.nodeDOM:null}posAtDOM(e,i,t=-1){let n=this.docView.posFromDOM(e,i,t);if(n==null)throw new RangeError("DOM position not inside the editor");return n}endOfTextblock(e,i){return mg(this,i||this.state,e)}pasteHTML(e,i){return Dr(this,"",e,!1,i||new ClipboardEvent("paste"))}pasteText(e,i){return Dr(this,e,null,!0,i||new ClipboardEvent("paste"))}destroy(){this.docView&&(Vg(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ds(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Wf())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return zg(this,e)}dispatch(e){let i=this._props.dispatchTransaction;i?i.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return Qe&&this.root.nodeType===11&&Qf(this.dom.ownerDocument)==this.dom&&ab(this,e)||e}domSelection(){return this.root.getSelection()}};function Vh(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",i=>{if(typeof i=="function"&&(i=i(r.state)),i)for(let t in i)t=="class"?e.class+=" "+i[t]:t=="style"?e.style=(e.style?e.style+";":"")+i[t]:!e[t]&&t!="contenteditable"&&t!="nodeName"&&(e[t]=String(i[t]))}),e.translate||(e.translate="no"),[Wt.node(0,r.state.doc.content.size,e)]}function Bh(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:Wt.widget(r.state.selection.head,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function zh(r){return!r.someProp("editable",e=>e(r.state)===!1)}function mb(r,e){let i=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(i)!=e.$anchor.start(i)}function Hh(r){let e=Object.create(null);function i(t){for(let n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}return r.someProp("nodeViews",i),r.someProp("markViews",i),e}function fb(r,e){let i=0,t=0;for(let n in r){if(r[n]!=e[n])return!0;i++}for(let n in e)t++;return i!=t}function jh(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var gb=["ol",0],bb=["ul",0],_b=["li",0],vp={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs(r){return{order:r.hasAttribute("start")?+r.getAttribute("start"):1}}}],toDOM(r){return r.attrs.order==1?gb:["ol",{start:r.attrs.order},0]}},yp={parseDOM:[{tag:"ul"}],toDOM(){return bb}},xp={parseDOM:[{tag:"li"}],toDOM(){return _b},defining:!0};function wp(r,e=null){return function(i,t){let{$from:n,$to:a}=i.selection,o=n.blockRange(a),s=!1,l=o;if(!o)return!1;if(o.depth>=2&&n.node(o.depth-1).type.compatibleContent(r)&&o.startIndex==0){if(n.index(o.depth-1)==0)return!1;let d=i.doc.resolve(o.start-2);l=new Ji(d,d,o.depth),o.endIndex<o.parent.childCount&&(o=new Ji(n,i.doc.resolve(a.end(o.depth)),o.depth)),s=!0}let c=Tn(l,r,e,o);return c?(t&&t(vb(i.tr,o,c,s,r).scrollIntoView()),!0):!1}}function vb(r,e,i,t,n){let a=k.empty;for(let d=i.length-1;d>=0;d--)a=k.from(i[d].type.create(i[d].attrs,a));r.step(new Fe(e.start-(t?2:0),e.end,e.start,e.end,new I(a,0,0),i.length,!0));let o=0;for(let d=0;d<i.length;d++)i[d].type==n&&(o=d+1);let s=i.length-o,l=e.start+i.length-(t?2:0),c=e.parent;for(let d=e.startIndex,h=e.endIndex,p=!0;d<h;d++,p=!1)!p&&Di(r.doc,l,s)&&(r.split(l,s),l+=2*s),l+=c.child(d).nodeSize;return r}function Cp(r,e){return function(i,t){let{$from:n,$to:a,node:o}=i.selection;if(o&&o.isBlock||n.depth<2||!n.sameParent(a))return!1;let s=n.node(-1);if(s.type!=r)return!1;if(n.parent.content.size==0&&n.node(-1).childCount==n.indexAfter(-1)){if(n.depth==3||n.node(-3).type!=r||n.index(-2)!=n.node(-2).childCount-1)return!1;if(t){let h=k.empty,p=n.index(-1)?1:n.index(-2)?2:3;for(let D=n.depth-p;D>=n.depth-3;D--)h=k.from(n.node(D).copy(h));let f=n.indexAfter(-1)<n.node(-2).childCount?1:n.indexAfter(-2)<n.node(-3).childCount?2:3;h=h.append(k.from(r.createAndFill()));let m=n.before(n.depth-(p-1)),v=i.tr.replace(m,n.after(-f),new I(h,4-p,0)),y=-1;v.doc.nodesBetween(m,v.doc.content.size,(D,be)=>{if(y>-1)return!1;D.isTextblock&&D.content.size==0&&(y=be+1)}),y>-1&&v.setSelection(Q.near(v.doc.resolve(y))),t(v.scrollIntoView())}return!0}let l=a.pos==n.end()?s.contentMatchAt(0).defaultType:null,c=i.tr.delete(n.pos,a.pos),d=l?[e?{type:r,attrs:e}:null,{type:l}]:void 0;return Di(c.doc,n.pos,2,d)?(t&&t(c.split(n.pos,2,d).scrollIntoView()),!0):!1}}function Zs(r){return function(e,i){let{$from:t,$to:n}=e.selection,a=t.blockRange(n,o=>o.childCount>0&&o.firstChild.type==r);return a?i?t.node(a.depth-1).type==r?yb(e,i,r,a):xb(e,i,a):!0:!1}}function yb(r,e,i,t){let n=r.tr,a=t.end,o=t.$to.end(t.depth);a<o&&(n.step(new Fe(a-1,o,a,o,new I(k.from(i.create(null,t.parent.copy())),1,0),1,!0)),t=new Ji(n.doc.resolve(t.$from.pos),n.doc.resolve(o),t.depth));let s=en(t);if(s==null)return!1;n.lift(t,s);let l=n.mapping.map(a,-1)-1;return tn(n.doc,l)&&n.join(l),e(n.scrollIntoView()),!0}function xb(r,e,i){let t=r.tr,n=i.parent;for(let f=i.end,m=i.endIndex-1,v=i.startIndex;m>v;m--)f-=n.child(m).nodeSize,t.delete(f-1,f+1);let a=t.doc.resolve(i.start),o=a.nodeAfter;if(t.mapping.map(i.end)!=i.start+a.nodeAfter.nodeSize)return!1;let s=i.startIndex==0,l=i.endIndex==n.childCount,c=a.node(-1),d=a.index(-1);if(!c.canReplace(d+(s?0:1),d+1,o.content.append(l?k.empty:k.from(n))))return!1;let h=a.pos,p=h+o.nodeSize;return t.step(new Fe(h-(s?1:0),p+(l?1:0),h+1,p-1,new I((s?k.empty:k.from(n.copy(k.empty))).append(l?k.empty:k.from(n.copy(k.empty))),s?0:1,l?0:1),s?0:1)),e(t.scrollIntoView()),!0}function el(r){return function(e,i){let{$from:t,$to:n}=e.selection,a=t.blockRange(n,c=>c.childCount>0&&c.firstChild.type==r);if(!a)return!1;let o=a.startIndex;if(o==0)return!1;let s=a.parent,l=s.child(o-1);if(l.type!=r)return!1;if(i){let c=l.lastChild&&l.lastChild.type==s.type,d=k.from(c?r.create():null),h=new I(k.from(r.create(null,k.from(s.type.create(null,d)))),c?3:1,0),p=a.start,f=a.end;i(e.tr.step(new Fe(p-(c?3:1),f,p,f,h,1,!0)).scrollIntoView())}return!0}}var Cb={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(r){return{href:r.getAttribute("href"),title:r.getAttribute("title"),target:r.getAttribute("target")}}}],toDOM(r){let{href:e,title:i,target:t}=r.attrs;return["a",{href:e,title:i,target:t},0]}},kb={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},Db={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:r=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(r)&&null}],toDOM(){return["strong",0]}},Ib={parseDOM:[{tag:"code"}],toDOM(){return["code",0]}},Sb={parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM(){return["u",0]}},Eb={parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM(){return["s",0]}},Mb={attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:r=>({color:r})}],toDOM(r){let{color:e}=r.attrs;return["span",{style:`color:${e};`},0]}},Tb={attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:r=>({backgroundColor:r})}],toDOM(r){let{backgroundColor:e}=r.attrs;return["span",{style:`background-color:${e};`},0]}},Ab={attrs:{},parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM(){return["sup",0]}},Rb={attrs:{},parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM(){return["sub",0]}},Ob={link:Cb,em:kb,strong:Db,code:Ib,u:Sb,s:Eb,text_color:Mb,text_background_color:Tb,sup:Ab,sub:Rb},Fb={content:"block+"},Nb={group:"inline"},Pb={content:"inline*",group:"block",attrs:{align:{default:null},indent:{default:null}},parseDOM:[{tag:"p",getAttrs(r){let{textAlign:e}=r.style,i=r.getAttribute("align")||e||null,t=r.getAttribute("data-indent")||null;return{align:i,indent:parseInt(t,10)||null}}}],toDOM(r){let{align:e,indent:i}=r.attrs,t={textAlign:e!=="left"?e:null,marginLeft:i!==null?`${i*40}px`:null};return["p",{style:ya(t)||null,"data-indent":i??null},0]}},Lb={content:"block+",group:"block",defining:!0,attrs:{indent:{default:null}},parseDOM:[{tag:"blockquote",getAttrs(r){let e=r.getAttribute("data-indent")||null;return{indent:parseInt(e,10)||null}}}],toDOM(r){let{indent:e}=r.attrs,i={marginLeft:e!==null?`${e*40}px`:null};return["blockquote",{style:ya(i)||null,"data-indent":e??null},0]}},Vb={group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["hr"]}},Bb={attrs:{level:{default:1},align:{default:null},indent:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(r){let{textAlign:e}=r.style,i=r.getAttribute("align")||e||null,t=r.getAttribute("data-indent")||null;return{level:1,align:i,indent:parseInt(t,10)||null}}},{tag:"h2",getAttrs(r){let{textAlign:e}=r.style,i=r.getAttribute("align")||e||null,t=r.getAttribute("data-indent")||null;return{level:2,align:i,indent:parseInt(t,10)||null}}},{tag:"h3",getAttrs(r){let{textAlign:e}=r.style,i=r.getAttribute("align")||e||null,t=r.getAttribute("data-indent")||null;return{level:3,align:i,indent:parseInt(t,10)||null}}},{tag:"h4",getAttrs(r){let{textAlign:e}=r.style,i=r.getAttribute("align")||e||null,t=r.getAttribute("data-indent")||null;return{level:4,align:i,indent:parseInt(t,10)||null}}},{tag:"h5",getAttrs(r){let{textAlign:e}=r.style,i=r.getAttribute("align")||e||null,t=r.getAttribute("data-indent")||null;return{level:5,align:i,indent:parseInt(t,10)||null}}},{tag:"h6",getAttrs(r){let{textAlign:e}=r.style,i=r.getAttribute("align")||e||null,t=r.getAttribute("data-indent")||null;return{level:6,align:i,indent:parseInt(t,10)||null}}}],toDOM(r){let{level:e,align:i,indent:t}=r.attrs,n={textAlign:i!=="left"?i:null,marginLeft:t!==null?`${t*40}px`:null},o={style:ya(n)||null,"data-indent":t??null};return[`h${e}`,o,0]}},zb={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return["pre",["code",0]]}},Hb={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},jb={inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(r){return{src:r.getAttribute("src"),title:r.getAttribute("title"),alt:r.getAttribute("alt"),width:r.getAttribute("width")}}}],toDOM(r){let{src:e,alt:i,title:t,width:n}=r.attrs;return["img",{src:e,alt:i,title:t,width:n}]}},qb=Kt(_e({},xp),{content:"paragraph block*"}),Wb=Kt(_e({},vp),{content:"list_item+",group:"block"}),Yb=Kt(_e({},yp),{content:"list_item+",group:"block"}),Ub={doc:Fb,text:Nb,paragraph:Pb,blockquote:Lb,horizontal_rule:Vb,heading:Bb,hard_break:Hb,code_block:zb,image:jb,list_item:qb,ordered_list:Wb,bullet_list:Yb},Mr=new Sa({marks:Ob,nodes:Ub});var Dp=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function $b(r,e){let{$cursor:i}=r.selection;return!i||(e?!e.endOfTextblock("backward",r):i.parentOffset>0)?null:i}var Kb=(r,e,i)=>{let t=$b(r,i);if(!t)return!1;let n=Ip(t);if(!n){let o=t.blockRange(),s=o&&en(o);return s==null?!1:(e&&e(r.tr.lift(o,s).scrollIntoView()),!0)}let a=n.nodeBefore;if(!a.type.spec.isolating&&Mp(r,n,e))return!0;if(t.parent.content.size==0&&(Vn(a,"end")||j.isSelectable(a))){let o=Na(r.doc,t.before(),t.after(),I.empty);if(o&&o.slice.size<o.to-o.from){if(e){let s=r.tr.step(o);s.setSelection(Vn(a,"end")?Q.findFrom(s.doc.resolve(s.mapping.map(n.pos,-1)),-1):j.create(s.doc,n.pos-a.nodeSize)),e(s.scrollIntoView())}return!0}}return a.isAtom&&n.depth==t.depth-1?(e&&e(r.tr.delete(n.pos-a.nodeSize,n.pos).scrollIntoView()),!0):!1};function Vn(r,e,i=!1){for(let t=r;t;t=e=="start"?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(i&&t.childCount!=1)return!1}return!1}var Qb=(r,e,i)=>{let{$head:t,empty:n}=r.selection,a=t;if(!n)return!1;if(t.parent.isTextblock){if(i?!i.endOfTextblock("backward",r):t.parentOffset>0)return!1;a=Ip(t)}let o=a&&a.nodeBefore;return!o||!j.isSelectable(o)?!1:(e&&e(r.tr.setSelection(j.create(r.doc,a.pos-o.nodeSize)).scrollIntoView()),!0)};function Ip(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function Gb(r,e){let{$cursor:i}=r.selection;return!i||(e?!e.endOfTextblock("forward",r):i.parentOffset<i.parent.content.size)?null:i}var Jb=(r,e,i)=>{let t=Gb(r,i);if(!t)return!1;let n=Sp(t);if(!n)return!1;let a=n.nodeAfter;if(Mp(r,n,e))return!0;if(t.parent.content.size==0&&(Vn(a,"start")||j.isSelectable(a))){let o=Na(r.doc,t.before(),t.after(),I.empty);if(o&&o.slice.size<o.to-o.from){if(e){let s=r.tr.step(o);s.setSelection(Vn(a,"start")?Q.findFrom(s.doc.resolve(s.mapping.map(n.pos)),1):j.create(s.doc,s.mapping.map(n.pos))),e(s.scrollIntoView())}return!0}}return a.isAtom&&n.depth==t.depth-1?(e&&e(r.tr.delete(n.pos,n.pos+a.nodeSize).scrollIntoView()),!0):!1},Xb=(r,e,i)=>{let{$head:t,empty:n}=r.selection,a=t;if(!n)return!1;if(t.parent.isTextblock){if(i?!i.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)return!1;a=Sp(t)}let o=a&&a.nodeAfter;return!o||!j.isSelectable(o)?!1:(e&&e(r.tr.setSelection(j.create(r.doc,a.pos)).scrollIntoView()),!0)};function Sp(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let i=r.node(e);if(r.index(e)+1<i.childCount)return r.doc.resolve(r.after(e+1));if(i.type.spec.isolating)break}return null}var Ep=(r,e)=>{let{$from:i,$to:t}=r.selection,n=i.blockRange(t),a=n&&en(n);return a==null?!1:(e&&e(r.tr.lift(n,a).scrollIntoView()),!0)},il=(r,e)=>{let{$head:i,$anchor:t}=r.selection;return!i.parent.type.spec.code||!i.sameParent(t)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function nl(r){for(let e=0;e<r.edgeCount;e++){let{type:i}=r.edge(e);if(i.isTextblock&&!i.hasRequiredAttrs())return i}return null}var rl=(r,e)=>{let{$head:i,$anchor:t}=r.selection;if(!i.parent.type.spec.code||!i.sameParent(t))return!1;let n=i.node(-1),a=i.indexAfter(-1),o=nl(n.contentMatchAt(a));if(!o||!n.canReplaceWith(a,a,o))return!1;if(e){let s=i.after(),l=r.tr.replaceWith(s,s,o.createAndFill());l.setSelection(Q.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},al=(r,e)=>{let i=r.selection,{$from:t,$to:n}=i;if(i instanceof ut||t.parent.inlineContent||n.parent.inlineContent)return!1;let a=nl(n.parent.contentMatchAt(n.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let o=(!t.parentOffset&&n.index()<n.parent.childCount?t:n).pos,s=r.tr.insert(o,a.createAndFill());s.setSelection(ue.create(s.doc,o+1)),e(s.scrollIntoView())}return!0},ol=(r,e)=>{let{$cursor:i}=r.selection;if(!i||i.parent.content.size)return!1;if(i.depth>1&&i.after()!=i.end(-1)){let a=i.before();if(Di(r.doc,a))return e&&e(r.tr.split(a).scrollIntoView()),!0}let t=i.blockRange(),n=t&&en(t);return n==null?!1:(e&&e(r.tr.lift(t,n).scrollIntoView()),!0)};function Zb(r){return(e,i)=>{let{$from:t,$to:n}=e.selection;if(e.selection instanceof j&&e.selection.node.isBlock)return!t.parentOffset||!Di(e.doc,t.pos)?!1:(i&&i(e.tr.split(t.pos).scrollIntoView()),!0);if(!t.parent.isBlock)return!1;if(i){let a=n.parentOffset==n.parent.content.size,o=e.tr;(e.selection instanceof ue||e.selection instanceof ut)&&o.deleteSelection();let s=t.depth==0?null:nl(t.node(-1).contentMatchAt(t.indexAfter(-1))),l=r&&r(n.parent,a),c=l?[l]:a&&s?[{type:s}]:void 0,d=Di(o.doc,o.mapping.map(t.pos),1,c);if(!c&&!d&&Di(o.doc,o.mapping.map(t.pos),1,s?[{type:s}]:void 0)&&(s&&(c=[{type:s}]),d=!0),d&&(o.split(o.mapping.map(t.pos),1,c),!a&&!t.parentOffset&&t.parent.type!=s)){let h=o.mapping.map(t.before()),p=o.doc.resolve(h);s&&t.node(-1).canReplaceWith(p.index(),p.index()+1,s)&&o.setNodeMarkup(o.mapping.map(t.before()),s)}i(o.scrollIntoView())}return!0}}var sl=Zb();var e_=(r,e)=>(e&&e(r.tr.setSelection(new ut(r.doc))),!0);function t_(r,e,i){let t=e.nodeBefore,n=e.nodeAfter,a=e.index();return!t||!n||!t.type.compatibleContent(n.type)?!1:!t.content.size&&e.parent.canReplace(a-1,a)?(i&&i(r.tr.delete(e.pos-t.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(n.isTextblock||tn(r.doc,e.pos))?!1:(i&&i(r.tr.clearIncompatible(e.pos,t.type,t.contentMatchAt(t.childCount)).join(e.pos).scrollIntoView()),!0)}function Mp(r,e,i){let t=e.nodeBefore,n=e.nodeAfter,a,o;if(t.type.spec.isolating||n.type.spec.isolating)return!1;if(t_(r,e,i))return!0;let s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(a=(o=t.contentMatchAt(t.childCount)).findWrapping(n.type))&&o.matchType(a[0]||n.type).validEnd){if(i){let h=e.pos+n.nodeSize,p=k.empty;for(let v=a.length-1;v>=0;v--)p=k.from(a[v].create(null,p));p=k.from(t.copy(p));let f=r.tr.step(new Fe(e.pos-1,h,e.pos,h,new I(p,1,0),a.length,!0)),m=h+2*a.length;tn(f.doc,m)&&f.join(m),i(f.scrollIntoView())}return!0}let l=Q.findFrom(e,1),c=l&&l.$from.blockRange(l.$to),d=c&&en(c);if(d!=null&&d>=e.depth)return i&&i(r.tr.lift(c,d).scrollIntoView()),!0;if(s&&Vn(n,"start",!0)&&Vn(t,"end")){let h=t,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let f=n,m=1;for(;!f.isTextblock;f=f.firstChild)m++;if(h.canReplace(h.childCount,h.childCount,f.content)){if(i){let v=k.empty;for(let D=p.length-1;D>=0;D--)v=k.from(p[D].copy(v));let y=r.tr.step(new Fe(e.pos-p.length,e.pos+n.nodeSize,e.pos+m,e.pos+n.nodeSize-m,new I(v,p.length,0),0,!0));i(y.scrollIntoView())}return!0}}return!1}function Tp(r){return function(e,i){let t=e.selection,n=r<0?t.$from:t.$to,a=n.depth;for(;n.node(a).isInline;){if(!a)return!1;a--}return n.node(a).isTextblock?(i&&i(e.tr.setSelection(ue.create(e.doc,r<0?n.start(a):n.end(a)))),!0):!1}}var i_=Tp(-1),n_=Tp(1);function Ap(r,e=null){return function(i,t){let{$from:n,$to:a}=i.selection,o=n.blockRange(a),s=o&&Tn(o,r,e);return s?(t&&t(i.tr.wrap(o,s).scrollIntoView()),!0):!1}}function Ja(r,e=null){return function(i,t){let n=!1;for(let a=0;a<i.selection.ranges.length&&!n;a++){let{$from:{pos:o},$to:{pos:s}}=i.selection.ranges[a];i.doc.nodesBetween(o,s,(l,c)=>{if(n)return!1;if(!(!l.isTextblock||l.hasMarkup(r,e)))if(l.type==r)n=!0;else{let d=i.doc.resolve(c),h=d.index();n=d.parent.canReplaceWith(h,h+1,r)}})}if(!n)return!1;if(t){let a=i.tr;for(let o=0;o<i.selection.ranges.length;o++){let{$from:{pos:s},$to:{pos:l}}=i.selection.ranges[o];a.setBlockType(s,l,r,e)}t(a.scrollIntoView())}return!0}}function r_(r,e,i){for(let t=0;t<e.length;t++){let{$from:n,$to:a}=e[t],o=n.depth==0?r.inlineContent&&r.type.allowsMarkType(i):!1;if(r.nodesBetween(n.pos,a.pos,s=>{if(o)return!1;o=s.inlineContent&&s.type.allowsMarkType(i)}),o)return!0}return!1}function pn(r,e=null){return function(i,t){let{empty:n,$cursor:a,ranges:o}=i.selection;if(n&&!a||!r_(i.doc,o,r))return!1;if(t)if(a)r.isInSet(i.storedMarks||a.marks())?t(i.tr.removeStoredMark(r)):t(i.tr.addStoredMark(r.create(e)));else{let s=!1,l=i.tr;for(let c=0;!s&&c<o.length;c++){let{$from:d,$to:h}=o[c];s=i.doc.rangeHasMark(d.pos,h.pos,r)}for(let c=0;c<o.length;c++){let{$from:d,$to:h}=o[c];if(s)l.removeMark(d.pos,h.pos,r);else{let p=d.pos,f=h.pos,m=d.nodeAfter,v=h.nodeBefore,y=m&&m.isText?/^\s*/.exec(m.text)[0].length:0,D=v&&v.isText?/\s*$/.exec(v.text)[0].length:0;p+y<f&&(p+=y,f-=D),l.addMark(p,f,r.create(e))}}t(l.scrollIntoView())}return!0}}function Bn(...r){return function(e,i,t){for(let n=0;n<r.length;n++)if(r[n](e,i,t))return!0;return!1}}var tl=Bn(Dp,Kb,Qb),kp=Bn(Dp,Jb,Xb),si={Enter:Bn(il,al,ol,sl),"Mod-Enter":rl,Backspace:tl,"Mod-Backspace":tl,"Shift-Backspace":tl,Delete:kp,"Mod-Delete":kp,"Mod-a":e_},Rp={"Ctrl-h":si.Backspace,"Alt-Backspace":si["Mod-Backspace"],"Ctrl-d":si.Delete,"Ctrl-Alt-Backspace":si["Mod-Delete"],"Alt-Delete":si["Mod-Delete"],"Alt-d":si["Mod-Delete"],"Ctrl-a":i_,"Ctrl-e":n_};for(let r in si)Rp[r]=si[r];var a_=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,Op=a_?Rp:si;var Dt=class{constructor(e,i,t={}){this.match=e,this.match=e,this.handler=typeof i=="string"?o_(i):i,this.undoable=t.undoable!==!1,this.inCode=t.inCode||!1}};function o_(r){return function(e,i,t,n){let a=r;if(i[1]){let o=i[0].lastIndexOf(i[1]);a+=i[0].slice(o+i[1].length),t+=o;let s=t-n;s>0&&(a=i[0].slice(o-s,o)+a,t=n)}return e.tr.insertText(a,t,n)}}var s_=500;function Np({rules:r}){let e=new We({state:{init(){return null},apply(i,t){let n=i.getMeta(this);return n||(i.selectionSet||i.docChanged?null:t)}},props:{handleTextInput(i,t,n,a){return Fp(i,t,n,a,r,e)},handleDOMEvents:{compositionend:i=>{setTimeout(()=>{let{$cursor:t}=i.state.selection;t&&Fp(i,t.pos,t.pos,"",r,e)})}}},isInputRules:!0});return e}function Fp(r,e,i,t,n,a){if(r.composing)return!1;let o=r.state,s=o.doc.resolve(e),l=s.parent.textBetween(Math.max(0,s.parentOffset-s_),s.parentOffset,null,"\uFFFC")+t;for(let c=0;c<n.length;c++){let d=n[c];if(s.parent.type.spec.code){if(!d.inCode)continue}else if(d.inCode==="only")continue;let h=d.match.exec(l),p=h&&d.handler(o,h,e-(h[0].length-t.length),i);if(p)return d.undoable&&p.setMeta(a,{transform:p,from:e,to:i,text:t}),r.dispatch(p),!0}return!1}var Pp=new Dt(/--$/,"\u2014"),Lp=new Dt(/\.\.\.$/,"\u2026"),l_=new Dt(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C"),c_=new Dt(/"$/,"\u201D"),d_=new Dt(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),h_=new Dt(/'$/,"\u2019"),Vp=[l_,c_,d_,h_];function Xa(r,e,i=null,t){return new Dt(r,(n,a,o,s)=>{let l=i instanceof Function?i(a):i,c=n.tr.delete(o,s),d=c.doc.resolve(o),h=d.blockRange(),p=h&&Tn(h,e,l);if(!p)return null;c.wrap(h,p);let f=c.doc.resolve(o-1).nodeBefore;return f&&f.type==e&&tn(c.doc,o-1)&&(!t||t(a,f))&&c.join(o-1),c})}function ll(r,e,i=null){return new Dt(r,(t,n,a,o)=>{let s=t.doc.resolve(a),l=i instanceof Function?i(n):i;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e)?t.tr.delete(a,o).setBlockType(a,a,e,l):null})}var Za=(r,e)=>{let{from:i,$from:t,to:n,empty:a}=r.selection;return a?!!e.isInSet(r.storedMarks||t.marks()):r.doc.rangeHasMark(i,n,e)},p_=(r,e)=>{for(let i=e.depth;i>0;i-=1)if(e.node(i).type===r)return e.node(i).type;return null},cl=(r,e,i={})=>{let{selection:t}=r,{$from:n,to:a}=t,o=p_(e,n);return!Object.entries(i).length||!o?!!o:a<=n.end()&&n.parent.hasMarkup(e,i)},Bp=r=>{let e=[],{selection:i,storedMarks:t}=r,{from:n,to:a,empty:o,$from:s}=i;return o?e=t||s.marks():r.doc.nodesBetween(n,a,l=>{e=[...e,...l.marks]}),e},dl=r=>{let e=[],{selection:{from:i,to:t}}=r;return r.doc.nodesBetween(i,t,n=>{e.push(n)}),e},hl=(r,e,i)=>{for(let t of e){let{$from:n,$to:a}=t,o=n.depth===0?r.type.allowsMarkType(i):!1;if(r.nodesBetween(n.pos,a.pos,s=>o?!1:(o=s.inlineContent&&s.type.allowsMarkType(i),!0)),o)return!0}return!1},pl=(r,e,i)=>new Dt(r,(t,n,a,o)=>{let{tr:s}=t,l=a,c=o,[d,,h]=n,p=d.search(/\S/);if(h){let f=a+d.indexOf(h),m=f+h.length;m<o&&s.delete(m,o),f>a&&s.delete(a+p,f),c=a+h.length+p}return s.addMark(l,c,e.create(i)),s.removeStoredMark(e),s}),zp=(r,e)=>{let{$from:i}=r.selection;for(let t=i.depth;t>=0;t-=1){let n=i.index(t);if(i.node(t).canReplaceWith(n,n,e))return!0}return!1};var Hp=()=>(r,e)=>{let{doc:i,selection:t,tr:n,schema:a}=r,{$head:{pos:o},from:s,to:l}=t,c=a.marks.link;if(s===l){let d=i.resolve(o),h=o-d.textOffset,p=h+d.parent.child(d.index()).nodeSize;n.removeMark(h,p,c)}else n.removeMark(s,l,c);return n.docChanged?(e?.(n),!0):!1},ul=(r,e={})=>(i,t)=>{let{tr:n,selection:a}=i,{empty:o,ranges:s,$from:l,$to:c}=a;if(o&&a instanceof ue){let{$cursor:d}=a;if(!d||!hl(i.doc,s,r)||(n.addStoredMark(r.create(e)),!n.storedMarksSet))return!1;t?.(n)}else{if(n.addMark(l.pos,c.pos,r.create(e)),!n.docChanged)return!1;t?.(n.scrollIntoView())}return!0},jp=r=>(e,i)=>{let{tr:t,selection:n,storedMarks:a,doc:o}=e,{empty:s,ranges:l}=n;if(s&&n instanceof ue){let{$cursor:c}=n;if(!c||!hl(e.doc,l,r))return!1;if(r.isInSet(a||c.marks()))return t.removeStoredMark(r),i?.(t),!0}else{for(let c of l){let{$from:d,$to:h}=c;o.rangeHasMark(d.pos,h.pos,r)&&t.removeMark(d.pos,h.pos,r)}if(!t.docChanged)return!1;i?.(t.scrollIntoView())}return!1};var eo=200,ze=function(){};ze.prototype.append=function(e){return e.length?(e=ze.from(e),!this.length&&e||e.length<eo&&this.leafAppend(e)||this.length<eo&&e.leafPrepend(this)||this.appendInner(e)):this};ze.prototype.prepend=function(e){return e.length?ze.from(e).append(this):this};ze.prototype.appendInner=function(e){return new u_(this,e)};ze.prototype.slice=function(e,i){return e===void 0&&(e=0),i===void 0&&(i=this.length),e>=i?ze.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,i))};ze.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ze.prototype.forEach=function(e,i,t){i===void 0&&(i=0),t===void 0&&(t=this.length),i<=t?this.forEachInner(e,i,t,0):this.forEachInvertedInner(e,i,t,0)};ze.prototype.map=function(e,i,t){i===void 0&&(i=0),t===void 0&&(t=this.length);var n=[];return this.forEach(function(a,o){return n.push(e(a,o))},i,t),n};ze.from=function(e){return e instanceof ze?e:e&&e.length?new qp(e):ze.empty};var qp=function(r){function e(t){r.call(this),this.values=t}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var i={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(n,a){return n==0&&a==this.length?this:new e(this.values.slice(n,a))},e.prototype.getInner=function(n){return this.values[n]},e.prototype.forEachInner=function(n,a,o,s){for(var l=a;l<o;l++)if(n(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,a,o,s){for(var l=a-1;l>=o;l--)if(n(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(n){if(this.length+n.length<=eo)return new e(this.values.concat(n.flatten()))},e.prototype.leafPrepend=function(n){if(this.length+n.length<=eo)return new e(n.flatten().concat(this.values))},i.length.get=function(){return this.values.length},i.depth.get=function(){return 0},Object.defineProperties(e.prototype,i),e}(ze);ze.empty=new qp([]);var u_=function(r){function e(i,t){r.call(this),this.left=i,this.right=t,this.length=i.length+t.length,this.depth=Math.max(i.depth,t.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,n,a,o){var s=this.left.length;if(n<s&&this.left.forEachInner(t,n,Math.min(a,s),o)===!1||a>s&&this.right.forEachInner(t,Math.max(n-s,0),Math.min(this.length,a)-s,o+s)===!1)return!1},e.prototype.forEachInvertedInner=function(t,n,a,o){var s=this.left.length;if(n>s&&this.right.forEachInvertedInner(t,n-s,Math.max(a,s)-s,o+s)===!1||a<s&&this.left.forEachInvertedInner(t,Math.min(n,s),a,o)===!1)return!1},e.prototype.sliceInner=function(t,n){if(t==0&&n==this.length)return this;var a=this.left.length;return n<=a?this.left.slice(t,n):t>=a?this.right.slice(t-a,n-a):this.left.slice(t,a).append(this.right.slice(0,n-a))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(ze),ml=ze;var m_=500,mn=class r{constructor(e,i){this.items=e,this.eventCount=i}popEvent(e,i){if(this.eventCount==0)return null;let t=this.items.length;for(;;t--)if(this.items.get(t-1).selection){--t;break}let n,a;i&&(n=this.remapping(t,this.items.length),a=n.maps.length);let o=e.tr,s,l,c=[],d=[];return this.items.forEach((h,p)=>{if(!h.step){n||(n=this.remapping(t,p+1),a=n.maps.length),a--,d.push(h);return}if(n){d.push(new Yt(h.map));let f=h.step.map(n.slice(a)),m;f&&o.maybeStep(f).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new Yt(m,void 0,void 0,c.length+d.length))),a--,m&&n.appendMap(m,a)}else o.maybeStep(h.step);if(h.selection)return s=n?h.selection.map(n.slice(a)):h.selection,l=new r(this.items.slice(0,t).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:s}}addTransform(e,i,t,n){let a=[],o=this.eventCount,s=this.items,l=!n&&s.length?s.get(s.length-1):null;for(let d=0;d<e.steps.length;d++){let h=e.steps[d].invert(e.docs[d]),p=new Yt(e.mapping.maps[d],h,i),f;(f=l&&l.merge(p))&&(p=f,d?a.pop():s=s.slice(0,s.length-1)),a.push(p),i&&(o++,i=void 0),n||(l=p)}let c=o-t.depth;return c>g_&&(s=f_(s,c),o-=c),new r(s.append(a),o)}remapping(e,i){let t=new fr;return this.items.forEach((n,a)=>{let o=n.mirrorOffset!=null&&a-n.mirrorOffset>=e?t.maps.length-n.mirrorOffset:void 0;t.appendMap(n.map,o)},e,i),t}addMaps(e){return this.eventCount==0?this:new r(this.items.append(e.map(i=>new Yt(i))),this.eventCount)}rebased(e,i){if(!this.eventCount)return this;let t=[],n=Math.max(0,this.items.length-i),a=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach(p=>{p.selection&&s--},n);let l=i;this.items.forEach(p=>{let f=a.getMirror(--l);if(f==null)return;o=Math.min(o,f);let m=a.maps[f];if(p.step){let v=e.steps[f].invert(e.docs[f]),y=p.selection&&p.selection.map(a.slice(l+1,f));y&&s++,t.push(new Yt(m,v,y))}else t.push(new Yt(m))},n);let c=[];for(let p=i;p<o;p++)c.push(new Yt(a.maps[p]));let d=this.items.slice(0,n).append(c).append(t),h=new r(d,s);return h.emptyItemCount()>m_&&(h=h.compress(this.items.length-t.length)),h}emptyItemCount(){let e=0;return this.items.forEach(i=>{i.step||e++}),e}compress(e=this.items.length){let i=this.remapping(0,e),t=i.maps.length,n=[],a=0;return this.items.forEach((o,s)=>{if(s>=e)n.push(o),o.selection&&a++;else if(o.step){let l=o.step.map(i.slice(t)),c=l&&l.getMap();if(t--,c&&i.appendMap(c,t),l){let d=o.selection&&o.selection.map(i.slice(t));d&&a++;let h=new Yt(c.invert(),l,d),p,f=n.length-1;(p=n.length&&n[f].merge(h))?n[f]=p:n.push(h)}}else o.map&&t--},this.items.length,0),new r(ml.from(n.reverse()),a)}};mn.empty=new mn(ml.empty,0);function f_(r,e){let i;return r.forEach((t,n)=>{if(t.selection&&e--==0)return i=n,!1}),r.slice(i)}var Yt=class r{constructor(e,i,t,n){this.map=e,this.step=i,this.selection=t,this.mirrorOffset=n}merge(e){if(this.step&&e.step&&!e.selection){let i=e.step.merge(this.step);if(i)return new r(i.getMap().invert(),i,this.selection)}}},Ut=class{constructor(e,i,t,n,a){this.done=e,this.undone=i,this.prevRanges=t,this.prevTime=n,this.prevComposition=a}},g_=20;function b_(r,e,i,t){let n=i.getMeta(un),a;if(n)return n.historyState;i.getMeta(y_)&&(r=new Ut(r.done,r.undone,null,0,-1));let o=i.getMeta("appendedTransaction");if(i.steps.length==0)return r;if(o&&o.getMeta(un))return o.getMeta(un).redo?new Ut(r.done.addTransform(i,void 0,t,to(e)),r.undone,Wp(i.mapping.maps),r.prevTime,r.prevComposition):new Ut(r.done,r.undone.addTransform(i,void 0,t,to(e)),null,r.prevTime,r.prevComposition);if(i.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let s=i.getMeta("composition"),l=r.prevTime==0||!o&&r.prevComposition!=s&&(r.prevTime<(i.time||0)-t.newGroupDelay||!__(i,r.prevRanges)),c=o?fl(r.prevRanges,i.mapping):Wp(i.mapping.maps);return new Ut(r.done.addTransform(i,l?e.selection.getBookmark():void 0,t,to(e)),mn.empty,c,i.time,s??r.prevComposition)}else return(a=i.getMeta("rebased"))?new Ut(r.done.rebased(i,a),r.undone.rebased(i,a),fl(r.prevRanges,i.mapping),r.prevTime,r.prevComposition):new Ut(r.done.addMaps(i.mapping.maps),r.undone.addMaps(i.mapping.maps),fl(r.prevRanges,i.mapping),r.prevTime,r.prevComposition)}function __(r,e){if(!e)return!1;if(!r.docChanged)return!0;let i=!1;return r.mapping.maps[0].forEach((t,n)=>{for(let a=0;a<e.length;a+=2)t<=e[a+1]&&n>=e[a]&&(i=!0)}),i}function Wp(r){let e=[];for(let i=r.length-1;i>=0&&e.length==0;i--)r[i].forEach((t,n,a,o)=>e.push(a,o));return e}function fl(r,e){if(!r)return null;let i=[];for(let t=0;t<r.length;t+=2){let n=e.map(r[t],1),a=e.map(r[t+1],-1);n<=a&&i.push(n,a)}return i}function v_(r,e,i){let t=to(e),n=un.get(e).spec.config,a=(i?r.undone:r.done).popEvent(e,t);if(!a)return null;let o=a.selection.resolve(a.transform.doc),s=(i?r.done:r.undone).addTransform(a.transform,e.selection.getBookmark(),n,t),l=new Ut(i?s:a.remaining,i?a.remaining:s,null,0,-1);return a.transform.setSelection(o).setMeta(un,{redo:i,historyState:l})}var gl=!1,Yp=null;function to(r){let e=r.plugins;if(Yp!=e){gl=!1,Yp=e;for(let i=0;i<e.length;i++)if(e[i].spec.historyPreserveItems){gl=!0;break}}return gl}var un=new mt("history"),y_=new mt("closeHistory");function Up(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new We({key:un,state:{init(){return new Ut(mn.empty,mn.empty,null,0,-1)},apply(e,i,t){return b_(i,t,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,i){let t=i.inputType,n=t=="historyUndo"?no:t=="historyRedo"?Tr:null;return n?(i.preventDefault(),n(e.state,e.dispatch)):!1}}}})}function io(r,e){return(i,t)=>{let n=un.getState(i);if(!n||(r?n.undone:n.done).eventCount==0)return!1;if(t){let a=v_(n,i,r);a&&t(e?a.scrollIntoView():a)}return!0}}var no=io(!1,!0),Tr=io(!0,!0),a1=io(!1,!1),o1=io(!0,!1);var li={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ao={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},x_=typeof navigator<"u"&&/Mac/.test(navigator.platform),w_=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(Se=0;Se<10;Se++)li[48+Se]=li[96+Se]=String(Se);var Se;for(Se=1;Se<=24;Se++)li[Se+111]="F"+Se;var Se;for(Se=65;Se<=90;Se++)li[Se]=String.fromCharCode(Se+32),ao[Se]=String.fromCharCode(Se);var Se;for(ro in li)ao.hasOwnProperty(ro)||(ao[ro]=li[ro]);var ro;function $p(r){var e=x_&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||w_&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",i=!e&&r.key||(r.shiftKey?ao:li)[r.keyCode]||r.key||"Unidentified";return i=="Esc"&&(i="Escape"),i=="Del"&&(i="Delete"),i=="Left"&&(i="ArrowLeft"),i=="Up"&&(i="ArrowUp"),i=="Right"&&(i="ArrowRight"),i=="Down"&&(i="ArrowDown"),i}var C_=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function k_(r){let e=r.split(/-(?!$)/),i=e[e.length-1];i=="Space"&&(i=" ");let t,n,a,o;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))C_?o=!0:n=!0;else throw new Error("Unrecognized modifier name: "+l)}return t&&(i="Alt-"+i),n&&(i="Ctrl-"+i),o&&(i="Meta-"+i),a&&(i="Shift-"+i),i}function D_(r){let e=Object.create(null);for(let i in r)e[k_(i)]=r[i];return e}function bl(r,e,i=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),i&&e.shiftKey&&(r="Shift-"+r),r}function Ar(r){return new We({props:{handleKeyDown:I_(r)}})}function I_(r){let e=D_(r);return function(i,t){let n=$p(t),a,o=e[bl(n,t)];if(o&&o(i.state,i.dispatch,i))return!0;if(n.length==1&&n!=" "){if(t.shiftKey){let s=e[bl(n,t,!1)];if(s&&s(i.state,i.dispatch,i))return!0}if((t.shiftKey||t.altKey||t.metaKey||n.charCodeAt(0)>127)&&(a=li[t.keyCode])&&a!=n){let s=e[bl(a,t)];if(s&&s(i.state,i.dispatch,i))return!0}}return!1}}var S_=["imgEl"],E_=r=>({"NgxEditor__Resizer--Active":r});function M_(r,e){if(r&1){let i=fe();b(0,"span",4)(1,"span",5),S("mousedown",function(n){V(i);let a=C();return B(a.startResizing(n,"left"))}),_(),b(2,"span",6),S("mousedown",function(n){V(i);let a=C();return B(a.startResizing(n,"right"))}),_(),b(3,"span",7),S("mousedown",function(n){V(i);let a=C();return B(a.startResizing(n,"left"))}),_(),b(4,"span",8),S("mousedown",function(n){V(i);let a=C();return B(a.startResizing(n,"right"))}),_()()}}var T_=["ngxEditor"],A_=["*"];function R_(r,e){if(r&1&&(b(0,"div",12),q(1),ae(2,"async"),_()),r&2){let i=C(2);g(),ke(" ",oe(2,1,(i.href.errors==null?null:i.href.errors.pattern)&&i.getLabel("enterValidUrl"))," ")}}function O_(r,e){if(r&1&&(b(0,"div",12),q(1),_()),r&2){let i=C(2);g(),ke(" ",(i.text.errors==null?null:i.text.errors.required)&&"This is required"," ")}}function F_(r,e){if(r&1&&(b(0,"div",4)(1,"div",5)(2,"label"),F(3,"input",13),q(4),ae(5,"async"),_()()()),r&2){let i=C(2);g(4),ke(" ",oe(5,1,i.getLabel("openInNewTab"))," ")}}function N_(r,e){if(r&1){let i=fe();b(0,"div",2)(1,"form",3),S("ngSubmit",function(n){V(i);let a=C();return B(a.insertLink(n))}),b(2,"div",4)(3,"div",5)(4,"label",6),q(5),ae(6,"async"),_(),F(7,"input",7),T(8,R_,3,3,"div",8),_()(),b(9,"div",4)(10,"div",5)(11,"label",6),q(12),ae(13,"async"),_(),F(14,"input",9),T(15,O_,2,1,"div",8),_()(),T(16,F_,6,3,"div",10),b(17,"button",11),q(18),ae(19,"async"),_()()()}if(r&2){let i=C();g(),w("formGroup",i.form),g(3),w("htmlFor",i.getId("link-popup-url")),g(),pe(oe(6,12,i.getLabel("url"))),g(2),w("id",i.getId("link-popup-url")),g(),w("ngIf",i.href.touched&&i.href.invalid),g(3),w("htmlFor",i.getId("link-popup-label")),g(),pe(oe(13,14,i.getLabel("text"))),g(2),w("id",i.getId("link-popup-label")),g(),w("ngIf",i.text.touched&&i.text.invalid),g(),w("ngIf",i.options.showOpenInNewTab),g(),w("disabled",!i.form.valid),g(),pe(oe(19,16,i.getLabel("insert")))}}var P_=(r,e)=>({"NgxEditor__Dropdown--Active":r,"NgxEditor--Disabled":e});function L_(r,e){if(r&1){let i=fe();b(0,"button",4),ae(1,"async"),S("mousedown",function(n){let a=V(i).$implicit,o=C(2);return B(o.onDropdownItemMouseClick(n,a))})("keydown.enter",function(n){let a=V(i).$implicit,o=C(2);return B(o.onDropdownItemKeydown(n,a))})("keydown.space",function(n){let a=V(i).$implicit,o=C(2);return B(o.onDropdownItemKeydown(n,a))}),q(2),ae(3,"async"),_()}if(r&2){let i=e.$implicit,t=C(2);w("ngClass",ar(8,P_,i===t.activeItem,t.disabledItems.includes(i)))("ariaLabel",oe(1,4,t.getName(i))),L("aria-selected",i===t.activeItem),g(2),ke(" ",oe(3,6,t.getName(i))," ")}}function V_(r,e){if(r&1&&(b(0,"div",2),T(1,L_,4,11,"button",3),_()),r&2){let i=C();g(),w("ngForOf",i.items)("ngForTrackBy",i.trackByIndex)}}function B_(r,e){if(r&1&&(b(0,"div",12),q(1),ae(2,"async"),_()),r&2){let i=C(2);g(),ke(" ",oe(2,1,(i.src.errors==null?null:i.src.errors.pattern)&&i.getLabel("enterValidUrl"))," ")}}function z_(r,e){if(r&1){let i=fe();b(0,"div",2)(1,"form",3),S("ngSubmit",function(n){V(i);let a=C();return B(a.insertLink(n))}),b(2,"div",4)(3,"div",5)(4,"label",6),q(5),ae(6,"async"),_(),F(7,"input",7),T(8,B_,3,3,"div",8),_()(),b(9,"div",4)(10,"div",5)(11,"label",6),q(12),ae(13,"async"),_(),F(14,"input",9),_()(),b(15,"div",4)(16,"div",5)(17,"label",6),q(18),ae(19,"async"),_(),F(20,"input",10),_()(),b(21,"button",11),q(22),ae(23,"async"),_()()()}if(r&2){let i=C();g(),w("formGroup",i.form),g(3),w("htmlFor",i.getId("image-popup-url")),g(),pe(oe(6,13,i.getLabel("url"))),g(2),w("id",i.getId("image-popup-url")),g(),w("ngIf",i.src.touched&&i.src.invalid),g(3),w("htmlFor",i.getId("image-popup-label")),g(),pe(oe(13,15,i.getLabel("altText"))),g(2),w("id",i.getId("image-popup-label")),g(3),w("htmlFor",i.getId("image-popup-title")),g(),pe(oe(19,17,i.getLabel("title"))),g(2),w("id",i.getId("image-popup-title")),g(),w("disabled",!i.form.valid||!i.form.dirty),g(),pe(oe(23,19,i.getLabel("insert")))}}var H_=(r,e)=>({backgroundColor:r,color:e}),j_=r=>({"NgxEditor__Color--Active":r});function q_(r,e){if(r&1){let i=fe();b(0,"button",7),S("mousedown",function(n){let a=V(i).$implicit,o=C(3);return B(o.onColorSelectMouseClick(n,a))})("keydown.enter",function(){let n=V(i).$implicit,a=C(3);return B(a.onColorSelectKeydown(n))})("keydown.space",function(){let n=V(i).$implicit,a=C(3);return B(a.onColorSelectKeydown(n))}),_()}if(r&2){let i=e.$implicit,t=C(3);w("ngStyle",ar(3,H_,i,t.getContrastYIQ(i)))("title",i)("ngClass",na(6,j_,t.activeColors.includes(i)))}}function W_(r,e){if(r&1&&(b(0,"div",5),T(1,q_,1,8,"button",6),_()),r&2){let i=e.$implicit,t=C(2);g(),w("ngForOf",i)("ngForTrackBy",t.trackByIndex)}}function Y_(r,e){if(r&1){let i=fe();b(0,"div",2),T(1,W_,2,2,"div",3),b(2,"button",4),S("mousedown",function(n){V(i);let a=C();return B(a.onRemoveMouseClick(n))})("keydown.enter",function(){V(i);let n=C();return B(n.onRemoveKeydown())})("keydown.space",function(){V(i);let n=C();return B(n.onRemoveKeydown())}),q(3),ae(4,"async"),_()()}if(r&2){let i=C();g(),w("ngForOf",i.presets)("ngForTrackBy",i.trackByIndex),g(),w("disabled",!i.isActive),g(),ke(" ",oe(4,4,i.getLabel("remove"))," ")}}var U_=(r,e)=>({"NgxEditor--Disabled":r,"NgxEditor__MenuBar--Reverse":e});function $_(r,e){if(r&1&&F(0,"ngx-toggle-command",7),r&2){let i=C().$implicit,t=C(2);xe(t.iconContainerClass),w("toolbarItem",i)}}function K_(r,e){if(r&1&&F(0,"ngx-insert-command",7),r&2){let i=C().$implicit,t=C(2);xe(t.iconContainerClass),w("toolbarItem",i)}}function Q_(r,e){if(r&1&&(bi(0),F(1,"ngx-link",8),_i()),r&2){let i=C().$implicit,t=C(2);g(),xe(t.iconContainerClass),w("options",t.getLinkOptions(i))}}function G_(r,e){if(r&1&&F(0,"ngx-image"),r&2){let i=C(3);xe(i.iconContainerClass)}}function J_(r,e){if(r&1&&F(0,"ngx-dropdown",10),r&2){let i=e.$implicit,t=C(4);xe(t.dropdownContainerClass),w("group",i.key)("items",i.value)}}function X_(r,e){if(r&1&&(bi(0),T(1,J_,1,4,"ngx-dropdown",9),ae(2,"keyvalue"),_i()),r&2){let i=C().$implicit,t=C(2);g(),w("ngForOf",oe(2,2,t.getDropdownItems(i)))("ngForTrackBy",t.trackByIndex)}}function Z_(r,e){if(r&1&&F(0,"ngx-color-picker",11),r&2){let i=C(3);xe(i.iconContainerClass),w("presets",i.presets)}}function ev(r,e){if(r&1&&F(0,"ngx-color-picker",12),r&2){let i=C(3);xe(i.iconContainerClass),w("presets",i.presets)}}function tv(r,e){if(r&1&&F(0,"div"),r&2){let i=C(3);xe(i.seperatorClass)}}function iv(r,e){if(r&1&&(bi(0),T(1,$_,1,3,"ngx-toggle-command",3)(2,K_,1,3,"ngx-insert-command",3)(3,Q_,2,3,"ng-container",2)(4,G_,1,2,"ngx-image",4)(5,X_,3,4,"ng-container",2)(6,Z_,1,3,"ngx-color-picker",5)(7,ev,1,3,"ngx-color-picker",6)(8,tv,1,2,"div",4),_i()),r&2){let i=e.$implicit,t=e.last,n=C().last,a=C();g(),w("ngIf",a.toggleCommands.includes(i)),g(),w("ngIf",a.insertCommands.includes(i)),g(),w("ngIf",a.isLinkItem(i)),g(),w("ngIf",i==="image"),g(),w("ngIf",a.isDropDown(i)),g(),w("ngIf",i==="text_color"),g(),w("ngIf",i==="background_color"),g(),w("ngIf",t&&!n)}}function nv(r,e){if(r&1&&(bi(0),T(1,iv,9,8,"ng-container",1),_i()),r&2){let i=e.$implicit,t=C();g(),w("ngForOf",i)("ngForTrackBy",t.trackByIndex)}}function rv(r,e){if(r&1&&(bi(0),je(1,13),_i()),r&2){let i=C();g(),w("ngTemplateOutlet",i.customMenuRef)}}var av=(r=!0)=>new We({key:new mt("editable"),state:{init(){return r},apply(e,i){return e.getMeta("UPDATE_EDITABLE")??i}},props:{editable(e){return this.getState(e)},attributes(e){return this.getState(e)?null:{class:"NgxEditor__Content--Disabled"}}}}),ov="NgxEditor__Placeholder",sv=r=>new We({key:new mt("placeholder"),state:{init(){return r??""},apply(e,i){return e.getMeta("UPDATE_PLACEHOLDER")??i}},props:{decorations(e){let{doc:i}=e,{textContent:t,childCount:n}=i,a=this.getState(e);if(!a||n>1)return Ke.empty;let o=[],s=(l,c)=>{if(l.type.isBlock&&l.childCount===0&&t.length===0){let d=c,h=c+l.nodeSize,p=Wt.node(d,h,{class:ov,"data-placeholder":a,"data-align":l.attrs.align??null});o.push(p)}return!1};return i.descendants(s),Ke.create(i,o)}}}),lv=(r={})=>new We({key:new mt("attributes"),props:{attributes:r}}),cv=r=>new We({key:new mt("focus"),props:{handleDOMEvents:{focus:()=>(r(),!1)}}}),dv=r=>new We({key:new mt("blur"),props:{handleDOMEvents:{blur:()=>(r(),!1)}}}),hv=(()=>{let e=class e{constructor(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new R}startResizing(t,n){t.preventDefault(),this.resizeImage(t,n)}resizeImage(t,n){let a=t.pageX,o=this.imgEl.nativeElement.clientWidth,s=n==="left",{width:l}=window.getComputedStyle(this.view.dom),c=parseInt(l,10),d=p=>{let m=p.pageX-a,v=s?o-m:o+m;v>c||v<20||(this.outerWidth=`${v}px`)},h=p=>{p.preventDefault(),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",h),this.imageResize.emit()};document.addEventListener("mousemove",d),document.addEventListener("mouseup",h)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=P({type:e,selectors:[["ngx-image-view"]],viewQuery:function(n,a){if(n&1&&X(S_,7),n&2){let o;E(o=M())&&(a.imgEl=o.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[["imgEl",""],[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(n,a){n&1&&(b(0,"span",1),T(1,M_,5,0,"span",2),F(2,"img",3,0),_()),n&2&&(Jt("width",a.outerWidth),w("ngClass",na(7,E_,a.selected)),g(),w("ngIf",a.selected),g(),w("src",a.src,Rc)("alt",a.alt)("title",a.title))},dependencies:[At,qi],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]});let r=e;return r})(),_l=class{constructor(e,i,t,n){this.updating=!1,this.handleResize=()=>{if(this.updating)return;let{state:a,dispatch:o}=this.view,{tr:s}=a,l=s.setNodeMarkup(this.getPos(),void 0,Kt(_e({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),c=l.doc.resolve(this.getPos()),d=new j(c);l.setSelection(d),o(l)},this.applicationRef=n.get(jc),this.imageComponentRef=qc(hv,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(e.attrs),this.imageComponentRef.instance.view=i,this.dom=this.imageComponentRef.location.nativeElement,this.view=i,this.node=e,this.getPos=t,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(e,i){return JSON.stringify(e)===JSON.stringify(i)}setNodeAttributes(e){this.imageComponentRef.instance.src=e.src,this.imageComponentRef.instance.alt=e.alt,this.imageComponentRef.instance.title=e.title,this.imageComponentRef.instance.outerWidth=e.width}update(e){return e.type!==this.node.type?!1:(this.node=e,this.computeChanges(this.node.attrs,e.attrs)&&(this.updating=!0,this.setNodeAttributes(e.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}},pv=r=>new We({key:new mt("image-resize"),props:{nodeViews:{image:(e,i,t)=>new _l(e,i,t,r)}}}),uv=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,ru=r=>{let e=[];return r.forEach(i=>{if(i.isText){let t=i.text,n=0,a=uv.exec(t);if(a){let o=a.index,s=o+a[0].length,{link:l}=i.type.schema.marks;o>0&&e.push(i.cut(n,o));let c=t.slice(o,s);e.push(i.cut(o,s).mark(l.create({href:c}).addToSet(i.marks))),n=s}n<t.length&&e.push(i.cut(n))}else e.push(i.copy(ru(i.content)))}),k.fromArray(e)},mv=()=>new We({key:new mt("linkify"),props:{transformPasted:r=>new I(ru(r.content),r.openStart,r.openEnd)}}),au=r=>typeof r=="string",fv=()=>window.trustedTypes,ou=r=>fv()?.isHTML(r)??!1,su=r=>au(r)||ou(r),lu={type:"doc",content:[{type:"paragraph"}]},gv=(r,e)=>{let i=e??Mr,t=i.nodeFromJSON(r),n=ii.fromSchema(i).serializeFragment(t.content),a=document.createElement("div");return a.appendChild(n),a.innerHTML},bv=(r,e,i)=>{let t=e??Mr,n=document.createElement("div");return n.innerHTML=r,ki.fromSchema(t).parse(n,i).toJSON()},Kp=(r,e,i)=>{if(!r)return e.nodeFromJSON(lu);if(!su(r))return e.nodeFromJSON(r);let t=bv(r,e,i);return e.nodeFromJSON(t)},U1=(()=>{let e=class e{constructor(t,n,a){this.renderer=t,this.injector=n,this.elementRef=a,this.placeholder="Type Here...",this.focusOut=new R,this.focusIn=new R,this.unsubscribe=new Y,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){!this.outputFormat&&su(t)&&(this.outputFormat="html"),this.editor.setContent(t??lu)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.setMeta("UPDATE_EDITABLE",!t),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",t)}handleChange(t){if(this.outputFormat==="html"){let n=gv(t,this.editor.schema);this.onChange(n);return}this.onChange(t)}setMeta(t,n){let{dispatch:a,state:{tr:o}}=this.editor.view;a(o.setMeta(t,n))}setPlaceholder(t){this.setMeta("UPDATE_PLACEHOLDER",t)}registerPlugins(){this.editor.registerPlugin(av()),this.editor.registerPlugin(sv(this.placeholder)),this.editor.registerPlugin(lv({class:"NgxEditor__Content"})),this.editor.registerPlugin(cv(()=>{this.focusIn.emit()})),this.editor.registerPlugin(dv(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin(pv(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(mv())}ngOnInit(){if(!this.editor)throw new Sn("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(ee(this.unsubscribe)).subscribe(t=>{this.handleChange(t)})}ngOnChanges(t){t.placeholder&&!t.placeholder.isFirstChange()&&this.setPlaceholder(t.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}};e.\u0275fac=function(n){return new(n||e)(u(Oc),u(Me),u(O))},e.\u0275cmp=P({type:e,selectors:[["ngx-editor"]],viewQuery:function(n,a){if(n&1&&X(T_,7),n&2){let o;E(o=M())&&(a.ngxEditor=o.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[U([{provide:Zt,useExisting:Gt(()=>e),multi:!0}]),ve],ngContentSelectors:A_,decls:3,vars:0,consts:[["ngxEditor",""],[1,"NgxEditor"]],template:function(n,a){n&1&&(me(),b(0,"div",1,0),H(2),_())},styles:[`:root{--ngx-editor-border-radius: 4px;--ngx-editor-background-color: #fff;--ngx-editor-text-color: #000;--ngx-editor-placeholder-color: #6c757d;--ngx-editor-border-color: rgba(0, 0, 0, .2);--ngx-editor-wrapper-border-color: rgba(0, 0, 0, .2);--ngx-editor-menubar-bg-color: #fff;--ngx-editor-menubar-padding: 3px;--ngx-editor-menubar-height: 30px;--ngx-editor-blockquote-color: #ddd;--ngx-editor-blockquote-border-width: 3px;--ngx-editor-icon-size: 30px;--ngx-editor-popup-bg-color: #fff;--ngx-editor-popup-border-radius: 4px;--ngx-editor-popup-shadow: rgba(60, 64, 67, .15) 0px 2px 6px 2px;--ngx-editor-menu-item-border-radius: 2px;--ngx-editor-menu-item-active-color: #1a73e8;--ngx-editor-menu-item-hover-bg-color: #f1f1f1;--ngx-editor-menu-item-active-bg-color: #e8f0fe;--ngx-editor-seperator-color: #ccc;--ngx-editor-bubble-bg-color: #000;--ngx-editor-bubble-text-color: #fff;--ngx-editor-bubble-item-hover-color: #636262;--ngx-editor-bubble-seperator-color: #fff;--ngx-editor-focus-ring-color: #5e9ed6;--ngx-editor-error-color: red;--ngx-editor-click-pointer: default}.NgxEditor{background:var(--ngx-editor-background-color);color:var(--ngx-editor-text-color);background-clip:padding-box;border-radius:var(--ngx-editor-border-radius);border:1px solid var(--ngx-editor-border-color);position:relative}.NgxEditor--Disabled{opacity:.5!important;pointer-events:none!important}.NgxEditor__Placeholder:before{color:var(--ngx-editor-placeholder-color);opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:var(--ngx-editor-blockquote-border-width) solid var(--ngx-editor-blockquote-color);margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid var(--ngx-editor-wrapper-border-color);border-radius:var(--ngx-editor-border-radius)}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:var(--ngx-editor-border-radius);border-top-right-radius:var(--ngx-editor-border-radius);border-bottom:1px solid var(--ngx-editor-border-color)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:var(--ngx-editor-menubar-padding);background-color:var(--ngx-editor-menubar-bg-color);gap:.25rem .1rem}.NgxEditor__MenuBar button:not(:disabled),.NgxEditor__MenuBar [role=button]:not(:disabled){cursor:var(--ngx-editor-click-pointer, default)}.NgxEditor__MenuItem{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem.NgxEditor__MenuItem--IconContainer{display:flex;align-items:center;justify-content:center}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--ngx-editor-menu-item-border-radius)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:var(--ngx-editor-menu-item-active-bg-color);color:var(--ngx-editor-menu-item-active-color)}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{all:unset;appearance:none;display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;width:100%;top:calc(var(--ngx-editor-menubar-height) + 2px);display:flex;flex-direction:column}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{all:unset;appearance:none;padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:var(--ngx-editor-menu-item-active-color);background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__Popup{position:absolute;top:calc(var(--ngx-editor-menubar-height) + 2px);box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:var(--ngx-editor-error-color)}
`],encapsulation:2});let r=e;return r})(),Ri=(()=>{let e=class e{constructor(){this.customMenuRefChange=new Y}setCustomMenuRef(t){this.customMenuRefChange.next(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})(),$t=class{constructor(e){this.name=e}apply(){return(e,i)=>{let{schema:t}=e,n=t.marks[this.name];return n?ul(n)(e,i):!1}}toggle(){return(e,i)=>{let{schema:t}=e,n=t.marks[this.name];return n?pn(n)(e,i):!1}}isActive(e){let{schema:i}=e,t=i.marks[this.name];return t?Za(e,t):!1}canExecute(e){return this.toggle()(e)}},vl=class{toggle(){return(e,i)=>{let{schema:t}=e,n=t.nodes.blockquote;return n?this.isActive(e)?Ep(e,i):Ap(n)(e,i):!1}}isActive(e){let{schema:i}=e,t=i.nodes.blockquote;return t?cl(e,t):!1}canExecute(e){return this.toggle()(e)}},yl=class{insert(){return(e,i)=>{let{schema:t,tr:n}=e,a=t.nodes.horizontal_rule;return a?(i(n.replaceSelectionWith(a.create()).scrollIntoView()),!0):!1}}canExecute(e){return zp(e,e.schema.nodes.horizontal_rule)}},Hn=class{constructor(e=!1){this.isBulletList=!1,this.isBulletList=e}getType(e){return this.isBulletList?e.nodes.bullet_list:e.nodes.ordered_list}toggle(){return(e,i)=>{let{schema:t}=e,n=this.getType(t);return n?this.isActive(e)?Zs(t.nodes.list_item)(e,i):wp(n)(e,i):!1}}isActive(e){let{schema:i}=e,t=this.getType(i);return t?cl(e,t):!1}canExecute(e){return this.toggle()(e)}},ci=class{constructor(e){this.level=e}apply(){return(e,i)=>{let{schema:t}=e,n=t.nodes.heading;return n?Ja(n)(e,i):!1}}toggle(){return(e,i)=>{let{schema:t,selection:n,doc:a}=e,o=t.nodes.heading;if(!o)return!1;let s=n.$from.before(1),c=a.nodeAt(s)?.attrs??{};return this.isActive(e)?Ja(t.nodes.paragraph,c)(e,i):Ja(o,Kt(_e({},c),{level:this.level}))(e,i)}}isActive(e){let{schema:i}=e,t=dl(e),n=i.nodes.heading;if(!n)return!1;let a=[n,i.nodes.text,i.nodes.blockquote];return!!t.filter(l=>a.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(e){return this.toggle()(e)}},fn=class{constructor(e){this.align=e}toggle(){return(e,i)=>{let{doc:t,selection:n,tr:a,schema:o}=e,{from:s,to:l}=n,c=!1;return t.nodesBetween(s,l,(d,h)=>{let p=d.type;if([o.nodes.paragraph,o.nodes.heading].includes(p)){c=!0;let f=d.attrs.align===this.align?null:this.align;a.setNodeMarkup(h,p,Kt(_e({},d.attrs),{align:f}))}return!0}),c?(a.docChanged&&i?.(a),!0):!1}}isActive(e){return!!dl(e).find(n=>n.attrs.align===this.align)}canExecute(e){return this.toggle()(e)}},_v={strict:!0},xl=class{update(e){return(i,t)=>{let{schema:n,selection:a}=i,o=n.marks.link;return!o||a.empty?!1:pn(o,e)(i,t)}}insert(e,i){return(t,n)=>{let{schema:a,tr:o}=t;if(!a.marks.link)return!1;let l={href:i.href,title:i.title??e,target:i.target??"_blank"},c=a.text(e,[a.marks.link.create(l)]);return o.replaceSelectionWith(c,!1).scrollIntoView(),o.docChanged?(n?.(o),!0):!1}}isActive(e,i=_v){if(i.strict)return!0;let{schema:t}=e,n=t.marks.link;return n?Za(e,n):!1}remove(e,i){return Hp()(e,i)}canExecute(e){let i={href:""};return this.insert("Exec",i)(e)||this.update(i)(e)}},cu=class{insert(e,i){return(t,n)=>{let{schema:a,tr:o,selection:s}=t,l=a.nodes.image;if(!l)return!1;let c=_e({width:null,src:e},i);!c.width&&s instanceof j&&s.node.type===l&&(c.width=s.node.attrs.width),o.replaceSelectionWith(l.createAndFill(c));let d=o.doc.resolve(o.selection.anchor-o.selection.$anchor.nodeBefore.nodeSize);return o.setSelection(new j(d)).scrollIntoView(),o.docChanged?(n?.(o),!0):!1}}isActive(e){let{selection:i}=e;return i instanceof j?i.node.type.name==="image":!1}},zn=class{constructor(e,i="color"){this.name=e,this.attrName=i}apply(e){return(i,t)=>{let{schema:n,selection:a,doc:o}=i,s=n.marks[this.name];if(!s)return!1;let{from:l,to:c,empty:d}=a;if(!d&&l+1===c){let h=o.nodeAt(l);if(h?.isAtom&&!h.isText&&h.isLeaf)return!1}return ul(s,e)(i,t)}}isActive(e){let{schema:i}=e,t=i.marks[this.name];return t?Za(e,t):!1}getActiveColors(e){if(!this.isActive(e))return[];let{schema:i}=e;return Bp(e).filter(a=>a.type===i.marks[this.name]).map(a=>a.attrs[this.attrName]).filter(Boolean)}remove(){return(e,i)=>{let{schema:t}=e,n=t.marks[this.name];return n?jp(n)(e,i):!1}}canExecute(e){let i=this.name==="text_color"?{color:""}:{backgroundColor:""};return this.apply(i)(e)}},vv=["link"],wl=class{insert(){return(e,i)=>{let{tr:t}=e,{ranges:n,empty:a}=t.selection;return a||(Object.entries(e.schema.marks).forEach(([o,s])=>{vv.includes(o)||n.forEach(l=>{t.removeMark(l.$from.pos,l.$to.pos,s)})}),i(t)),!0}}canExecute(){return!0}},yv=["paragraph","heading","blockquote"],Qp=0,Gp=10,xv=(r,e,i)=>{let t=r.doc.nodeAt(e);if(!t)return!1;let n=t.attrs.indent??0,a=_d(n+(i==="increase"?1:-1),Qp,Gp);if(a===n||a<Qp||a>Gp)return!1;let o=Kt(_e({},t.attrs),{indent:a});return r.setNodeMarkup(e,t.type,o),!0},jn=class{constructor(e){this.method="increase",this.method=e}insert(){return(e,i)=>{let{tr:t,doc:n}=e,{from:a,to:o}=t.selection,s=!1;return n.nodesBetween(a,o,(l,c)=>{let d=l.type;return yv.includes(d.name)?(s=xv(t,c,this.method),!1):!l.type.name.includes("list")}),s?(t.docChanged&&i?.(t),!0):!1}}canExecute(e){return this.insert()(e)}},so=class{constructor(e){this.mode="undo",this.mode=e}insert(){return(e,i)=>this.mode==="undo"?no(e,i):Tr(e,i)}canExecute(e){return this.insert()(e)}},wv=new $t("strong"),Cv=new $t("em"),kv=new $t("code"),Dv=new $t("u"),Iv=new $t("s"),Sv=new vl,Ev=new yl,Mv=new wl,Tv=new Hn(!0),Av=new Hn(!1),Rv=new ci(1),Ov=new ci(2),Fv=new ci(3),Nv=new ci(4),Pv=new ci(5),Lv=new ci(6),Vv=new fn("left"),Bv=new fn("center"),zv=new fn("right"),Hv=new fn("justify"),jv=new xl,qv=new cu,Wv=new zn("text_color","color"),Yv=new zn("text_background_color","backgroundColor"),Uv=new jn("increase"),$v=new jn("decrease"),Kv=new $t("sup"),Qv=new $t("sub"),Gv=new so("undo"),Jv=new so("redo"),lo={bold:wv,italic:Cv,code:kv,underline:Dv,strike:Iv,blockquote:Sv,bullet_list:Tv,ordered_list:Av,h1:Rv,h2:Ov,h3:Fv,h4:Nv,h5:Pv,h6:Lv,align_left:Vv,align_center:Bv,align_right:zv,align_justify:Hv,superscript:Kv,subscript:Qv},Jp={horizontal_rule:Ev,format_clear:Mv,indent:Uv,outdent:$v,undo:Gv,redo:Jv},Rr=jv,Xp=qv,Xv=Wv,Zv=Yv,Cl={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",indent:"Increase Indent",outdent:"Decrease Indent",superscript:"Superscript",subscript:"Subscript",undo:"Undo",redo:"Redo",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove",enterValidUrl:"Please enter a valid URL"},kl=class{constructor(e={}){this.locals=Cl,this.get=i=>{let t=this.locals[i];return t?Jr(t)?t:bt(t):bt("")},this.locals=_e(_e({},Cl),e)}},e0=`
  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />
`,t0=`
  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />
`,i0=`
<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
`,n0=`
<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
`,r0=`
<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>
`,a0=`
<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
`,o0=`
<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
`,s0=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
`,l0=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
`,c0=`
<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>
`,d0=`
<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
`,h0=`
<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>
`,p0=`
<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>
`,u0=`
<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
`,m0=`
<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>
`,f0=`
<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>
`,g0=`
<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>
`,b0=`
  <g>
    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>
    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>
  </g>
`,_0=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>
`,v0='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',y0='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',x0='<g><rect fill="none" height="20" width="20"/><path d="M17,6l-1,0v1h2v1l-3,0V6c0-0.55,0.45-1,1-1l1,0l0-1h-2V3l2,0c0.55,0,1,0.45,1,1v1C18,5.55,17.55,6,17,6z M5.63,16h1.9 l2.43-3.87h0.08L12.47,16h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,6h-1.9l3.09,4.8L5.63,16z"/></g>',w0='<g><rect fill="none" height="20" width="20"/><path d="M17,15l-1,0v1h2v1h-3v-2c0-0.55,0.45-1,1-1l1,0l0-1h-2v-1l2,0c0.55,0,1,0.45,1,1v1C18,14.55,17.55,15,17,15z M5.63,14h1.9 l2.43-3.87h0.08L12.47,14h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,4h-1.9l3.09,4.8L5.63,14z"/></g>',C0='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>',k0='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>',D0=20,I0=20,S0="currentColor",du={bold:e0,italic:t0,code:i0,underline:n0,strike:r0,ordered_list:a0,bullet_list:o0,blockquote:s0,link:l0,unlink:c0,image:d0,align_left:h0,align_center:p0,align_right:u0,align_justify:m0,text_color:f0,color_fill:g0,horizontal_rule:b0,format_clear:_0,indent:v0,outdent:y0,superscript:x0,subscript:w0,undo:C0,redo:k0,path:"<path></path>"},Dl=class{static get(e,i=S0){let t=du[e];return t&&(t.includes("<path")||t.includes("<g"))?`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill=${i}
          height=${D0}
          width=${I0}
        >
          ${t}
        </svg>
      `:t}},Il=(()=>{let e=class e{constructor(){this.locals={},this.icons={}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})(),gn=(()=>{let e=class e{constructor(t){this.config=t}get locals(){return new kl(this.config.locals)}getIcon(t){return this.config.icons[t]?this.config.icons[t]:Dl.get(t)}};e.\u0275fac=function(n){return new(n||e)(_t(Il,8))},e.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})(),Zp=r=>({locals:r.locals??{},icons:r.icons??{}}),qn=(()=>{let e=class e{constructor(t){this.sanitizer=t}transform(t){return ou(t)?t:this.sanitizer.bypassSecurityTrustHtml(t)}};e.\u0275fac=function(n){return new(n||e)(u(Uc,16))},e.\u0275pipe=Tc({name:"sanitizeHtml",type:e,pure:!0});let r=e;return r})(),E0=(()=>{let e=class e{get name(){return this.toolbarItem}constructor(t,n){this.ngxeService=t,this.menuService=n,this.isActive=!1,this.disabled=!1,this.update=a=>{let{state:o}=a,s=lo[this.name];this.isActive=s.isActive(o),this.disabled=!s.canExecute(o)}}toggle(){let{state:t,dispatch:n}=this.editorView;lo[this.name].toggle()(t,n)}onMouseClick(t){t.preventDefault(),t.button===0&&this.toggle()}onKeydown(){this.toggle()}getTitle(t){return this.ngxeService.locals.get(t)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(t=>{this.update(t)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(u(gn),u(Ri))},e.\u0275cmp=P({type:e,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:4,vars:14,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(n,a){n&1&&(b(0,"button",0),ae(1,"sanitizeHtml"),ae(2,"async"),ae(3,"async"),S("mousedown",function(s){return a.onMouseClick(s)})("keydown.enter",function(){return a.onKeydown()})("keydown.space",function(){return a.onKeydown()}),_()),n&2&&(z("NgxEditor__MenuItem--Active",a.isActive)("NgxEditor--Disabled",a.disabled),w("disabled",a.disabled)("innerHTML",oe(1,8,a.html),wn)("title",oe(2,10,a.getTitle(a.name)))("ariaLabel",oe(3,12,a.getTitle(a.name))))},dependencies:[Wi,qn]});let r=e;return r})(),M0=(()=>{let e=class e{get name(){return this.toolbarItem}constructor(t,n){this.ngxeService=t,this.menuService=n,this.disabled=!1,this.update=a=>{let{state:o}=a,s=Jp[this.name];this.disabled=!s.canExecute(o)}}onMouseClick(t){t.preventDefault(),t.button===0&&this.insert()}onKeydown(){this.insert()}insert(){let{state:t,dispatch:n}=this.editorView;Jp[this.name].insert()(t,n)}getTitle(t){return this.ngxeService.locals.get(t)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(t=>{this.update(t)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(u(gn),u(Ri))},e.\u0275cmp=P({type:e,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:4,vars:12,consts:[[1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(n,a){n&1&&(b(0,"button",0),ae(1,"sanitizeHtml"),ae(2,"async"),ae(3,"async"),S("mousedown",function(s){return a.onMouseClick(s)})("keydown.enter",function(){return a.onKeydown()})("keydown.space",function(){return a.onKeydown()}),_()),n&2&&(z("NgxEditor--Disabled",a.disabled),w("disabled",a.disabled)("innerHTML",oe(1,6,a.html),wn)("title",oe(2,8,a.getTitle(a.name)))("ariaLabel",oe(3,10,a.getTitle(a.name))))},dependencies:[Wi,qn]});let r=e;return r})(),eu={showOpenInNewTab:!0},T0=(()=>{let e=class e{constructor(t,n,a){this.el=t,this.ngxeService=n,this.menuService=a,this.options=eu,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.componentId=is(),this.setText=()=>{let{state:{selection:o,doc:s}}=this.editorView,{empty:l,from:c,to:d}=o,h=l?"":s.textBetween(c,d);h&&(this.text.patchValue(h),this.text.disable())},this.update=o=>{let{state:s}=o;this.isActive=Rr.isActive(s,{strict:!1}),this.canExecute=Rr.canExecute(s)}}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(t){!this.el.nativeElement.contains(t.target)&&this.showPopup&&this.hidePopup()}getId(t){return`${t}-${this.componentId}`}getLabel(t){return this.ngxeService.locals.get(t)}hidePopup(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}togglePopup(){let{state:t,dispatch:n}=this.editorView;if(this.isActive){Rr.remove(t,n);return}this.showPopup=!this.showPopup,this.showPopup&&this.setText()}onTogglePopupMouseClick(t){t.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}insertLink(t){t.preventDefault();let{text:n,href:a,openInNewTab:o}=this.form.getRawValue(),{dispatch:s,state:l}=this.editorView,{selection:c}=l,d;this.options.showOpenInNewTab&&(d=o?"_blank":"_self");let h={title:a,href:a,target:d};c.empty?(Rr.insert(n,h)(l,s),this.editorView.focus()):Rr.update(h)(l,s),this.hidePopup()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new Yo({href:new Yi("",[Pe.required,Pe.pattern(this.menuService.editor.linkValidationPattern)]),text:new Yi("",[Pe.required]),openInNewTab:new Yi(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(t=>{this.update(t)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(u(O),u(gn),u(Ri))},e.\u0275cmp=P({type:e,selectors:[["ngx-link"]],hostBindings:function(n,a){n&1&&S("mousedown",function(s){return a.onDocumentClick(s)},!1,rr)},inputs:{options:[x.HasDecoratorInputTransform,"options","options",t=>_e(_e({},eu),t)]},features:[re],decls:5,vars:16,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","href","formControlName","href","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off",3,"id"],["class","NgxEditor__Popup--FormGroup",4,"ngIf"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"],["type","checkbox","formControlName","openInNewTab"]],template:function(n,a){n&1&&(b(0,"button",0),ae(1,"sanitizeHtml"),ae(2,"async"),ae(3,"async"),S("mousedown",function(s){return a.onTogglePopupMouseClick(s)})("keydown.enter",function(){return a.onTogglePopupKeydown()})("keydown.space",function(){return a.onTogglePopupKeydown()}),_(),T(4,N_,20,18,"div",1)),n&2&&(z("NgxEditor__MenuItem--Active",a.isActive||a.showPopup)("NgxEditor--Disabled",!a.canExecute),w("disabled",!a.canExecute)("innerHTML",oe(1,10,a.icon),wn)("title",oe(2,12,a.title))("ariaLabel",oe(3,14,a.title))("ariaExpanded",a.showPopup),g(4),w("ngIf",a.showPopup))},dependencies:[qi,Uo,jo,$c,qo,Wo,ht,$o,Wi,qn]});let r=e;return r})(),A0=(()=>{let e=class e{constructor(t,n,a){this.ngxeService=t,this.menuService=n,this.el=a,this.isDropdownOpen=!1,this.disabledItems=[],this.update=o=>{let{state:s}=o;this.disabledItems=[];let l=[];this.items.forEach(c=>{let d=lo[c];d.isActive(s)&&l.push(c),d.canExecute(s)||this.disabledItems.push(c)}),l.length===1?[this.activeItem]=l:this.activeItem=null}}get isSelected(){return!!(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(t){!this.el.nativeElement.contains(t)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(t){return this.ngxeService.locals.get(t)}getIsDropdownActive(t){return this.activeItem===t}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onToggleDropdownMouseClick(t){t.preventDefault(),t.button===0&&this.toggleDropdown()}onToggleDropdownKeydown(){this.toggleDropdown()}trackByIndex(t){return t}selectItem(t){let n=lo[t],{state:a,dispatch:o}=this.editorView;n.toggle()(a,o),this.isDropdownOpen=!1}onDropdownItemMouseClick(t,n){t.preventDefault(),t.button===0&&this.selectItem(n)}onDropdownItemKeydown(t,n){t.preventDefault(),this.selectItem(n)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(t=>{this.update(t)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(u(gn),u(Ri),u(O))},e.\u0275cmp=P({type:e,selectors:[["ngx-dropdown"]],hostBindings:function(n,a){n&1&&S("mousedown",function(s){return a.onDocumentClick(s.target)},!1,rr)},inputs:{group:"group",items:"items"},decls:5,vars:13,consts:[["type","button","aria-haspopup","listbox",1,"NgxEditor__Dropdown--Text",3,"mousedown","keydown.enter","keydown.space","disabled","ariaLabel","ariaExpanded"],["class","NgxEditor__Dropdown--DropdownMenu","role","listbox",4,"ngIf"],["role","listbox",1,"NgxEditor__Dropdown--DropdownMenu"],["type","button","class","NgxEditor__Dropdown--Item","role","option",3,"ngClass","ariaLabel","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","role","option",1,"NgxEditor__Dropdown--Item",3,"mousedown","keydown.enter","keydown.space","ngClass","ariaLabel"]],template:function(n,a){n&1&&(b(0,"button",0),ae(1,"async"),S("mousedown",function(s){return a.onToggleDropdownMouseClick(s)})("keydown.enter",function(){return a.onToggleDropdownKeydown()})("keydown.space",function(){return a.onToggleDropdownKeydown()}),q(2),ae(3,"async"),_(),T(4,V_,2,2,"div",1)),n&2&&(z("NgxEditor__Dropdown--Selected",a.isSelected)("NgxEditor--Disabled",a.isDropdownDisabled),w("disabled",a.isDropdownDisabled)("ariaLabel",oe(1,9,a.getName(a.activeItem||a.group)))("ariaExpanded",a.isDropdownOpen),g(2),ke(" ",oe(3,11,a.getName(a.activeItem||a.group)),`
`),g(2),w("ngIf",a.isDropdownOpen))},dependencies:[At,ra,qi,Wi]});let r=e;return r})(),R0=(()=>{let e=class e{constructor(t,n,a){this.el=t,this.ngxeService=n,this.menuService=a,this.showPopup=!1,this.isActive=!1,this.componentId=is(),this.form=new Yo({src:new Yi("",[Pe.required,Pe.pattern(`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)`)]),alt:new Yi(""),title:new Yi("")}),this.update=o=>{let{state:s}=o;this.isActive=Xp.isActive(s)}}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(t){!this.el.nativeElement.contains(t.target)&&this.showPopup&&this.hideForm()}getId(t){return`${t}-${this.componentId}`}getLabel(t){return this.ngxeService.locals.get(t)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}togglePopup(){this.showPopup=!this.showPopup,this.showPopup&&this.fillForm()}onTogglePopupMouseClick(t){t.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}fillForm(){let{state:t}=this.editorView,{selection:n}=t;if(n instanceof j&&this.isActive){let{src:a,alt:o="",title:s=""}=n.node.attrs;this.form.setValue({src:a,alt:o,title:s})}}insertLink(t){t.preventDefault();let{src:n,alt:a,title:o}=this.form.getRawValue(),{dispatch:s,state:l}=this.editorView,c={alt:a,title:o};Xp.insert(n,c)(l,s),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(t=>{this.update(t)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(u(O),u(gn),u(Ri))},e.\u0275cmp=P({type:e,selectors:[["ngx-image"]],hostBindings:function(n,a){n&1&&S("mousedown",function(s){return a.onDocumentClick(s)},!1,rr)},decls:5,vars:13,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","href","formControlName","src","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off",3,"id"],["type","text","formControlName","title","autocomplete","off",3,"id"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(n,a){n&1&&(b(0,"button",0),ae(1,"sanitizeHtml"),ae(2,"async"),ae(3,"async"),S("mousedown",function(s){return a.onTogglePopupMouseClick(s)})("keydown.enter",function(){return a.onTogglePopupKeydown()})("keydown.space",function(){return a.onTogglePopupKeydown()}),_(),T(4,z_,24,21,"div",1)),n&2&&(z("NgxEditor__MenuItem--Active",a.isActive||a.showPopup),w("innerHTML",oe(1,7,a.icon),wn)("title",oe(2,9,a.getLabel("insertImage")))("ariaLabel",oe(3,11,a.getLabel("insertImage")))("ariaExpanded",a.showPopup),g(4),w("ngIf",a.showPopup))},dependencies:[qi,Uo,jo,qo,Wo,ht,$o,Wi,qn]});let r=e;return r})(),O0=(()=>{let e=class e{constructor(t,n,a){this.el=t,this.menuService=n,this.ngxeService=a,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=o=>{let{state:s}=o;this.canExecute=this.command.canExecute(s),this.isActive=this.command.isActive(s),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(s))}}get title(){return this.getLabel(this.type==="text_color"?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon(this.type==="text_color"?"text_color":"color_fill")}get command(){return this.type==="text_color"?Xv:Zv}getContrastYIQ(t){let n=t.replace("#",""),a=parseInt(n.substring(0,2),16),o=parseInt(n.substring(2,4),16),s=parseInt(n.substring(4,6),16);return(a*299+o*587+s*114)/1e3>=128?"black":"white"}onDocumentClick(t){!this.el.nativeElement.contains(t.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(){this.showPopup=!this.showPopup}onTogglePopupMouseClick(t){t.preventDefault(),t.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}remove(){let{state:t,dispatch:n}=this.editorView;this.command.remove()(t,n),this.hidePopup()}onRemoveMouseClick(t){t.preventDefault(),t.button===0&&(t.preventDefault(),this.remove())}onRemoveKeydown(){this.remove()}trackByIndex(t){return t}selectColor(t){let{state:n,dispatch:a}=this.editorView;if(this.type==="text_color"){let o={color:t};this.command.apply(o)(n,a)}else{let o={backgroundColor:t};this.command.apply(o)(n,a)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}onColorSelectMouseClick(t,n){t.preventDefault(),t.button===0&&this.selectColor(n)}onColorSelectKeydown(t){this.selectColor(t)}getLabel(t){return this.ngxeService.locals.get(t)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(t=>{this.update(t)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(u(O),u(Ri),u(gn))},e.\u0275cmp=P({type:e,selectors:[["ngx-color-picker"]],hostBindings:function(n,a){n&1&&S("mousedown",function(s){return a.onDocumentClick(s)},!1,rr)},inputs:{presets:"presets",type:"type"},decls:5,vars:15,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"mousedown","keydown.enter","keydown.space","disabled"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"mousedown","keydown.enter","keydown.space","ngStyle","title","ngClass"]],template:function(n,a){n&1&&(b(0,"button",0),ae(1,"sanitizeHtml"),ae(2,"async"),ae(3,"async"),S("mousedown",function(s){return a.onTogglePopupMouseClick(s)})("keydown.enter",function(){return a.onTogglePopupKeydown()})("keydown.space",function(){return a.onTogglePopupKeydown()}),_(),T(4,Y_,5,6,"div",1)),n&2&&(z("NgxEditor__MenuItem--Active",a.isActive||a.showPopup)("NgxEditor--Disabled",!a.canExecute),w("disabled",!a.canExecute)("innerHTML",oe(1,9,a.icon),wn)("title",oe(2,11,a.title))("ariaLabel",oe(3,13,a.title)),g(4),w("ngIf",a.showPopup))},dependencies:[At,ra,qi,Wc,Wi,qn],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color[_ngcontent-%COMP%]:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color);outline-offset:1px}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']});let r=e;return r})();var F0=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]];var N0=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],G1=(()=>{let e=class e{constructor(t){this.menuService=t,this.toolbar=F0,this.colorPresets=N0,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify","superscript","subscript"],this.insertCommands=["horizontal_rule","format_clear","indent","outdent","undo","redo"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--IconContainer"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}get presets(){let n=[];return this.colorPresets.forEach((a,o)=>{let s=Math.floor(o/8);n[s]||n.push([]),n[s].push(a)}),n}trackByIndex(t){return t}isDropDown(t){return!!t?.heading}getDropdownItems(t){return t}isLinkItem(t){return t==="link"?!0:typeof t=="object"&&typeof t?.link=="object"}isLinkWithOptions(t){return typeof t=="object"&&typeof t?.link=="object"}getLinkOptions(t){return t?.link}ngOnInit(){if(!this.editor)throw new Sn("Required editor instance to initialize menu component");this.menuService.editor=this.editor}};e.\u0275fac=function(n){return new(n||e)(u(Ri))},e.\u0275cmp=P({type:e,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[U([Ri])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"options"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(n,a){n&1&&(b(0,"div",0),T(1,nv,2,2,"ng-container",1)(2,rv,2,1,"ng-container",2),_()),n&2&&(w("ngClass",ar(4,U_,a.disabled,a.dropdownPlacement==="top")),g(),w("ngForOf",a.toolbar)("ngForTrackBy",a.trackByIndex),g(),w("ngIf",a.customMenuRef))},dependencies:[At,ra,qi,aa,E0,M0,T0,A0,R0,O0,Yc]});let r=e;return r})();var P0=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({providers:[qn],imports:[dt,Qc]});let r=e;return r})(),oo=new K("NgxEditorConfig"),tu={locals:Cl,icons:du},J1=(()=>{let e=class e{static forRoot(t=tu){return{ngModule:e,providers:[{provide:oo,useValue:t},{provide:Il,useFactory:Zp,deps:[oo]}]}}static forChild(t=tu){return{ngModule:e,providers:[{provide:oo,useValue:t},{provide:Il,useFactory:Zp,deps:[oo]},gn]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({imports:[dt,P0]});let r=e;return r})();var nt=(r,e=!1)=>(i,t)=>{let n=new $t(r);return e?n.toggle()(i,t):n.apply()(i,t)},Sl=class{constructor(e){if(this.applyTrx=i=>{this.state=this.state.apply(i??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=i=>{this.applyTrx(i)},!e)throw new Sn("Required view to initialize commands.");this.view=e,this.state=e.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;let e=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);let i=this.tr.setMeta("FORCE_EMIT",e);return this.view.dispatch(i),!0}focus(e="end"){let i=e==="start"?Q.atStart(this.state.doc):Q.atEnd(this.state.doc);return this.tr.setSelection(i),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(e){return this.tr.insertText(e),this.applyTrx(),this}insertNewLine(){return Bn(...[il,al,ol,sl])(this.state,this.dispatch),this}applyMark(e){return nt(e,!1)(this.state,this.dispatch),this}toggleMark(e){return nt(e,!0)(this.state,this.dispatch),this}bold(){return nt("strong")(this.state,this.dispatch),this}toggleBold(){return nt("strong",!0)(this.state,this.dispatch),this}italics(){return nt("em")(this.state,this.dispatch),this}toggleItalics(){return nt("em",!0)(this.state,this.dispatch),this}underline(){return nt("u")(this.state,this.dispatch),this}toggleUnderline(){return nt("u",!0)(this.state,this.dispatch),this}strike(){return nt("s")(this.state,this.dispatch),this}toggleStrike(){return nt("s",!0)(this.state,this.dispatch),this}code(){return nt("code")(this.state,this.dispatch),this}toggleCode(){return nt("code",!0)(this.state,this.dispatch),this}superscript(){return nt("sup")(this.state,this.dispatch),this}subscript(){return nt("sub")(this.state,this.dispatch),this}toggleOrderedList(){return new Hn(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new Hn(!0).toggle()(this.state,this.dispatch),this}toggleHeading(e){return new ci(e).toggle()(this.state,this.dispatch),this}insertLink(e,i){return new xl().insert(e,i)(this.state,this.dispatch),this}updateLink(e){return new xl().update(e)(this.state,this.dispatch),this}insertImage(e,i={}){return new cu().insert(e,i)(this.state,this.dispatch),this}textColor(e){return new zn("text_color").apply({color:e})(this.state,this.dispatch),this}backgroundColor(e){return new zn("text_background_color").apply({backgroundColor:e})(this.state,this.dispatch),this}removeTextColor(){return new zn("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new zn("text_background_color").remove()(this.state,this.dispatch),this}align(e){return new fn(e).toggle()(this.state,this.dispatch),this}insertHTML(e){let{selection:i,schema:t,tr:n}=this.state,{from:a,to:o}=i,s=document.createElement("div");s.innerHTML=au(e)?e.trim():e;let l=ki.fromSchema(t).parseSlice(s),c=n.replaceRange(a,o,l);return this.applyTrx(c),this}indent(){return new jn("increase").insert()(this.state,this.dispatch),this}outdent(){return new jn("decrease").insert()(this.state,this.dispatch),this}},L0=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,V0=r=>Xa(/^\s*>\s$/,r),B0=r=>Xa(/^(?:\d+)\.\s$/,r,e=>({order:Number(e[1])}),(e,i)=>i.childCount+i.attrs.order===Number(e[1])),z0=r=>Xa(/^\s*(?:[-+*])\s$/,r),H0=r=>ll(/^```$/,r),j0=(r,e)=>ll(new RegExp(`^(#{1,${e}})\\s$`),r,i=>({level:i[1].length})),q0=r=>pl(/(?:^|\s)(?:(\*\*|__)(?:([^*_]+))(\*\*|__))$/,r),W0=r=>pl(/(?:^|\s)(?:(\*|_)(?:([^*_]+))(\*|_))$/,r),Y0=r=>{let e=Vp.concat(Lp,Pp);return e.push(q0(r.marks.strong)),e.push(W0(r.marks.em)),e.push(V0(r.nodes.blockquote)),e.push(B0(r.nodes.ordered_list)),e.push(z0(r.nodes.bullet_list)),e.push(H0(r.nodes.code_block)),e.push(j0(r.nodes.heading,6)),Np({rules:e})},U0=(r,e)=>{let i={};i["Mod-z"]=no,L0?i["Shift-Mod-z"]=Tr:i["Mod-y"]=Tr;let t=[Ar({"Mod-b":pn(r.marks.strong),"Mod-i":pn(r.marks.em),"Mod-u":pn(r.marks.u),"Mod-`":pn(r.marks.code)}),Ar({Enter:Cp(r.nodes.list_item),"Shift-Enter":Bn(rl,(n,a)=>{let{tr:o}=n,s=r.nodes.hard_break;return a(o.replaceSelectionWith(s.create()).scrollIntoView()),!0}),"Mod-[":Zs(r.nodes.list_item),"Mod-]":el(r.nodes.list_item),Tab:el(r.nodes.list_item)}),Ar(Op)];return e.history&&t.push(Ar(i)),t},$0=(r,e)=>{let i=[];return e.keyboardShortcuts&&i.push(...U0(r,{history:e.history})),e.history&&i.push(Up()),e.inputRules&&i.push(Y0(r)),i},hu={linkOnPaste:!0,resizeImage:!0},iu={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Mr,plugins:[],nodeViews:{},attributes:{},features:hu,handleScrollToSelection:null,linkValidationPattern:`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)|(mailto:.*[@].*)`},nu=class{constructor(e=iu){this.valueChangesSubject=new Y,this.updateSubject=new Y,this.options=_e(_e({},iu),e),this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Mr}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new Sl(this.view)}get features(){return _e(_e({},hu),this.options.features)}handleTransactions(e){let i=this.view.state.apply(e);if(this.view.updateState(i),this.updateSubject.next(this.view),!e.docChanged&&!e.getMeta("FORCE_EMIT"))return;let t=i.doc.toJSON();this.valueChangesSubject.next(t)}createEditor(){let{options:e,schema:i}=this,{content:t=null,nodeViews:n}=e,{history:a=!0,keyboardShortcuts:o=!0,inputRules:s=!0}=e,l=Kp(t,i,e.parseOptions),c=e.plugins??[],d=e.attributes??{},h=$0(i,{history:a,keyboardShortcuts:o,inputRules:s});this.view=new Ka(null,{state:Va.create({doc:l,schema:i,plugins:[...h,...c]}),nodeViews:n,dispatchTransaction:this.handleTransactions.bind(this),attributes:d,handleScrollToSelection:e.handleScrollToSelection})}setContent(e){if(bd(e))return;let{state:i}=this.view,{tr:t,doc:n}=i,a=Kp(e,this.schema,this.options.parseOptions);t.replaceWith(0,i.doc.content.size,a),!n.eq(t.doc)&&t.docChanged&&this.view.dispatch(t)}registerPlugin(e){let{state:i}=this.view,t=[...i.plugins,e],n=i.reconfigure({plugins:t});this.view.updateState(n)}destroy(){this.view.destroy()}};var El=class{constructor(e){this._box=e,this._destroyed=new Y,this._resizeSubject=new Y,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new yn(i=>{let t=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),t.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Mt(i=>i.some(t=>t.target===e)),Ec({bufferSize:1,refCount:!0}),ee(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},pu=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=G(te),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(t,n){let a=n?.box||"content-box";return this._observers.has(a)||this._observers.set(a,new El(a)),this._observers.get(a).observe(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var K0=["notch"],Q0=["matFormFieldNotchedOutline",""],G0=["*"],J0=["textField"],X0=["iconPrefixContainer"],Z0=["textPrefixContainer"],ey=["iconSuffixContainer"],ty=["textSuffixContainer"],iy=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ny=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function ry(r,e){r&1&&F(0,"span",19)}function ay(r,e){if(r&1&&(b(0,"label",18),H(1,1),T(2,ry,1,0,"span",19),_()),r&2){let i=C(2);w("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),L("for",i._control.disableAutomaticLabeling?null:i._control.id),g(2),W(2,!i.hideRequiredMarker&&i._control.required?2:-1)}}function oy(r,e){if(r&1&&T(0,ay,3,5,"label",18),r&2){let i=C();W(0,i._hasFloatingLabel()?0:-1)}}function sy(r,e){r&1&&F(0,"div",7)}function ly(r,e){}function cy(r,e){if(r&1&&T(0,ly,0,0,"ng-template",13),r&2){C(2);let i=Xt(1);w("ngTemplateOutlet",i)}}function dy(r,e){if(r&1&&(b(0,"div",9),T(1,cy,1,1,null,13),_()),r&2){let i=C();w("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),g(),W(1,i._forceDisplayInfixLabel()?-1:1)}}function hy(r,e){r&1&&(b(0,"div",10,2),H(2,2),_())}function py(r,e){r&1&&(b(0,"div",11,3),H(2,3),_())}function uy(r,e){}function my(r,e){if(r&1&&T(0,uy,0,0,"ng-template",13),r&2){C();let i=Xt(1);w("ngTemplateOutlet",i)}}function fy(r,e){r&1&&(b(0,"div",14,4),H(2,4),_())}function gy(r,e){r&1&&(b(0,"div",15,5),H(2,5),_())}function by(r,e){r&1&&F(0,"div",16)}function _y(r,e){if(r&1&&(b(0,"div",20),H(1,6),_()),r&2){let i=C();w("@transitionMessages",i._subscriptAnimationState)}}function vy(r,e){if(r&1&&(b(0,"mat-hint",22),q(1),_()),r&2){let i=C(2);w("id",i._hintLabelId),g(),pe(i.hintLabel)}}function yy(r,e){if(r&1&&(b(0,"div",21),T(1,vy,2,2,"mat-hint",22),H(2,7),F(3,"div",23),H(4,8),_()),r&2){let i=C();w("@transitionMessages",i._subscriptAnimationState),g(),W(1,i.hintLabel?1:-1)}}var uu=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=A({type:e,selectors:[["mat-label"]],standalone:!0});let r=e;return r})();var xy=new K("MatError");var wy=0,mu=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${wy++}`}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=A({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,a){n&2&&(yt("id",a.id),L("align",null),z("mat-mdc-form-field-hint-end",a.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let r=e;return r})(),wu=new K("MatPrefix"),Ik=(()=>{let e=class e{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=A({type:e,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[x.None,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[U([{provide:wu,useExisting:e}])]});let r=e;return r})(),Cu=new K("MatSuffix"),Sk=(()=>{let e=class e{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=A({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[x.None,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[U([{provide:Cu,useExisting:e}])]});let r=e;return r})(),ku=new K("FloatingLabelParent"),fu=(()=>{let e=class e{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=G(pu),this._ngZone=G(te),this._parent=G(ku),this._resizeSubscription=new Ee}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Cy(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(n){return new(n||e)(u(O))},e.\u0275dir=A({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,a){n&2&&z("mdc-floating-label--float-above",a.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let r=e;return r})();function Cy(r){let e=r;if(e.offsetParent!==null)return e.scrollWidth;let i=e.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);let t=i.scrollWidth;return i.remove(),t}var gu="mdc-line-ripple--active",ho="mdc-line-ripple--deactivating",bu=(()=>{let e=class e{constructor(t,n){this._elementRef=t,this._handleTransitionEnd=a=>{let o=this._elementRef.nativeElement.classList,s=o.contains(ho);a.propertyName==="opacity"&&s&&o.remove(gu,ho)},n.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(ho),t.add(gu)}deactivate(){this._elementRef.nativeElement.classList.add(ho)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(n){return new(n||e)(u(O),u(te))},e.\u0275dir=A({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let r=e;return r})(),_u=(()=>{let e=class e{constructor(t,n){this._elementRef=t,this._ngZone=n,this.open=!1}ngAfterViewInit(){let t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){!this.open||!t?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(n){return new(n||e)(u(O),u(te))},e.\u0275cmp=P({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,a){if(n&1&&X(K0,5),n&2){let o;E(o=M())&&(a._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,a){n&2&&z("mdc-notched-outline--notched",a.open)},inputs:{open:[x.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[$],attrs:Q0,ngContentSelectors:G0,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,a){n&1&&(me(),F(0,"div",1),b(1,"div",2,0),H(3),_(),F(4,"div",3))},encapsulation:2,changeDetection:0});let r=e;return r})(),ky={transitionMessages:Bt("transitionMessages",[ti("enter",Ie({opacity:1,transform:"translateY(0%)"})),tt("void => enter",[Ie({opacity:0,transform:"translateY(-5px)"}),et("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},di=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=A({type:e});let r=e;return r})();var It=new K("MatFormField"),Dy=new K("MAT_FORM_FIELD_DEFAULT_OPTIONS"),vu=0,yu="fill",Iy="auto",xu="fixed",Sy="translateY(-50%)",Du=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ei(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Iy}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){let n=this._appearance,a=t||this._defaults?.appearance||yu;this._appearance=a,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||xu}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||xu}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,n,a,o,s,l,c,d){this._elementRef=t,this._changeDetectorRef=n,this._dir=o,this._platform=s,this._defaults=l,this._animationMode=c,this._labelChild=Nc(uu),this._hideRequiredMarker=!1,this.color="primary",this._appearance=yu,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${vu++}`,this._hintLabelId=`mat-mdc-hint-${vu++}`,this._subscriptAnimationState="",this._destroyed=new Y,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=G(Me),this.getLabelId=Ho(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Ho(()=>!!this._labelChild()),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let n=this._control,a="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(a+t.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(a+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(ee(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ce(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Fc(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(ee(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let n=this._control?this._control.ngControl:null;return n&&n[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let n=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,a=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;n?t.push(n.id):this._hintLabel&&t.push(this._hintLabelId),a&&t.push(a.id)}else this._errorChildren&&t.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let t=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){t.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,a=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,l=n?.getBoundingClientRect().width??0,c=a?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0,h=s?.getBoundingClientRect().width??0,p=this._dir.value==="rtl"?"-1":"1",f=`${l+c}px`,v=`calc(${p} * (${f} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;t.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Sy} translateX(${v})
    )`;let y=l+c+d+h;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${y}px)`)}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let n=t.getRootNode();return n&&n!==t}return document.documentElement.contains(t)}};e.\u0275fac=function(n){return new(n||e)(u(O),u(de),u(te),u(De),u(Le),u(Dy,8),u(Pt,8),u(Ze))},e.\u0275cmp=P({type:e,selectors:[["mat-form-field"]],contentQueries:function(n,a,o){if(n&1&&(Bc(o,a._labelChild,uu,5),J(o,di,5),J(o,wu,5),J(o,Cu,5),J(o,xy,5),J(o,mu,5)),n&2){zc();let s;E(s=M())&&(a._formFieldControl=s.first),E(s=M())&&(a._prefixChildren=s),E(s=M())&&(a._suffixChildren=s),E(s=M())&&(a._errorChildren=s),E(s=M())&&(a._hintChildren=s)}},viewQuery:function(n,a){if(n&1&&(X(J0,5),X(X0,5),X(Z0,5),X(ey,5),X(ty,5),X(fu,5),X(_u,5),X(bu,5)),n&2){let o;E(o=M())&&(a._textField=o.first),E(o=M())&&(a._iconPrefixContainer=o.first),E(o=M())&&(a._textPrefixContainer=o.first),E(o=M())&&(a._iconSuffixContainer=o.first),E(o=M())&&(a._textSuffixContainer=o.first),E(o=M())&&(a._floatingLabel=o.first),E(o=M())&&(a._notchedOutline=o.first),E(o=M())&&(a._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,a){n&2&&z("mat-mdc-form-field-label-always-float",a._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",a._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",a._hasIconSuffix)("mat-form-field-invalid",a._control.errorState)("mat-form-field-disabled",a._control.disabled)("mat-form-field-autofilled",a._control.autofilled)("mat-form-field-no-animations",a._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",a.appearance=="fill")("mat-form-field-appearance-outline",a.appearance=="outline")("mat-form-field-hide-placeholder",a._hasFloatingLabel()&&!a._shouldLabelFloat())("mat-focused",a._control.focused)("mat-primary",a.color!=="accent"&&a.color!=="warn")("mat-accent",a.color==="accent")("mat-warn",a.color==="warn")("ng-untouched",a._shouldForward("untouched"))("ng-touched",a._shouldForward("touched"))("ng-pristine",a._shouldForward("pristine"))("ng-dirty",a._shouldForward("dirty"))("ng-valid",a._shouldForward("valid"))("ng-invalid",a._shouldForward("invalid"))("ng-pending",a._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[U([{provide:It,useExisting:e},{provide:ku,useExisting:e}]),$],ngContentSelectors:ny,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,a){if(n&1){let o=fe();me(iy),T(0,oy,1,1,"ng-template",null,0,Hc),b(2,"div",6,1),S("click",function(l){return V(o),B(a._control.onContainerClick(l))}),T(4,sy,1,0,"div",7),b(5,"div",8),T(6,dy,2,2,"div",9)(7,hy,3,0,"div",10)(8,py,3,0,"div",11),b(9,"div",12),T(10,my,1,1,null,13),H(11),_(),T(12,fy,3,0,"div",14)(13,gy,3,0,"div",15),_(),T(14,by,1,0,"div",16),_(),b(15,"div",17),T(16,_y,2,1)(17,yy,5,2),_()}if(n&2){let o;g(2),z("mdc-text-field--filled",!a._hasOutline())("mdc-text-field--outlined",a._hasOutline())("mdc-text-field--no-label",!a._hasFloatingLabel())("mdc-text-field--disabled",a._control.disabled)("mdc-text-field--invalid",a._control.errorState),g(2),W(4,!a._hasOutline()&&!a._control.disabled?4:-1),g(2),W(6,a._hasOutline()?6:-1),g(),W(7,a._hasIconPrefix?7:-1),g(),W(8,a._hasTextPrefix?8:-1),g(2),W(10,!a._hasOutline()||a._forceDisplayInfixLabel()?10:-1),g(2),W(12,a._hasTextSuffix?12:-1),g(),W(13,a._hasIconSuffix?13:-1),g(),W(14,a._hasOutline()?-1:14),g(),z("mat-mdc-form-field-subscript-dynamic-size",a.subscriptSizing==="dynamic"),g(),W(16,(o=a._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[fu,_u,aa,bu,mu],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[ky.transitionMessages]},changeDetection:0});let r=e;return r})(),Or=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({imports:[se,dt,od,se]});let r=e;return r})();var My=["trigger"],Ty=["panel"],Ay=[[["mat-select-trigger"]],"*"],Ry=["mat-select-trigger","*"];function Oy(r,e){if(r&1&&(b(0,"span",4),q(1),_()),r&2){let i=C();g(),pe(i.placeholder)}}function Fy(r,e){r&1&&H(0)}function Ny(r,e){if(r&1&&(b(0,"span",11),q(1),_()),r&2){let i=C(2);g(),pe(i.triggerValue)}}function Py(r,e){if(r&1&&(b(0,"span",10),T(1,Fy,1,0)(2,Ny,2,1),_()),r&2){let i=C();g(),W(1,i.customTrigger?1:2)}}function Ly(r,e){if(r&1){let i=fe();b(0,"div",12,1),S("@transformPanel.done",function(n){V(i);let a=C();return B(a._panelDoneAnimatingStream.next(n.toState))})("keydown",function(n){V(i);let a=C();return B(a._handleKeydown(n))}),H(2,1),_()}if(r&2){let i=C();Pc("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",i._getPanelTheme(),""),w("ngClass",i.panelClass)("@transformPanel","showing"),L("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}var Vy={transformPanelWrap:Bt("transformPanelWrap",[tt("* => void",gd("@transformPanel",[fd()],{optional:!0}))]),transformPanel:Bt("transformPanel",[ti("void",Ie({opacity:0,transform:"scale(1, 0.8)"})),tt("void => showing",et("120ms cubic-bezier(0, 0, 0.2, 1)",Ie({opacity:1,transform:"scale(1, 1)"}))),tt("* => void",et("100ms linear",Ie({opacity:0})))])};var Iu=0,Mu=new K("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let r=G(Re);return()=>r.scrollStrategies.reposition()}});function By(r){return()=>r.scrollStrategies.reposition()}var zy=new K("MAT_SELECT_CONFIG"),Hy={provide:Mu,deps:[Re],useFactory:By},jy=new K("MatSelectTrigger"),Ml=class{constructor(e,i){this.source=e,this.value=i}},Tu=(()=>{let e=class e{_scrollOptionIntoView(t){let n=this.options.toArray()[t];if(n){let a=this.panel.nativeElement,o=ba(t,this.options,this.optionGroups),s=n._getHostElement();t===0&&o===1?a.scrollTop=0:a.scrollTop=_a(s.offsetTop,s.offsetHeight,a.scrollTop,a.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new Ml(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Pe.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._selectionModel,this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,a,o,s,l,c,d,h,p,f,m,v,y){this._viewportRuler=t,this._changeDetectorRef=n,this._elementRef=s,this._dir=l,this._parentFormField=h,this.ngControl=p,this._liveAnnouncer=v,this._defaultOptions=y,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(D,be)=>D===be,this._uid=`mat-select-${Iu++}`,this._triggerAriaLabelledBy=null,this._destroy=new Y,this.stateChanges=new Y,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${Iu++}`,this._panelDoneAnimatingStream=new Y,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Y,this.optionSelectionChanges=Xr(()=>{let D=this.options;return D?D.changes.pipe(ot(D),Qt(()=>Ce(...D.map(be=>be.onSelectionChange)))):this._initialized.pipe(Qt(()=>this.optionSelectionChanges))}),this.openedChange=new R,this._openedStream=this.openedChange.pipe(Mt(D=>D),er(()=>{})),this._closedStream=this.openedChange.pipe(Mt(D=>!D),er(()=>{})),this.selectionChange=new R,this.valueChange=new R,this._trackedModal=null,this._skipPredicate=D=>this.panelOpen?!1:D.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),y?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=y.typeaheadDebounceInterval),this._errorStateTracker=new Ci(o,p,d,c,this.stateChanges),this._scrollStrategyFactory=m,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(f)||0,this.id=this.id}ngOnInit(){this._selectionModel=new td(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Sc(),ee(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(ee(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(ee(this._destroy)).subscribe(t=>{t.added.forEach(n=>n.select()),t.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(ot(null),ee(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let t=this._getTriggerAriaLabelledby(),n=this.ngControl;if(t!==this._triggerAriaLabelledBy){let a=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?a.setAttribute("aria-labelledby",t):a.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let n=`${this.id}-panel`;this._trackedModal&&Ui(this._trackedModal,"aria-owns",n),lr(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){if(!this._trackedModal)return;let t=`${this.id}-panel`;Ui(this._trackedModal,"aria-owns",t),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let t=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){let n=t.keyCode,a=n===40||n===38||n===37||n===39,o=n===13||n===32,s=this._keyManager;if(!s.isTyping()&&o&&!Te(t)||(this.multiple||t.altKey)&&a)t.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;s.onKeydown(t);let c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){let n=this._keyManager,a=t.keyCode,o=a===40||a===38,s=n.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(!s&&(a===13||a===32)&&n.activeItem&&!Te(t))t.preventDefault(),n.activeItem._selectViaInteraction();else if(!s&&this._multiple&&a===65&&t.ctrlKey){t.preventDefault();let l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{let l=n.activeItemIndex;n.onKeydown(t),this._multiple&&o&&t.shiftKey&&n.activeItem&&n.activeItemIndex!==l&&n.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(zi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){let n=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return a.value!=null&&this._compareWith(a.value,t)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(t){return t!==this._value||this._multiple&&Array.isArray(t)?(this.options&&this._setSelectionByValue(t),this._value=t,!0):!1}_getOverlayWidth(t){return this.panelWidth==="auto"?(t instanceof Xo?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new ha(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let t=Ce(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ee(t)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ce(...this.options.map(n=>n._stateChanges)).pipe(ee(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,n){let a=this._selectionModel.isSelected(t);t.value==null&&!this._multiple?(t.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(t.value)):(a!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),n&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),n&&this.focus())),a!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let t=this.options.toArray();this._selectionModel.sort((n,a)=>this.sortComparator?this.sortComparator(n,a,t):t.indexOf(n)-t.indexOf(a)),this.stateChanges.next()}}_propagateChanges(t){let n;this.multiple?n=this.selected.map(a=>a.value):n=this.selected?this.selected.value:t,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){t=n;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),n=t?t+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),n=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(n){return new(n||e)(u(kn),u(de),u(te),u(wt),u(O),u(De,8),u(Lt,8),u(ht,8),u(It,8),u(vi,10),Tt("tabindex"),u(Mu),u(pd),u(zy,8))},e.\u0275cmp=P({type:e,selectors:[["mat-select"]],contentQueries:function(n,a,o){if(n&1&&(J(o,jy,5),J(o,Dn,5),J(o,ga,5)),n&2){let s;E(s=M())&&(a.customTrigger=s.first),E(s=M())&&(a.options=s),E(s=M())&&(a.optionGroups=s)}},viewQuery:function(n,a){if(n&1&&(X(My,5),X(Ty,5),X(Zo,5)),n&2){let o;E(o=M())&&(a.trigger=o.first),E(o=M())&&(a.panel=o.first),E(o=M())&&(a._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,a){n&1&&S("keydown",function(s){return a._handleKeydown(s)})("focus",function(){return a._onFocus()})("blur",function(){return a._onBlur()}),n&2&&(L("id",a.id)("tabindex",a.disabled?-1:a.tabIndex)("aria-controls",a.panelOpen?a.id+"-panel":null)("aria-expanded",a.panelOpen)("aria-label",a.ariaLabel||null)("aria-required",a.required.toString())("aria-disabled",a.disabled.toString())("aria-invalid",a.errorState)("aria-activedescendant",a._getAriaActiveDescendant()),z("mat-mdc-select-disabled",a.disabled)("mat-mdc-select-invalid",a.errorState)("mat-mdc-select-required",a.required)("mat-mdc-select-empty",a.empty)("mat-mdc-select-multiple",a.multiple))},inputs:{userAriaDescribedBy:[x.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[x.HasDecoratorInputTransform,"disabled","disabled",N],disableRipple:[x.HasDecoratorInputTransform,"disableRipple","disableRipple",N],tabIndex:[x.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>t==null?0:xt(t)],hideSingleSelectionIndicator:[x.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",N],placeholder:"placeholder",required:[x.HasDecoratorInputTransform,"required","required",N],multiple:[x.HasDecoratorInputTransform,"multiple","multiple",N],disableOptionCentering:[x.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",N],compareWith:"compareWith",value:"value",ariaLabel:[x.None,"aria-label","ariaLabel"],ariaLabelledby:[x.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[x.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",xt],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[U([{provide:di,useExisting:e},{provide:fa,useExisting:e}]),re,ve,$],ngContentSelectors:Ry,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,a){if(n&1){let o=fe();me(Ay),b(0,"div",2,0),S("click",function(){return V(o),B(a.open())}),b(3,"div",3),T(4,Oy,2,1,"span",4)(5,Py,3,1),_(),b(6,"div",5)(7,"div",6),st(),b(8,"svg",7),F(9,"path",8),_()()()(),T(10,Ly,3,9,"ng-template",9),S("backdropClick",function(){return V(o),B(a.close())})("attach",function(){return V(o),B(a._onAttached())})("detach",function(){return V(o),B(a.close())})}if(n&2){let o=Xt(1);g(3),L("id",a._valueId),g(),W(4,a.empty?4:5),g(6),w("cdkConnectedOverlayPanelClass",a._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",a._scrollStrategy)("cdkConnectedOverlayOrigin",a._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",a.panelOpen)("cdkConnectedOverlayPositions",a._positions)("cdkConnectedOverlayWidth",a._overlayWidth)}},dependencies:[Xo,Zo,At],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Vy.transformPanel]},changeDetection:0});let r=e;return r})();var qy=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({providers:[Hy],imports:[dt,wi,In,se,xi,Or,In,se]});let r=e;return r})();var Wy=["tooltip"],Fu=20;var Nu=new K("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let r=G(Re);return()=>r.scrollStrategies.reposition({scrollThrottle:Fu})}});function Yy(r){return()=>r.scrollStrategies.reposition({scrollThrottle:Fu})}var Uy={provide:Nu,deps:[Re],useFactory:Yy};function $y(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Ky=new K("mat-tooltip-default-options",{providedIn:"root",factory:$y});var Au="tooltip-panel",Ru=yi({passive:!0}),Qy=8,Gy=8,Jy=24,Xy=200,Pu=(()=>{let e=class e{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=ei(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let n=ei(t);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=sa(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=sa(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){let n=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,n,a,o,s,l,c,d,h,p,f,m){this._overlay=t,this._elementRef=n,this._scrollDispatcher=a,this._viewContainerRef=o,this._ngZone=s,this._platform=l,this._ariaDescriber=c,this._focusMonitor=d,this._dir=p,this._defaultOptions=f,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Zy,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new Y,this._injector=G(Me),this._scrollStrategy=h,this._document=m,f&&(this._showDelay=f.showDelay,this._hideDelay=f.hideDelay,f.position&&(this.position=f.position),f.positionAtOrigin&&(this.positionAtOrigin=f.positionAtOrigin),f.touchGestures&&(this.touchGestures=f.touchGestures),f.tooltipClass&&(this.tooltipClass=f.tooltipClass)),p.change.pipe(ee(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=Qy}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ee(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,a])=>{t.removeEventListener(n,a,Ru)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let a=this._createOverlay(n);this._detach(),this._portal=this._portal||new sr(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=a.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(ee(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(t):(n._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof O)return this._overlayRef;this._detach()}let n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),a=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return a.positionChanges.pipe(ee(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:a,panelClass:`${this._cssClassPrefix}-${Au}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ee(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ee(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(ee(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!Te(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let n=t.getConfig().positionStrategy,a=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset(_e(_e({},a.main),o.main)),this._addOffset(_e(_e({},a.fallback),o.fallback))])}_addOffset(t){let n=Gy,a=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-n:t.originY==="bottom"?t.offsetY=n:t.originX==="start"?t.offsetX=a?-n:n:t.originX==="end"&&(t.offsetX=a?n:-n),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",n=this.position,a;n=="above"||n=="below"?a={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&t||n=="right"&&!t?a={originX:"start",originY:"center"}:(n=="after"||n=="right"&&t||n=="left"&&!t)&&(a={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(a.originX,a.originY);return{main:a,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",n=this.position,a;n=="above"?a={overlayX:"center",overlayY:"bottom"}:n=="below"?a={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&t||n=="right"&&!t?a={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&t||n=="left"&&!t)&&(a={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(a.overlayX,a.overlayY);return{main:a,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),vt(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:n}}_updateCurrentPositionClass(t){let{overlayY:n,originX:a,originY:o}=t,s;if(n==="center"?this._dir&&this._dir.value==="rtl"?s=a==="end"?"left":"right":s=a==="start"?"left":"right":s=n==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let l=this._overlayRef;if(l){let c=`${this._cssClassPrefix}-${Au}-`;l.removePanelClass(c+this._currentPosition),l.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let n;t.x!==void 0&&t.y!==void 0&&(n=t),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let n=t.targetTouches?.[0],a=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,a)},this._defaultOptions.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",n=>{let a=n.relatedTarget;(!a||!this._overlayRef?.overlayElement.contains(a))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",n],["touchcancel",n])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([n,a])=>{this._elementRef.nativeElement.addEventListener(n,a,Ru)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let n=this._document.elementFromPoint(t.clientX,t.clientY),a=this._elementRef.nativeElement;n!==a&&!a.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let n=this._elementRef.nativeElement,a=n.style;(t==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(a.userSelect=a.msUserSelect=a.webkitUserSelect=a.MozUserSelect="none"),(t==="on"||!n.draggable)&&(a.webkitUserDrag="none"),a.touchAction="none",a.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}};e.\u0275fac=function(n){return new(n||e)(u(Re),u(O),u(id),u(ct),u(te),u(Le),u(cd),u($i),u(Nu),u(De),u(Ky,8),u(Ze))},e.\u0275dir=A({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,a){n&2&&z("mat-mdc-tooltip-disabled",a.disabled)},inputs:{position:[x.None,"matTooltipPosition","position"],positionAtOrigin:[x.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[x.None,"matTooltipDisabled","disabled"],showDelay:[x.None,"matTooltipShowDelay","showDelay"],hideDelay:[x.None,"matTooltipHideDelay","hideDelay"],touchGestures:[x.None,"matTooltipTouchGestures","touchGestures"],message:[x.None,"matTooltip","message"],tooltipClass:[x.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0});let r=e;return r})(),Zy=(()=>{let e=class e{constructor(t,n,a){this._changeDetectorRef=t,this._elementRef=n,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Y,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=a==="NoopAnimations"}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>Jy&&t.width>=Xy}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let n=this._tooltip.nativeElement,a=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(t?o:a),n.classList.add(t?a:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(n);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}};e.\u0275fac=function(n){return new(n||e)(u(de),u(O),u(Pt,8))},e.\u0275cmp=P({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(n,a){if(n&1&&X(Wy,7),n&2){let o;E(o=M())&&(a._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,a){n&1&&S("mouseleave",function(s){return a._handleMouseLeave(s)})},standalone:!0,features:[$],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,a){if(n&1){let o=fe();b(0,"div",1,0),S("animationend",function(l){return V(o),B(a._handleAnimationEnd(l))}),b(2,"div",2),q(3),_()()}n&2&&(z("mdc-tooltip--multiline",a._isMultiline),w("ngClass",a.tooltipClass),g(3),pe(a.message))},dependencies:[At],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0});let r=e;return r})();var ex=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({providers:[Uy],imports:[pa,dt,wi,se,se,xi]});let r=e;return r})();var tx=["mat-button",""],ix=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],nx=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var rx=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var ax=["mat-icon-button",""],ox=["*"];var sx=new K("MAT_BUTTON_CONFIG");var lx=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Lu=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,n,a,o){this._elementRef=t,this._platform=n,this._ngZone=a,this._animationMode=o,this._focusMonitor=G($i),this._rippleLoader=G(va),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let s=G(sx,{optional:!0}),l=t.nativeElement,c=l.classList;this.disabledInteractive=s?.disabledInteractive??!1,this.color=s?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:h}of lx)l.hasAttribute(d)&&c.add(...h)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",n){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(n){Zr()},e.\u0275dir=A({type:e,inputs:{color:"color",disableRipple:[x.HasDecoratorInputTransform,"disableRipple","disableRipple",N],disabled:[x.HasDecoratorInputTransform,"disabled","disabled",N],ariaDisabled:[x.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",N],disabledInteractive:[x.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",N]},features:[re]});let r=e;return r})();var Al=(()=>{let e=class e extends Lu{constructor(t,n,a,o){super(t,n,a,o)}};e.\u0275fac=function(n){return new(n||e)(u(O),u(Le),u(te),u(Pt,8))},e.\u0275cmp=P({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,a){n&2&&(L("disabled",a._getDisabledAttribute())("aria-disabled",a._getAriaDisabled()),xe(a.color?"mat-"+a.color:""),z("mat-mdc-button-disabled",a.disabled)("mat-mdc-button-disabled-interactive",a.disabledInteractive)("_mat-animation-noopable",a._animationMode==="NoopAnimations")("mat-unthemed",!a.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ie,$],attrs:tx,ngContentSelectors:nx,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,a){n&1&&(me(ix),F(0,"span",0),H(1),b(2,"span",1),H(3,1),_(),H(4,2),F(5,"span",2)(6,"span",3)),n&2&&z("mdc-button__ripple",!a._isFab)("mdc-fab__ripple",a._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let r=e;return r})();var Fr=(()=>{let e=class e extends Lu{constructor(t,n,a,o){super(t,n,a,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};e.\u0275fac=function(n){return new(n||e)(u(O),u(Le),u(te),u(Pt,8))},e.\u0275cmp=P({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,a){n&2&&(L("disabled",a._getDisabledAttribute())("aria-disabled",a._getAriaDisabled()),xe(a.color?"mat-"+a.color:""),z("mat-mdc-button-disabled",a.disabled)("mat-mdc-button-disabled-interactive",a.disabledInteractive)("_mat-animation-noopable",a._animationMode==="NoopAnimations")("mat-unthemed",!a.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ie,$],attrs:ax,ngContentSelectors:ox,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,a){n&1&&(me(),F(0,"span",0),H(1),F(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',rx],encapsulation:2,changeDetection:0});let r=e;return r})();var Rl=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({imports:[se,ma,se]});let r=e;return r})();function cx(r,e){if(r&1&&(b(0,"mat-option",17),q(1),_()),r&2){let i=e.$implicit;w("value",i),g(),ke(" ",i," ")}}function dx(r,e){if(r&1){let i=fe();b(0,"mat-form-field",14)(1,"mat-select",16,0),S("selectionChange",function(n){V(i);let a=C(2);return B(a._changePageSize(n.value))}),Hi(3,cx,2,2,"mat-option",17,zo),_(),b(5,"div",18),S("click",function(){V(i);let n=Xt(2);return B(n.open())}),_()()}if(r&2){let i=C(2);w("appearance",i._formFieldAppearance)("color",i.color),g(),w("value",i.pageSize)("disabled",i.disabled)("aria-labelledby",i._pageSizeLabelId)("panelClass",i.selectConfig.panelClass||"")("disableOptionCentering",i.selectConfig.disableOptionCentering),g(2),ji(i._displayedPageSizeOptions)}}function hx(r,e){if(r&1&&(b(0,"div",15),q(1),_()),r&2){let i=C(2);g(),pe(i.pageSize)}}function px(r,e){if(r&1&&(b(0,"div",3)(1,"div",13),q(2),_(),T(3,dx,6,7,"mat-form-field",14)(4,hx,2,1,"div",15),_()),r&2){let i=C();g(),L("id",i._pageSizeLabelId),g(),ke(" ",i._intl.itemsPerPageLabel," "),g(),W(3,i._displayedPageSizeOptions.length>1?3:-1),g(),W(4,i._displayedPageSizeOptions.length<=1?4:-1)}}function ux(r,e){if(r&1){let i=fe();b(0,"button",19),S("click",function(){V(i);let n=C();return B(n.firstPage())}),st(),b(1,"svg",8),F(2,"path",20),_()()}if(r&2){let i=C();w("matTooltip",i._intl.firstPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),L("aria-label",i._intl.firstPageLabel)}}function mx(r,e){if(r&1){let i=fe();b(0,"button",21),S("click",function(){V(i);let n=C();return B(n.lastPage())}),st(),b(1,"svg",8),F(2,"path",22),_()()}if(r&2){let i=C();w("matTooltip",i._intl.lastPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),L("aria-label",i._intl.lastPageLabel)}}var fx=(()=>{let e=class e{constructor(){this.changes=new Y,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,n,a)=>{if(a==0||n==0)return`0 of ${a}`;a=Math.max(a,0);let o=t*n,s=o<a?Math.min(o+n,a):o+n;return`${o+1} \u2013 ${s} of ${a}`}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var gx=50;var bx=new K("MAT_PAGINATOR_DEFAULT_OPTIONS"),_x=0,ZD=(()=>{let e=class e{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(t||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=t||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(t||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(n=>xt(n,0)),this._updateDisplayedPageSizeOptions()}constructor(t,n,a){if(this._intl=t,this._changeDetectorRef=n,this._pageSizeLabelId=`mat-paginator-page-size-label-${_x++}`,this._isInitialized=!1,this._initializedStream=new kc(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new R,this.initialized=this._initializedStream,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),a){let{pageSize:o,pageSizeOptions:s,hidePageSize:l,showFirstLastButtons:c}=a;o!=null&&(this._pageSize=o),s!=null&&(this._pageSizeOptions=s),l!=null&&(this.hidePageSize=l),c!=null&&(this.showFirstLastButtons=c)}this._formFieldAppearance=a?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;let t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;let t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;let t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let t=this.getNumberOfPages()-1;return this.pageIndex<t&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){let n=this.pageIndex*this.pageSize,a=this.pageIndex;this.pageIndex=Math.floor(n/t)||0,this.pageSize=t,this._emitPageEvent(a)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:gx),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,n)=>t-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}};e.\u0275fac=function(n){return new(n||e)(u(fx),u(de),u(bx,8))},e.\u0275cmp=P({type:e,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[x.HasDecoratorInputTransform,"pageIndex","pageIndex",xt],length:[x.HasDecoratorInputTransform,"length","length",xt],pageSize:[x.HasDecoratorInputTransform,"pageSize","pageSize",xt],pageSizeOptions:"pageSizeOptions",hidePageSize:[x.HasDecoratorInputTransform,"hidePageSize","hidePageSize",N],showFirstLastButtons:[x.HasDecoratorInputTransform,"showFirstLastButtons","showFirstLastButtons",N],selectConfig:"selectConfig",disabled:[x.HasDecoratorInputTransform,"disabled","disabled",N]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[re,$],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,a){n&1&&(b(0,"div",1)(1,"div",2),T(2,px,5,4,"div",3),b(3,"div",4)(4,"div",5),q(5),_(),T(6,ux,3,5,"button",6),b(7,"button",7),S("click",function(){return a.previousPage()}),st(),b(8,"svg",8),F(9,"path",9),_()(),nr(),b(10,"button",10),S("click",function(){return a.nextPage()}),st(),b(11,"svg",8),F(12,"path",11),_()(),T(13,mx,3,5,"button",12),_()()()),n&2&&(g(2),W(2,a.hidePageSize?-1:2),g(3),ke(" ",a._intl.getRangeLabel(a.pageIndex,a.pageSize,a.length)," "),g(),W(6,a.showFirstLastButtons?6:-1),g(),w("matTooltip",a._intl.previousPageLabel)("matTooltipDisabled",a._previousButtonsDisabled())("matTooltipPosition","above")("disabled",a._previousButtonsDisabled()),L("aria-label",a._intl.previousPageLabel),g(3),w("matTooltip",a._intl.nextPageLabel)("matTooltipDisabled",a._nextButtonsDisabled())("matTooltipPosition","above")("disabled",a._nextButtonsDisabled()),L("aria-label",a._intl.nextPageLabel),g(3),W(13,a.showFirstLastButtons?13:-1))},dependencies:[Du,Tu,Dn,Fr,Pu],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0});let r=e;return r})();var Vu=yi({passive:!0}),Bu=(()=>{let e=class e{constructor(t,n){this._platform=t,this._ngZone=n,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Dc;let n=Ko(t),a=this._monitoredElements.get(n);if(a)return a.subject;let o=new Y,s="cdk-text-field-autofilled",l=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",l,Vu),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",l,Vu)}}),o}stopMonitoring(t){let n=Ko(t),a=this._monitoredElements.get(n);a&&(a.unlisten(),a.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}};e.\u0275fac=function(n){return new(n||e)(_t(Le),_t(te))},e.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var zu=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({});let r=e;return r})();var Ol=new K("MAT_INPUT_VALUE_ACCESSOR"),yx=["button","checkbox","file","hidden","image","radio","range","reset","submit"],xx=0,_I=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(t){this._disabled=ei(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Pe.required)??!1}set required(t){this._required=ei(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Qo().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ei(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,a,o,s,l,c,d,h,p){this._elementRef=t,this._platform=n,this.ngControl=a,this._autofillMonitor=d,this._ngZone=h,this._formField=p,this._uid=`mat-input-${xx++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Y,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(v=>Qo().has(v)),this._iOSKeyupListener=v=>{let y=v.target;!y.value&&y.selectionStart===0&&y.selectionEnd===0&&(y.setSelectionRange(1,1),y.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let f=this._elementRef.nativeElement,m=f.nodeName.toLowerCase();this._inputValueAccessor=c||f,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&h.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Ci(l,a,s,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=m==="select",this._isTextarea=m==="textarea",this._isInFormField=!!p,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=t,t?n.setAttribute("placeholder",t):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){yx.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}else return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};e.\u0275fac=function(n){return new(n||e)(u(O),u(Le),u(vi,10),u(Lt,8),u(ht,8),u(wt),u(Ol,10),u(Bu),u(te),u(It,8))},e.\u0275dir=A({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,a){n&1&&S("focus",function(){return a._focusChanged(!0)})("blur",function(){return a._focusChanged(!1)})("input",function(){return a._onInput()}),n&2&&(yt("id",a.id)("disabled",a.disabled)("required",a.required),L("name",a.name||null)("readonly",a.readonly&&!a._isNativeSelect||null)("aria-invalid",a.empty&&a.required?null:a.errorState)("aria-required",a.required)("id",a.id),z("mat-input-server",a._isServer)("mat-mdc-form-field-textarea-control",a._isInFormField&&a._isTextarea)("mat-mdc-form-field-input-control",a._isInFormField)("mdc-text-field__input",a._isInFormField)("mat-mdc-native-select-inline",a._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[x.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[U([{provide:di,useExisting:e}]),ve]});let r=e;return r})(),vI=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({imports:[se,Or,Or,zu,se]});let r=e;return r})();var Cx=[[["caption"]],[["colgroup"],["col"]],"*"],kx=["caption","colgroup, col","*"];function Dx(r,e){r&1&&H(0,2)}function Ix(r,e){r&1&&(b(0,"thead",0),je(1,1),_(),b(2,"tbody",0),je(3,2)(4,3),_(),b(5,"tfoot",0),je(6,4),_())}function Sx(r,e){r&1&&je(0,1)(1,2)(2,3)(3,4)}var Ft=new K("CDK_TABLE");var bo=(()=>{let e=class e{constructor(t){this.template=t}};e.\u0275fac=function(n){return new(n||e)(u(lt))},e.\u0275dir=A({type:e,selectors:[["","cdkCellDef",""]],standalone:!0});let r=e;return r})(),_o=(()=>{let e=class e{constructor(t){this.template=t}};e.\u0275fac=function(n){return new(n||e)(u(lt))},e.\u0275dir=A({type:e,selectors:[["","cdkHeaderCellDef",""]],standalone:!0});let r=e;return r})(),qu=(()=>{let e=class e{constructor(t){this.template=t}};e.\u0275fac=function(n){return new(n||e)(u(lt))},e.\u0275dir=A({type:e,selectors:[["","cdkFooterCellDef",""]],standalone:!0});let r=e;return r})(),Un=(()=>{let e=class e{get name(){return this._name}set name(t){this._setNameInput(t)}get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}constructor(t){this._table=t,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}};e.\u0275fac=function(n){return new(n||e)(u(Ft,8))},e.\u0275dir=A({type:e,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,a,o){if(n&1&&(J(o,bo,5),J(o,_o,5),J(o,qu,5)),n&2){let s;E(s=M())&&(a.cell=s.first),E(s=M())&&(a.headerCell=s.first),E(s=M())&&(a.footerCell=s.first)}},inputs:{name:[x.None,"cdkColumnDef","name"],sticky:[x.HasDecoratorInputTransform,"sticky","sticky",N],stickyEnd:[x.HasDecoratorInputTransform,"stickyEnd","stickyEnd",N]},standalone:!0,features:[U([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),re]});let r=e;return r})(),uo=class{constructor(e,i){i.nativeElement.classList.add(...e._columnCssClassName)}},Wu=(()=>{let e=class e extends uo{constructor(t,n){super(t,n)}};e.\u0275fac=function(n){return new(n||e)(u(Un),u(O))},e.\u0275dir=A({type:e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[ie]});let r=e;return r})();var Yu=(()=>{let e=class e extends uo{constructor(t,n){super(t,n);let a=t._table?._getCellRole();a&&n.nativeElement.setAttribute("role",a)}};e.\u0275fac=function(n){return new(n||e)(u(Un),u(O))},e.\u0275dir=A({type:e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[ie]});let r=e;return r})(),mo=class{constructor(){this.tasks=[],this.endTasks=[]}},fo=new K("_COALESCED_STYLE_SCHEDULER"),Nl=(()=>{let e=class e{constructor(t){this._currentSchedule=null,this._ngZone=G(te)}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new mo,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let t=this._currentSchedule;this._currentSchedule=new mo;for(let n of t.tasks)n();for(let n of t.endTasks)n()}this._currentSchedule=null})))}};e.\u0275fac=function(n){return new(n||e)(_t(te))},e.\u0275prov=ye({token:e,factory:e.\u0275fac});let r=e;return r})();var Pl=(()=>{let e=class e{constructor(t,n){this.template=t,this._differs=n}ngOnChanges(t){if(!this._columnsDiffer){let n=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Nr?t.headerCell.template:this instanceof Ll?t.footerCell.template:t.cell.template}};e.\u0275fac=function(n){return new(n||e)(u(lt),u(Cn))},e.\u0275dir=A({type:e,features:[ve]});let r=e;return r})(),Nr=(()=>{let e=class e extends Pl{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,n,a){super(t,n),this._table=a,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}};e.\u0275fac=function(n){return new(n||e)(u(lt),u(Cn),u(Ft,8))},e.\u0275dir=A({type:e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[x.None,"cdkHeaderRowDef","columns"],sticky:[x.HasDecoratorInputTransform,"cdkHeaderRowDefSticky","sticky",N]},standalone:!0,features:[re,ie,ve]});let r=e;return r})(),Ll=(()=>{let e=class e extends Pl{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,n,a){super(t,n),this._table=a,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}};e.\u0275fac=function(n){return new(n||e)(u(lt),u(Cn),u(Ft,8))},e.\u0275dir=A({type:e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[x.None,"cdkFooterRowDef","columns"],sticky:[x.HasDecoratorInputTransform,"cdkFooterRowDefSticky","sticky",N]},standalone:!0,features:[re,ie,ve]});let r=e;return r})(),vo=(()=>{let e=class e extends Pl{constructor(t,n,a){super(t,n),this._table=a}};e.\u0275fac=function(n){return new(n||e)(u(lt),u(Cn),u(Ft,8))},e.\u0275dir=A({type:e,selectors:[["","cdkRowDef",""]],inputs:{columns:[x.None,"cdkRowDefColumns","columns"],when:[x.None,"cdkRowDefWhen","when"]},standalone:!0,features:[ie]});let r=e;return r})(),_n=(()=>{let e=class e{constructor(t){this._viewContainer=t,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}};e.mostRecentCellOutlet=null,e.\u0275fac=function(n){return new(n||e)(u(ct))},e.\u0275dir=A({type:e,selectors:[["","cdkCellOutlet",""]],standalone:!0});let r=e;return r})(),Vl=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=P({type:e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[$],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,a){n&1&&je(0,0)},dependencies:[_n],encapsulation:2});let r=e;return r})();var Bl=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=P({type:e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[$],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,a){n&1&&je(0,0)},dependencies:[_n],encapsulation:2});let r=e;return r})(),yo=(()=>{let e=class e{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}};e.\u0275fac=function(n){return new(n||e)(u(lt))},e.\u0275dir=A({type:e,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0});let r=e;return r})(),Hu=["top","bottom","left","right"],Fl=class{constructor(e,i,t,n,a=!0,o=!0,s){this._isNativeHtmlTable=e,this._stickCellCss=i,this.direction=t,this._coalescedStyleScheduler=n,this._isBrowser=a,this._needsPositionStickyOnElement=o,this._positionListener=s,this._elemSizeCache=new WeakMap,this._resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(l=>this._updateCachedSizes(l)):null,this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null,this._cachedCellWidths=[],this._borderCellCss={top:`${i}-border-elem-top`,bottom:`${i}-border-elem-bottom`,left:`${i}-border-elem-left`,right:`${i}-border-elem-right`}}clearStickyPositioning(e,i){(i.includes("left")||i.includes("right"))&&this._removeFromStickyColumnReplayQueue(e);let t=[];for(let n of e)if(n.nodeType===n.ELEMENT_NODE){t.push(n);for(let a=0;a<n.children.length;a++)t.push(n.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(let n of t)this._removeStickyStyle(n,i)})}updateStickyColumns(e,i,t,n=!0,a=!0){if(a&&this._updateStickyColumnReplayQueue({rows:[...e],stickyStartStates:[...i],stickyEndStates:[...t]}),!e.length||!this._isBrowser||!(i.some(o=>o)||t.some(o=>o))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let o=e[0],s=o.children.length,l=this._getCellWidths(o,n),c=this._getStickyStartColumnPositions(l,i),d=this._getStickyEndColumnPositions(l,t),h=i.lastIndexOf(!0),p=t.indexOf(!0),f=this.direction==="rtl",m=f?"right":"left",v=f?"left":"right";for(let y of e)for(let D=0;D<s;D++){let be=y.children[D];i[D]&&this._addStickyStyle(be,m,c[D],D===h),t[D]&&this._addStickyStyle(be,v,d[D],D===p)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:h===-1?[]:l.slice(0,h+1).map((y,D)=>i[D]?y:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:p===-1?[]:l.slice(p).map((y,D)=>t[D+p]?y:null).reverse()}))})}stickRows(e,i,t){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let n=t==="bottom"?e.slice().reverse():e,a=t==="bottom"?i.slice().reverse():i,o=[],s=[],l=[];for(let d=0,h=0;d<n.length;d++){if(!a[d])continue;o[d]=h;let p=n[d];l[d]=this._isNativeHtmlTable?Array.from(p.children):[p];let f=this._retrieveElementSize(p).height;h+=f,s[d]=f}let c=a.lastIndexOf(!0);for(let d=0;d<n.length;d++){if(!a[d])continue;let h=o[d],p=d===c;for(let f of l[d])this._addStickyStyle(f,t,h,p)}t==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:s,offsets:o,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:s,offsets:o,elements:l})})}updateStickyFooterContainer(e,i){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let t=e.querySelector("tfoot");t&&(i.some(n=>!n)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1))})}_removeStickyStyle(e,i){for(let n of i)e.style[n]="",e.classList.remove(this._borderCellCss[n]);Hu.some(n=>i.indexOf(n)===-1&&e.style[n])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,i,t,n){e.classList.add(this._stickCellCss),n&&e.classList.add(this._borderCellCss[i]),e.style[i]=`${t}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){let i={top:100,bottom:10,left:1,right:1},t=0;for(let n of Hu)e.style[n]&&(t+=i[n]);return t?`${t}`:""}_getCellWidths(e,i=!0){if(!i&&this._cachedCellWidths.length)return this._cachedCellWidths;let t=[],n=e.children;for(let a=0;a<n.length;a++){let o=n[a];t.push(this._retrieveElementSize(o).width)}return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(e,i){let t=[],n=0;for(let a=0;a<e.length;a++)i[a]&&(t[a]=n,n+=e[a]);return t}_getStickyEndColumnPositions(e,i){let t=[],n=0;for(let a=e.length;a>0;a--)i[a]&&(t[a]=n,n+=e[a]);return t}_retrieveElementSize(e){let i=this._elemSizeCache.get(e);if(i)return i;let t=e.getBoundingClientRect(),n={width:t.width,height:t.height};return this._resizeObserver&&(this._elemSizeCache.set(e,n),this._resizeObserver.observe(e,{box:"border-box"})),n}_updateStickyColumnReplayQueue(e){this._removeFromStickyColumnReplayQueue(e.rows),!this._stickyColumnsReplayTimeout&&this._updatedStickyColumnsParamsToReplay.push(e)}_removeFromStickyColumnReplayQueue(e){let i=new Set(e);for(let t of this._updatedStickyColumnsParamsToReplay)t.rows=t.rows.filter(n=>!i.has(n));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(t=>!!t.rows.length)}_updateCachedSizes(e){let i=!1;for(let t of e){let n=t.borderBoxSize?.length?{width:t.borderBoxSize[0].inlineSize,height:t.borderBoxSize[0].blockSize}:{width:t.contentRect.width,height:t.contentRect.height};n.width!==this._elemSizeCache.get(t.target)?.width&&Ex(t.target)&&(i=!0),this._elemSizeCache.set(t.target,n)}i&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{for(let t of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(t.rows,t.stickyStartStates,t.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null},0))}};function Ex(r){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(e=>r.classList.contains(e))}var go=new K("CDK_SPL");var zl=(()=>{let e=class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;let a=G(Ft);a._rowOutlet=this,a._outletAssigned()}};e.\u0275fac=function(n){return new(n||e)(u(ct),u(O))},e.\u0275dir=A({type:e,selectors:[["","rowOutlet",""]],standalone:!0});let r=e;return r})(),Hl=(()=>{let e=class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;let a=G(Ft);a._headerRowOutlet=this,a._outletAssigned()}};e.\u0275fac=function(n){return new(n||e)(u(ct),u(O))},e.\u0275dir=A({type:e,selectors:[["","headerRowOutlet",""]],standalone:!0});let r=e;return r})(),jl=(()=>{let e=class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;let a=G(Ft);a._footerRowOutlet=this,a._outletAssigned()}};e.\u0275fac=function(n){return new(n||e)(u(ct),u(O))},e.\u0275dir=A({type:e,selectors:[["","footerRowOutlet",""]],standalone:!0});let r=e;return r})(),ql=(()=>{let e=class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;let a=G(Ft);a._noDataRowOutlet=this,a._outletAssigned()}};e.\u0275fac=function(n){return new(n||e)(u(ct),u(O))},e.\u0275dir=A({type:e,selectors:[["","noDataRowOutlet",""]],standalone:!0});let r=e;return r})();var Wl=(()=>{let e=class e{_getCellRole(){if(this._cellRoleInternal===void 0){let t=this._elementRef.nativeElement.getAttribute("role"),n=t==="grid"||t==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&n==="cell"?null:n}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,n,a,o,s,l,c,d,h,p,f,m){this._differs=t,this._changeDetectorRef=n,this._elementRef=a,this._dir=s,this._platform=c,this._viewRepeater=d,this._coalescedStyleScheduler=h,this._viewportRuler=p,this._stickyPositioningListener=f,this._onDestroy=new Y,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new R,this.viewChange=new Cc({start:0,end:Number.MAX_VALUE}),this._injector=G(Me),o||a.nativeElement.setAttribute("role","table"),this._document=l,this._isServer=!c.isBrowser,this._isNativeHtmlTable=a.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((t,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(ee(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),la(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let t=this._dataDiffer.diff(this._renderRows);if(!t){this._updateNoDataRow(),this.contentChanged.next();return}let n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,n,(a,o,s)=>this._getEmbeddedViewArgs(a.item,s),a=>a.item.data,a=>{a.operation===ed.INSERTED&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(a=>{let o=n.get(a.currentIndex);o.context.$implicit=a.item.data}),this._updateNoDataRow(),vt(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){let t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let a=ju(this._headerRowOutlet,"thead");a&&(a.style.display=t.length?"":"none")}let n=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){let t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let a=ju(this._footerRowOutlet,"tfoot");a&&(a.style.display=t.length?"":"none")}let n=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){let t=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...n,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{let s=[];for(let l=0;l<n.length;l++)this._renderRows[l].rowDef===o&&s.push(n[l]);this._addStickyColumnStyles(s,o)}),a.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let t=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let o=this._data[a],s=this._getRenderRowsForData(o,a,n.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let l=0;l<s.length;l++){let c=s[l],d=this._cachedRenderRowsMap.get(c.data);d.has(c.rowDef)?d.get(c.rowDef).push(c):d.set(c.rowDef,[c]),t.push(c)}}return t}_getRenderRowsForData(t,n,a){return this._getRowDefs(t,n).map(s=>{let l=a&&a.has(s)?a.get(s):[];if(l.length){let c=l.shift();return c.dataIndex=n,c}else return{data:t,rowDef:s,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),po(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=po(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=po(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=po(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let t=this._rowDefs.filter(n=>!n.when);!this.multiTemplateDataRows&&t.length>1,this._defaultRowDef=t[0]}_renderUpdatedColumns(){let t=(s,l)=>s||!!l.getColumnsDiff(),n=this._rowDefs.reduce(t,!1);n&&this._forceRenderDataRows();let a=this._headerRowDefs.reduce(t,!1);a&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),n||a||o}_switchDataSource(t){this._data=[],la(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;la(this.dataSource)?t=this.dataSource.connect(this):Jr(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=bt(this.dataSource)),this._renderChangeSubscription=t.pipe(ee(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,n)=>this._renderRow(this._headerRowOutlet,t,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,n)=>this._renderRow(this._footerRowOutlet,t,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,n){let a=Array.from(n.columns||[]).map(l=>{let c=this._columnDefsByName.get(l);return c}),o=a.map(l=>l.sticky),s=a.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){let n=[];for(let a=0;a<t.viewContainer.length;a++){let o=t.viewContainer.get(a);n.push(o.rootNodes[0])}return n}_getRowDefs(t,n){if(this._rowDefs.length==1)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(o=>!o.when||o.when(n,t));else{let o=this._rowDefs.find(s=>s.when&&s.when(n,t))||this._defaultRowDef;o&&a.push(o)}return a.length,a}_getEmbeddedViewArgs(t,n){let a=t.rowDef,o={$implicit:t.data};return{templateRef:a.template,context:o,index:n}}_renderRow(t,n,a,o={}){let s=t.viewContainer.createEmbeddedView(n.template,o,a);return this._renderCellTemplateForItem(n,o),s}_renderCellTemplateForItem(t,n){for(let a of this._getCellTemplates(t))_n.mostRecentCellOutlet&&_n.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let t=this._rowOutlet.viewContainer;for(let n=0,a=t.length;n<a;n++){let s=t.get(n).context;s.count=a,s.first=n===0,s.last=n===a-1,s.even=n%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[n].dataIndex,s.renderIndex=n):s.index=this._renderRows[n].dataIndex}}_getCellTemplates(t){return!t||!t.columns?[]:Array.from(t.columns,n=>{let a=this._columnDefsByName.get(n);return t.extractCellTemplate(a)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let t=(n,a)=>n||a.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let t=this._dir?this._dir.value:"ltr";this._stickyStyler=new Fl(this._isNativeHtmlTable,this.stickyCssClass,t,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:bt()).pipe(ee(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){let t=this._customNoDataRow||this._noDataRow;if(!t)return;let n=this._rowOutlet.viewContainer.length===0;if(n===this._isShowingNoDataRow)return;let a=this._noDataRowOutlet.viewContainer;if(n){let o=a.createEmbeddedView(t.templateRef),s=o.rootNodes[0];o.rootNodes.length===1&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(t._contentClassName))}else a.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}};e.\u0275fac=function(n){return new(n||e)(u(Cn),u(de),u(O),Tt("role"),u(De,8),u(Ze),u(Le),u(or),u(fo),u(kn),u(go,12),u(te,8))},e.\u0275cmp=P({type:e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,a,o){if(n&1&&(J(o,yo,5),J(o,Un,5),J(o,vo,5),J(o,Nr,5),J(o,Ll,5)),n&2){let s;E(s=M())&&(a._noDataRow=s.first),E(s=M())&&(a._contentColumnDefs=s),E(s=M())&&(a._contentRowDefs=s),E(s=M())&&(a._contentHeaderRowDefs=s),E(s=M())&&(a._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,a){n&2&&z("cdk-table-fixed-layout",a.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[x.HasDecoratorInputTransform,"multiTemplateDataRows","multiTemplateDataRows",N],fixedLayout:[x.HasDecoratorInputTransform,"fixedLayout","fixedLayout",N]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[U([{provide:Ft,useExisting:e},{provide:or,useClass:ca},{provide:fo,useClass:Nl},{provide:go,useValue:null}]),re,$],ngContentSelectors:kx,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,a){n&1&&(me(Cx),H(0),H(1,1),T(2,Dx,1,0)(3,Ix,7,0)(4,Sx,4,0)),n&2&&(g(2),W(2,a._isServer?2:-1),g(),W(3,a._isNativeHtmlTable?3:4))},dependencies:[Hl,zl,ql,jl],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2});let r=e;return r})();function po(r,e){return r.concat(Array.from(e))}function ju(r,e){let i=e.toUpperCase(),t=r.viewContainer.element.nativeElement;for(;t;){let n=t.nodeType===1?t.nodeName:null;if(n===i)return t;if(n==="TABLE")break;t=t.parentNode}return null}var Uu=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({imports:[nd]});let r=e;return r})();var Mx=[[["caption"]],[["colgroup"],["col"]],"*"],Tx=["caption","colgroup, col","*"];function Ax(r,e){r&1&&H(0,2)}function Rx(r,e){r&1&&(b(0,"thead",0),je(1,1),_(),b(2,"tbody",2),je(3,3)(4,4),_(),b(5,"tfoot",0),je(6,5),_())}function Ox(r,e){r&1&&je(0,1)(1,3)(2,4)(3,5)}var rS=(()=>{let e=class e extends Wl{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275cmp=P({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,a){n&2&&z("mdc-table-fixed-layout",a.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[U([{provide:Wl,useExisting:e},{provide:Ft,useExisting:e},{provide:fo,useClass:Nl},{provide:or,useClass:ca},{provide:go,useValue:null}]),ie,$],ngContentSelectors:Tx,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,a){n&1&&(me(Mx),H(0),H(1,1),T(2,Ax,1,0)(3,Rx,7,0)(4,Ox,4,0)),n&2&&(g(2),W(2,a._isServer?2:-1),g(),W(3,a._isNativeHtmlTable?3:4))},dependencies:[Hl,zl,ql,jl],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2});let r=e;return r})(),aS=(()=>{let e=class e extends bo{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275dir=A({type:e,selectors:[["","matCellDef",""]],standalone:!0,features:[U([{provide:bo,useExisting:e}]),ie]});let r=e;return r})(),oS=(()=>{let e=class e extends _o{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275dir=A({type:e,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[U([{provide:_o,useExisting:e}]),ie]});let r=e;return r})();var sS=(()=>{let e=class e extends Un{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275dir=A({type:e,selectors:[["","matColumnDef",""]],inputs:{name:[x.None,"matColumnDef","name"]},standalone:!0,features:[U([{provide:Un,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),ie]});let r=e;return r})(),lS=(()=>{let e=class e extends Wu{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275dir=A({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[ie]});let r=e;return r})();var cS=(()=>{let e=class e extends Yu{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275dir=A({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[ie]});let r=e;return r})();var dS=(()=>{let e=class e extends Nr{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275dir=A({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[x.None,"matHeaderRowDef","columns"],sticky:[x.HasDecoratorInputTransform,"matHeaderRowDefSticky","sticky",N]},standalone:!0,features:[U([{provide:Nr,useExisting:e}]),re,ie]});let r=e;return r})();var hS=(()=>{let e=class e extends vo{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275dir=A({type:e,selectors:[["","matRowDef",""]],inputs:{columns:[x.None,"matRowDefColumns","columns"],when:[x.None,"matRowDefWhen","when"]},standalone:!0,features:[U([{provide:vo,useExisting:e}]),ie]});let r=e;return r})(),pS=(()=>{let e=class e extends Vl{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275cmp=P({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[U([{provide:Vl,useExisting:e}]),ie,$],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,a){n&1&&je(0,0)},dependencies:[_n],encapsulation:2});let r=e;return r})();var uS=(()=>{let e=class e extends Bl{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275cmp=P({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[U([{provide:Bl,useExisting:e}]),ie,$],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,a){n&1&&je(0,0)},dependencies:[_n],encapsulation:2});let r=e;return r})(),mS=(()=>{let e=class e extends yo{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275dir=A({type:e,selectors:[["ng-template","matNoDataRow",""]],standalone:!0,features:[U([{provide:yo,useExisting:e}]),ie]});let r=e;return r})();var fS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({imports:[se,Uu,se]});let r=e;return r})();var Fx=["panel"],Nx=["*"];function Px(r,e){if(r&1){let i=fe();b(0,"div",1,0),S("@panelAnimation.done",function(n){V(i);let a=C();return B(a._animationDone.next(n))}),H(2),_()}if(r&2){let i=e.id,t=C();xe(t._classList),z("mat-mdc-autocomplete-visible",t.showPanel)("mat-mdc-autocomplete-hidden",!t.showPanel)("mat-primary",t._color==="primary")("mat-accent",t._color==="accent")("mat-warn",t._color==="warn"),w("id",t.id)("@panelAnimation",t.isOpen?"visible":"hidden"),L("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby(i))}}var Lx=Bt("panelAnimation",[ti("void, hidden",Ie({opacity:0,transform:"scaleY(0.8)"})),tt(":enter, hidden => visible",[md([et("0.03s linear",Ie({opacity:1})),et("0.12s cubic-bezier(0, 0, 0.2, 1)",Ie({transform:"scaleY(1)"}))])]),tt(":leave, visible => hidden",[et("0.075s linear",Ie({opacity:0}))])]),Vx=0,Yl=class{constructor(e,i){this.source=e,this.option=i}},$u=new K("mat-autocomplete-default-options",{providedIn:"root",factory:Bx});function Bx(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var WS=(()=>{let e=class e{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._changeDetectorRef.markForCheck()}set classList(t){this._classList=t,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}constructor(t,n,a,o){this._changeDetectorRef=t,this._elementRef=n,this._defaults=a,this._activeOptionChanges=Ee.EMPTY,this._animationDone=new R,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new R,this.opened=new R,this.closed=new R,this.optionActivated=new R,this.id=`mat-autocomplete-${Vx++}`,this.inertGroups=o?.SAFARI||!1,this.autoActiveFirstOption=!!a.autoActiveFirstOption,this.autoSelectActiveOption=!!a.autoSelectActiveOption,this.requireSelection=!!a.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new ha(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){let n=new Yl(this,t);this.optionSelected.emit(n)}_getPanelAriaLabelledby(t){if(this.ariaLabel)return null;let n=t?t+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:t}_skipPredicate(){return!1}};e.\u0275fac=function(n){return new(n||e)(u(de),u(O),u($u),u(Le))},e.\u0275cmp=P({type:e,selectors:[["mat-autocomplete"]],contentQueries:function(n,a,o){if(n&1&&(J(o,Dn,5),J(o,ga,5)),n&2){let s;E(s=M())&&(a.options=s),E(s=M())&&(a.optionGroups=s)}},viewQuery:function(n,a){if(n&1&&(X(lt,7),X(Fx,5)),n&2){let o;E(o=M())&&(a.template=o.first),E(o=M())&&(a.panel=o.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[x.None,"aria-label","ariaLabel"],ariaLabelledby:[x.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[x.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",N],autoSelectActiveOption:[x.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",N],requireSelection:[x.HasDecoratorInputTransform,"requireSelection","requireSelection",N],panelWidth:"panelWidth",disableRipple:[x.HasDecoratorInputTransform,"disableRipple","disableRipple",N],classList:[x.None,"class","classList"],hideSingleSelectionIndicator:[x.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",N]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[U([{provide:fa,useExisting:e}]),re,$],ngContentSelectors:Nx,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(n,a){n&1&&(me(),T(0,Px,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Lx]},changeDetection:0});let r=e;return r})();var zx={provide:Zt,useExisting:Gt(()=>qx),multi:!0};var Ku=new K("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let r=G(Re);return()=>r.scrollStrategies.reposition()}});function Hx(r){return()=>r.scrollStrategies.reposition()}var jx={provide:Ku,deps:[Re],useFactory:Hx},qx=(()=>{let e=class e{constructor(t,n,a,o,s,l,c,d,h,p,f){this._element=t,this._overlay=n,this._viewContainerRef=a,this._zone=o,this._changeDetectorRef=s,this._dir=c,this._formField=d,this._document=h,this._viewportRuler=p,this._defaults=f,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Ee.EMPTY,this._breakpointObserver=G(sd),this._handsetLandscapeSubscription=Ee.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Y,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new Y,this._injector=G(Me),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Xr(()=>{let m=this.autocomplete?this.autocomplete.options:null;return m?m.changes.pipe(ot(m),Qt(()=>Ce(...m.map(v=>v.onSelectionChange)))):this._initialized.pipe(Qt(()=>this.optionSelections))}),this._handlePanelKeydown=m=>{(m.keyCode===27&&!Te(m)||m.keyCode===38&&Te(m,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),m.stopPropagation(),m.preventDefault())},this._trackedModal=null,this._scrollStrategy=l}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();let t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Ui(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Ce(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Mt(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Mt(()=>this._overlayAttached)):bt()).pipe(er(t=>t instanceof ud?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Ce(xn(this._document,"click"),xn(this._document,"auxclick"),xn(this._document,"touchend")).pipe(Mt(t=>{let n=Zc(t),a=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&n!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!a||!a.contains(n))&&(!o||!o.contains(n))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(n)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){let n=t.keyCode,a=Te(t);if(n===27&&!a&&t.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&n===13&&this.panelOpen&&!a)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){let o=this.autocomplete._keyManager.activeItem,s=n===38||n===40;n===9||s&&!a&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):s&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(s||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let n=t.target,a=n.value;if(n.type==="number"&&(a=a==""?null:parseFloat(a)),this._previousValue!==a){if(this._previousValue=a,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(a),!a)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let o=this.autocomplete.options?.find(s=>s.selected);if(o){let s=this._getDisplayValue(o.value);a!==s&&o.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===t.target){let o=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(o)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(t=!1){this._formField&&this._formField.floatLabel==="auto"&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let t=new yn(a=>{vt(()=>{a.next()},{injector:this._injector})}),n=this.autocomplete.options.changes.pipe(Mc(()=>this._positionStrategy.reapplyLastPosition()),Ic(0));return Ce(t,n).pipe(Qt(()=>this._zone.run(()=>{let a=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),a!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),zi(1)).subscribe(a=>this._setValueAndClose(a))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(t){let n=this.autocomplete;return n&&n.displayWith?n.displayWith(t):t}_assignOptionValue(t){let n=this._getDisplayValue(t);t==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(n??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){let n=this.autocomplete,a=t?t.source:this._pendingAutoselectedOption;a?(this._clearPreviousSelectedOption(a),this._assignOptionValue(a.value),this._onChange(a.value),n._emitSelectEvent(a),this._element.nativeElement.focus()):n.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),n._animationDone?n._animationDone.pipe(zi(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,n){this.autocomplete?.options?.forEach(a=>{a!==t&&a.selected&&a.deselect(n)})}_openPanelInternal(t=this._element.nativeElement.value){if(this._attachOverlay(t),this._floatLabel(),this._trackedModal){let n=this.autocomplete.id;lr(this._trackedModal,"aria-owns",n)}}_attachOverlay(t){this.autocomplete;let n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new Go(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&n&&n.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(ld.HandsetLandscape).subscribe(o=>{o.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),n&&!n.hasAttached()&&(n.attach(this._portal),this._valueOnAttach=t,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let a=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&a!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new da({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){let n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],a=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:a},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:a}],s;this.position==="above"?s=o:this.position==="below"?s=n:s=[...n,...o],t.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let t=this.autocomplete;if(t.autoActiveFirstOption){let n=-1;for(let a=0;a<t.options.length;a++)if(!t.options.get(a).disabled){n=a;break}t._keyManager.setActiveItem(n)}else t._keyManager.setActiveItem(-1)}_canOpen(){let t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){let n=this.autocomplete,a=ba(t,n.options,n.optionGroups);if(t===0&&a===1)n._setScrollTop(0);else if(n.panel){let o=n.options.toArray()[t];if(o){let s=o._getHostElement(),l=_a(s.offsetTop,s.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(l)}}}_applyModalPanelOwnership(){let t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let n=this.autocomplete.id;this._trackedModal&&Ui(this._trackedModal,"aria-owns",n),lr(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){if(this._trackedModal){let t=this.autocomplete.id;Ui(this._trackedModal,"aria-owns",t),this._trackedModal=null}}};e.\u0275fac=function(n){return new(n||e)(u(O),u(Re),u(ct),u(te),u(de),u(Ku),u(De,8),u(It,9),u(Ze,8),u(kn),u($u,8))},e.\u0275dir=A({type:e,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(n,a){n&1&&S("focusin",function(){return a._handleFocus()})("blur",function(){return a._onTouched()})("input",function(s){return a._handleInput(s)})("keydown",function(s){return a._handleKeydown(s)})("click",function(){return a._handleClick()}),n&2&&L("autocomplete",a.autocompleteAttribute)("role",a.autocompleteDisabled?null:"combobox")("aria-autocomplete",a.autocompleteDisabled?null:"list")("aria-activedescendant",a.panelOpen&&a.activeOption?a.activeOption.id:null)("aria-expanded",a.autocompleteDisabled?null:a.panelOpen.toString())("aria-controls",a.autocompleteDisabled||!a.panelOpen||a.autocomplete==null?null:a.autocomplete.id)("aria-haspopup",a.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[x.None,"matAutocomplete","autocomplete"],position:[x.None,"matAutocompletePosition","position"],connectedTo:[x.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[x.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[x.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",N]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[U([zx]),re,ve]});let r=e;return r})(),YS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({providers:[jx],imports:[wi,In,se,dt,xi,In,se]});let r=e;return r})();var Yx=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Ux=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function $x(r,e){r&1&&(b(0,"span",3),H(1,1),_())}function Kx(r,e){r&1&&(b(0,"span",6),H(1,2),_())}var Qx='.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}',Gx=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Jx=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function Xx(r,e){r&1&&F(0,"span",0)}function Zx(r,e){r&1&&(b(0,"span",2),H(1),_())}function ew(r,e){r&1&&H(0,1)}function tw(r,e){r&1&&F(0,"span",7)}function iw(r,e){if(r&1&&T(0,ew,1,0)(1,tw,1,0),r&2){let i=C();W(0,i.contentEditInput?0:1)}}function nw(r,e){r&1&&H(0,2)}function rw(r,e){r&1&&(b(0,"span",5),H(1,3),_())}var Ju=["*"],aw=".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}",Xu=new K("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),Qu=new K("MatChipAvatar"),Gu=new K("MatChipTrailingIcon"),Kl=new K("MatChipRemove"),Jl=new K("MatChip"),xo=(()=>{let e=class e{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(t){this._disabled=t}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(t,n){this._elementRef=t,this._parentChip=n,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,t.nativeElement.nodeName==="BUTTON"&&t.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(t){!this.disabled&&this.isInteractive&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}};e.\u0275fac=function(n){return new(n||e)(u(O),u(Jl))},e.\u0275dir=A({type:e,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(n,a){n&1&&S("click",function(s){return a._handleClick(s)})("keydown",function(s){return a._handleKeydown(s)}),n&2&&(L("tabindex",a._getTabindex())("disabled",a._getDisabledAttribute())("aria-disabled",a.disabled),z("mdc-evolution-chip__action--primary",a._isPrimary)("mdc-evolution-chip__action--presentational",!a.isInteractive)("mdc-evolution-chip__action--trailing",!a._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[x.HasDecoratorInputTransform,"disabled","disabled",N],tabIndex:[x.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>t==null?-1:xt(t)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[re]});let r=e;return r})();var gE=(()=>{let e=class e extends xo{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(t){this.disabled||(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!this.disabled&&(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275dir=A({type:e,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(n,a){n&2&&L("aria-hidden",null)},standalone:!0,features:[U([{provide:Kl,useExisting:e}]),ie]});let r=e;return r})(),ow=0,Ql=(()=>{let e=class e{_hasFocus(){return this._hasFocusInternal}get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(t){this._value=t}get disabled(){return this._disabled||this._chipListDisabled}set disabled(t){this._disabled=t}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}constructor(t,n,a,o,s,l,c){this._changeDetectorRef=t,this._elementRef=n,this._ngZone=a,this._focusMonitor=o,this._globalRippleOptions=c,this._onFocus=new Y,this._onBlur=new Y,this.role=null,this._hasFocusInternal=!1,this.id=`mat-mdc-chip-${ow++}`,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._chipListDisabled=!1,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this._disabled=!1,this.removed=new R,this.destroyed=new R,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=G(va),this._injector=G(Me),this._document=s,this._animationsDisabled=l==="NoopAnimations",this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let t=this._elementRef.nativeElement;this._isBasicChip=t.hasAttribute(this.basicChipAttrName)||t.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Ce(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(t){(t.keyCode===8&&!t.repeat||t.keyCode===46)&&(t.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(t){return this._getActions().find(n=>{let a=n._elementRef.nativeElement;return a===t||a.contains(t)})}_getActions(){let t=[];return this.primaryAction&&t.push(this.primaryAction),this.removeIcon&&t.push(this.removeIcon),this.trailingIcon&&t.push(this.trailingIcon),t}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{let n=t!==null;n!==this._hasFocusInternal&&(this._hasFocusInternal=n,n?this._onFocus.next({chip:this}):vt(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}};e.\u0275fac=function(n){return new(n||e)(u(de),u(O),u(te),u($i),u(Ze),u(Pt,8),u(ua,8))},e.\u0275cmp=P({type:e,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(n,a,o){if(n&1&&(J(o,Qu,5),J(o,Gu,5),J(o,Kl,5),J(o,Qu,5),J(o,Gu,5),J(o,Kl,5)),n&2){let s;E(s=M())&&(a.leadingIcon=s.first),E(s=M())&&(a.trailingIcon=s.first),E(s=M())&&(a.removeIcon=s.first),E(s=M())&&(a._allLeadingIcons=s),E(s=M())&&(a._allTrailingIcons=s),E(s=M())&&(a._allRemoveIcons=s)}},viewQuery:function(n,a){if(n&1&&X(xo,5),n&2){let o;E(o=M())&&(a.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(n,a){n&1&&S("keydown",function(s){return a._handleKeydown(s)}),n&2&&(yt("id",a.id),L("role",a.role)("aria-label",a.ariaLabel),xe("mat-"+(a.color||"primary")),z("mdc-evolution-chip",!a._isBasicChip)("mdc-evolution-chip--disabled",a.disabled)("mdc-evolution-chip--with-trailing-action",a._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",a.leadingIcon)("mdc-evolution-chip--with-primary-icon",a.leadingIcon)("mdc-evolution-chip--with-avatar",a.leadingIcon)("mat-mdc-chip-with-avatar",a.leadingIcon)("mat-mdc-chip-highlighted",a.highlighted)("mat-mdc-chip-disabled",a.disabled)("mat-mdc-basic-chip",a._isBasicChip)("mat-mdc-standard-chip",!a._isBasicChip)("mat-mdc-chip-with-trailing-icon",a._hasTrailingIcon())("_mat-animation-noopable",a._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[x.None,"aria-label","ariaLabel"],ariaDescription:[x.None,"aria-description","ariaDescription"],value:"value",color:"color",removable:[x.HasDecoratorInputTransform,"removable","removable",N],highlighted:[x.HasDecoratorInputTransform,"highlighted","highlighted",N],disableRipple:[x.HasDecoratorInputTransform,"disableRipple","disableRipple",N],disabled:[x.HasDecoratorInputTransform,"disabled","disabled",N]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[U([{provide:Jl,useExisting:e}]),re,$],ngContentSelectors:Ux,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(n,a){n&1&&(me(Yx),F(0,"span",0),b(1,"span",1)(2,"span",2),T(3,$x,2,0,"span",3),b(4,"span",4),H(5),F(6,"span",5),_()()(),T(7,Kx,2,0,"span",6)),n&2&&(g(2),w("isInteractive",!1),g(),W(3,a.leadingIcon?3:-1),g(4),W(7,a._hasTrailingIcon()?7:-1))},dependencies:[xo],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let r=e;return r})();var $l=(()=>{let e=class e{constructor(t,n){this._elementRef=t,this._document=n}initialize(t){this.getNativeElement().focus(),this.setValue(t)}getNativeElement(){return this._elementRef.nativeElement}setValue(t){this.getNativeElement().textContent=t,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){let t=this._document.createRange();t.selectNodeContents(this.getNativeElement()),t.collapse(!1);let n=window.getSelection();n.removeAllRanges(),n.addRange(t)}};e.\u0275fac=function(n){return new(n||e)(u(O),u(Ze))},e.\u0275dir=A({type:e,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"],standalone:!0});let r=e;return r})(),sw=(()=>{let e=class e extends Ql{constructor(t,n,a,o,s,l,c,d){super(t,n,a,o,s,l,c),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new R,this._isEditing=!1,this.role="row",this._onBlur.pipe(ee(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(t){t.keyCode===13&&!this.disabled?this._isEditing?(t.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(t):this._isEditing?t.stopPropagation():super._handleKeydown(t)}_handleDoubleclick(t){!this.disabled&&this.editable&&this._startEditing(t)}_startEditing(t){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(t.target)===this.removeIcon)return;let n=this.value;this._isEditing=this._editStartPending=!0,vt(()=>{this._getEditInput().initialize(n),this._editStartPending=!1},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}};e.\u0275fac=function(n){return new(n||e)(u(de),u(O),u(te),u($i),u(Ze),u(Pt,8),u(ua,8),Tt("tabindex"))},e.\u0275cmp=P({type:e,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(n,a,o){if(n&1&&J(o,$l,5),n&2){let s;E(s=M())&&(a.contentEditInput=s.first)}},viewQuery:function(n,a){if(n&1&&X($l,5),n&2){let o;E(o=M())&&(a.defaultEditInput=o.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(n,a){n&1&&S("focus",function(s){return a._handleFocus(s)})("dblclick",function(s){return a._handleDoubleclick(s)}),n&2&&(yt("id",a.id),L("tabindex",a.disabled?null:-1)("aria-label",null)("aria-description",null)("role",a.role),z("mat-mdc-chip-with-avatar",a.leadingIcon)("mat-mdc-chip-disabled",a.disabled)("mat-mdc-chip-editing",a._isEditing)("mat-mdc-chip-editable",a.editable)("mdc-evolution-chip--disabled",a.disabled)("mdc-evolution-chip--with-trailing-action",a._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",a.leadingIcon)("mdc-evolution-chip--with-primary-icon",a.leadingIcon)("mdc-evolution-chip--with-avatar",a.leadingIcon)("mat-mdc-chip-highlighted",a.highlighted)("mat-mdc-chip-with-trailing-icon",a._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},standalone:!0,features:[U([{provide:Ql,useExisting:e},{provide:Jl,useExisting:e}]),ie,$],ngContentSelectors:Jx,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(n,a){n&1&&(me(Gx),T(0,Xx,1,0,"span",0),b(1,"span",1),T(2,Zx,2,0,"span",2),b(3,"span",3),T(4,iw,2,1)(5,nw,1,0),F(6,"span",4),_()(),T(7,rw,2,0,"span",5),b(8,"span",6),q(9),_()),n&2&&(W(0,a._isEditing?-1:0),g(),w("disabled",a.disabled),L("aria-label",a.ariaLabel)("aria-describedby",a._ariaDescriptionId),g(),W(2,a.leadingIcon?2:-1),g(2),W(4,a._isEditing?4:5),g(3),W(7,a._hasTrailingIcon()?7:-1),g(),w("id",a._ariaDescriptionId),g(),pe(a.ariaDescription))},dependencies:[xo,$l],styles:[Qx],encapsulation:2,changeDetection:0});let r=e;return r})(),lw=(()=>{let e=class e{get chipFocusChanges(){return this._getChipStream(t=>t._onFocus)}get chipDestroyedChanges(){return this._getChipStream(t=>t.destroyed)}get chipRemovedChanges(){return this._getChipStream(t=>t.removed)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._syncChipsState()}get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(t){this._explicitRole=t}get focused(){return this._hasFocusedChip()}constructor(t,n,a){this._elementRef=t,this._changeDetectorRef=n,this._dir=a,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new Y,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new Ac}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(t=>t._hasFocus())}_syncChipsState(){this._chips?.forEach(t=>{t._chipListDisabled=this._disabled,t._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(t){this._originatesFromChip(t)&&this._keyManager.onKeydown(t)}_isValidIndex(t){return t>=0&&t<this._chips.length}_allowFocusEscape(){let t=this._elementRef.nativeElement.tabIndex;t!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=t))}_getChipStream(t){return this._chips.changes.pipe(ot(null),Qt(()=>Ce(...this._chips.map(t))))}_originatesFromChip(t){let n=t.target;for(;n&&n!==this._elementRef.nativeElement;){if(n.classList.contains("mat-mdc-chip"))return!0;n=n.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(ot(this._chips)).subscribe(t=>{let n=[];t.forEach(a=>a._getActions().forEach(o=>n.push(o))),this._chipActions.reset(n),this._chipActions.notifyOnChanges()}),this._keyManager=new dd(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(t=>this._skipPredicate(t)),this.chipFocusChanges.pipe(ee(this._destroyed)).subscribe(({chip:t})=>{let n=t._getSourceAction(document.activeElement);n&&this._keyManager.updateActiveItem(n)}),this._dir?.change.pipe(ee(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t))}_skipPredicate(t){return!t.isInteractive||t.disabled}_trackChipSetChanges(){this._chips.changes.pipe(ot(null),ee(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(ee(this._destroyed)).subscribe(t=>{let a=this._chips.toArray().indexOf(t.chip);this._isValidIndex(a)&&t.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=a)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let t=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),n=this._chips.toArray()[t];n.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():n.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}};e.\u0275fac=function(n){return new(n||e)(u(O),u(de),u(De,8))},e.\u0275cmp=P({type:e,selectors:[["mat-chip-set"]],contentQueries:function(n,a,o){if(n&1&&J(o,Ql,5),n&2){let s;E(s=M())&&(a._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(n,a){n&1&&S("keydown",function(s){return a._handleKeydown(s)}),n&2&&L("role",a.role)},inputs:{disabled:[x.HasDecoratorInputTransform,"disabled","disabled",N],role:"role",tabIndex:[x.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>t==null?0:xt(t)]},standalone:!0,features:[re,$],ngContentSelectors:Ju,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(n,a){n&1&&(me(),b(0,"div",0),H(1),_())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0});let r=e;return r})();var Gl=class{constructor(e,i){this.source=e,this.value=i}},bE=(()=>{let e=class e extends lw{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=t,this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||this._chips.length===0)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(Pe.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(t){this._value=t}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get chipBlurChanges(){return this._getChipStream(t=>t._onBlur)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,a,o,s,l,c){super(t,n,a),this.ngControl=c,this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new R,this.valueChange=new R,this._chips=void 0,this.stateChanges=new Y,this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new Ci(l,c,s,o,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe(ee(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),Ce(this.chipFocusChanges,this._chips.changes).pipe(ee(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit(),this._chipInput}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(t){this._chipInput=t,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(t){!this.disabled&&!this._originatesFromChip(t)&&this.focus()}focus(){if(!(this.disabled||this._chipInput.focused)){if(!this._chips.length||this._chips.first.disabled)Promise.resolve().then(()=>this._chipInput.focus());else{let t=this._keyManager.activeItem;t?t.focus():this._keyManager.setFirstItemActive()}this.stateChanges.next()}}setDescribedByIds(t){this._ariaDescribedbyIds=t,this._chipInput?.setDescribedByIds(t)}writeValue(t){this._value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(t){let n=t.keyCode,a=this._keyManager.activeItem;if(n===9)this._chipInput.focused&&Te(t,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(t.preventDefault(),a?this._keyManager.setActiveItem(a):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput.focused)if((n===38||n===40)&&a){let o=this._chipActions.filter(c=>c._isPrimary===a._isPrimary&&!this._skipPredicate(c)),s=o.indexOf(a),l=t.keyCode===38?-1:1;t.preventDefault(),s>-1&&this._isValidIndex(s+l)&&this._keyManager.setActiveItem(o[s+l])}else super._handleKeydown(t);this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){let t=this._chips.length?this._chips.toArray().map(n=>n.value):[];this._value=t,this.change.emit(new Gl(this,t)),this.valueChange.emit(t),this._onChange(t),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}};e.\u0275fac=function(n){return new(n||e)(u(O),u(de),u(De,8),u(Lt,8),u(ht,8),u(wt),u(vi,10))},e.\u0275cmp=P({type:e,selectors:[["mat-chip-grid"]],contentQueries:function(n,a,o){if(n&1&&J(o,sw,5),n&2){let s;E(s=M())&&(a._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(n,a){n&1&&S("focus",function(){return a.focus()})("blur",function(){return a._blur()}),n&2&&(L("role",a.role)("tabindex",a.disabled||a._chips&&a._chips.length===0?-1:a.tabIndex)("aria-disabled",a.disabled.toString())("aria-invalid",a.errorState),z("mat-mdc-chip-list-disabled",a.disabled)("mat-mdc-chip-list-invalid",a.errorState)("mat-mdc-chip-list-required",a.required))},inputs:{disabled:[x.HasDecoratorInputTransform,"disabled","disabled",N],placeholder:"placeholder",required:[x.HasDecoratorInputTransform,"required","required",N],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},standalone:!0,features:[U([{provide:di,useExisting:e}]),re,ie,$],ngContentSelectors:Ju,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(n,a){n&1&&(me(),b(0,"div",0),H(1),_())},styles:[aw],encapsulation:2,changeDetection:0});let r=e;return r})(),cw=0,_E=(()=>{let e=class e{get chipGrid(){return this._chipGrid}set chipGrid(t){t&&(this._chipGrid=t,this._chipGrid.registerInput(this))}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(t){this._disabled=t}get empty(){return!this.inputElement.value}constructor(t,n,a){this._elementRef=t,this.focused=!1,this.addOnBlur=!1,this.chipEnd=new R,this.placeholder="",this.id=`mat-mdc-chip-list-input-${cw++}`,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=n.separatorKeyCodes,a&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(t){this.empty&&t.keyCode===8?(t.repeat||this._chipGrid._focusLastChip(),t.preventDefault()):this._emitChipEnd(t)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(t){(!t||this._isSeparatorKey(t)&&!t.repeat)&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),t?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}setDescribedByIds(t){let n=this._elementRef.nativeElement;t.length?n.setAttribute("aria-describedby",t.join(" ")):n.removeAttribute("aria-describedby")}_isSeparatorKey(t){return!Te(t)&&new Set(this.separatorKeyCodes).has(t.keyCode)}};e.\u0275fac=function(n){return new(n||e)(u(O),u(Xu),u(It,8))},e.\u0275dir=A({type:e,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(n,a){n&1&&S("keydown",function(s){return a._keydown(s)})("blur",function(){return a._blur()})("focus",function(){return a._focus()})("input",function(){return a._onInput()}),n&2&&(yt("id",a.id),L("disabled",a.disabled||null)("placeholder",a.placeholder||null)("aria-invalid",a._chipGrid&&a._chipGrid.ngControl?a._chipGrid.ngControl.invalid:null)("aria-required",a._chipGrid&&a._chipGrid.required||null)("required",a._chipGrid&&a._chipGrid.required||null))},inputs:{chipGrid:[x.None,"matChipInputFor","chipGrid"],addOnBlur:[x.HasDecoratorInputTransform,"matChipInputAddOnBlur","addOnBlur",N],separatorKeyCodes:[x.None,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[x.HasDecoratorInputTransform,"disabled","disabled",N]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],standalone:!0,features:[re,ve]});let r=e;return r})();var vE=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({providers:[wt,{provide:Xu,useValue:{separatorKeyCodes:[13]}}],imports:[se,ma,se]});let r=e;return r})();var dw=["mat-calendar-body",""];function hw(r,e){return this._trackRow(e)}var om=(r,e)=>e.id;function pw(r,e){if(r&1&&(b(0,"tr",0)(1,"td",3),q(2),_()()),r&2){let i=C();g(),Jt("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),L("colspan",i.numCols),g(),ke(" ",i.label," ")}}function uw(r,e){if(r&1&&(b(0,"td",3),q(1),_()),r&2){let i=C(2);Jt("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),L("colspan",i._firstRowOffset),g(),ke(" ",i._firstRowOffset>=i.labelMinRequiredCells?i.label:""," ")}}function mw(r,e){if(r&1){let i=fe();b(0,"td",6)(1,"button",7),S("click",function(n){let a=V(i).$implicit,o=C(2);return B(o._cellClicked(a,n))})("focus",function(n){let a=V(i).$implicit,o=C(2);return B(o._emitActiveDateChange(a,n))}),b(2,"span",8),q(3),_(),F(4,"span",9),_()()}if(r&2){let i=e.$implicit,t=e.$index,n=C().$index,a=C();Jt("width",a._cellWidth)("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),L("data-mat-row",n)("data-mat-col",t),g(),z("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",a._isActiveCell(n,t))("mat-calendar-body-range-start",a._isRangeStart(i.compareValue))("mat-calendar-body-range-end",a._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",a._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",a._isComparisonBridgeStart(i.compareValue,n,t))("mat-calendar-body-comparison-bridge-end",a._isComparisonBridgeEnd(i.compareValue,n,t))("mat-calendar-body-comparison-start",a._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",a._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",a._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",a._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",a._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",a._isInPreview(i.compareValue)),w("ngClass",i.cssClasses)("tabindex",a._isActiveCell(n,t)?0:-1),L("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-pressed",a._isSelected(i.compareValue))("aria-current",a.todayValue===i.compareValue?"date":null)("aria-describedby",a._getDescribedby(i.compareValue)),g(),z("mat-calendar-body-selected",a._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",a._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",a.todayValue===i.compareValue),g(),ke(" ",i.displayValue," ")}}function fw(r,e){if(r&1&&(b(0,"tr",1),T(1,uw,2,6,"td",4),Hi(2,mw,5,48,"td",5,om),_()),r&2){let i=e.$implicit,t=e.$index,n=C();g(),W(1,t===0&&n._firstRowOffset?1:-1),g(),ji(i)}}function gw(r,e){if(r&1&&(b(0,"th",2)(1,"span",6),q(2),_(),b(3,"span",3),q(4),_()()),r&2){let i=e.$implicit;g(2),pe(i.long),g(2),pe(i.narrow)}}var bw=["*"];function _w(r,e){}function vw(r,e){if(r&1){let i=fe();b(0,"mat-month-view",2),ia("activeDateChange",function(n){V(i);let a=C();return ta(a.activeDate,n)||(a.activeDate=n),B(n)}),S("_userSelection",function(n){V(i);let a=C();return B(a._dateSelected(n))})("dragStarted",function(n){V(i);let a=C();return B(a._dragStarted(n))})("dragEnded",function(n){V(i);let a=C();return B(a._dragEnded(n))}),_()}if(r&2){let i=C();ea("activeDate",i.activeDate),w("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName)("activeDrag",i._activeDrag)}}function yw(r,e){if(r&1){let i=fe();b(0,"mat-year-view",3),ia("activeDateChange",function(n){V(i);let a=C();return ta(a.activeDate,n)||(a.activeDate=n),B(n)}),S("monthSelected",function(n){V(i);let a=C();return B(a._monthSelectedInYearView(n))})("selectedChange",function(n){V(i);let a=C();return B(a._goToDateInView(n,"month"))}),_()}if(r&2){let i=C();ea("activeDate",i.activeDate),w("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function xw(r,e){if(r&1){let i=fe();b(0,"mat-multi-year-view",4),ia("activeDateChange",function(n){V(i);let a=C();return ta(a.activeDate,n)||(a.activeDate=n),B(n)}),S("yearSelected",function(n){V(i);let a=C();return B(a._yearSelectedInMultiYearView(n))})("selectedChange",function(n){V(i);let a=C();return B(a._goToDateInView(n,"year"))}),_()}if(r&2){let i=C();ea("activeDate",i.activeDate),w("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function ww(r,e){}var Cw=["button"],kw=[[["","matDatepickerToggleIcon",""]]],Dw=["[matDatepickerToggleIcon]"];function Iw(r,e){r&1&&(st(),b(0,"svg",2),F(1,"path",3),_())}var Sw=[[["input","matStartDate",""]],[["input","matEndDate",""]]],Ew=["input[matStartDate]","input[matEndDate]"];var Vr=(()=>{let e=class e{constructor(){this.changes=new Y,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,n){return`${t} \u2013 ${n}`}formatYearRangeLabel(t,n){return`${t} to ${n}`}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})(),Mw=0,Lr=class{constructor(e,i,t,n,a={},o=e,s){this.value=e,this.displayValue=i,this.ariaLabel=t,this.enabled=n,this.cssClasses=a,this.compareValue=o,this.rawValue=s,this.id=Mw++}},Tw=1,Zu=yi({passive:!1,capture:!0}),Ni=yi({passive:!0,capture:!0}),Co=yi({passive:!0}),Kn=(()=>{let e=class e{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(t,n){this._elementRef=t,this._ngZone=n,this._platform=G(Le),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new R,this.previewChange=new R,this.activeDateChange=new R,this.dragStarted=new R,this.dragEnded=new R,this._didDragSinceMouseDown=!1,this._injector=G(Me),this._trackRow=a=>a,this._enterHandler=a=>{if(this._skipNextFocus&&a.type==="focus"){this._skipNextFocus=!1;return}if(a.target&&this.isRange){let o=this._getCellFromElement(a.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:a}))}},this._touchmoveHandler=a=>{if(!this.isRange)return;let o=em(a),s=o?this._getCellFromElement(o):null;o!==a.target&&(this._didDragSinceMouseDown=!0),Zl(a.target)&&a.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s?.enabled?s:null,event:a}))},this._leaveHandler=a=>{this.previewEnd!==null&&this.isRange&&(a.type!=="blur"&&(this._didDragSinceMouseDown=!0),a.target&&this._getCellFromElement(a.target)&&!(a.relatedTarget&&this._getCellFromElement(a.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:a})))},this._mousedownHandler=a=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let o=a.target&&this._getCellFromElement(a.target);!o||!this._isInRange(o.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:a})})},this._mouseupHandler=a=>{if(!this.isRange)return;let o=Zl(a.target);if(!o){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:a})});return}o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let s=this._getCellFromElement(o);this.dragEnded.emit({value:s?.rawValue??null,event:a})})},this._touchendHandler=a=>{let o=em(a);o&&this._mouseupHandler({target:o})},this._id=`mat-calendar-body-${Tw++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,n.runOutsideAngular(()=>{let a=t.nativeElement;a.addEventListener("touchmove",this._touchmoveHandler,Zu),a.addEventListener("mouseenter",this._enterHandler,Ni),a.addEventListener("focus",this._enterHandler,Ni),a.addEventListener("mouseleave",this._leaveHandler,Ni),a.addEventListener("blur",this._leaveHandler,Ni),a.addEventListener("mousedown",this._mousedownHandler,Co),a.addEventListener("touchstart",this._mousedownHandler,Co),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(t,n){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:n})}_emitActiveDateChange(t,n){t.enabled&&this.activeDateChange.emit({value:t.value,event:n})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){let n=t.numCols,{rows:a,numCols:o}=this;(t.rows||n)&&(this._firstRowOffset=a&&a.length&&a[0].length?o-a[0].length:0),(t.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(n||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){let t=this._elementRef.nativeElement;t.removeEventListener("touchmove",this._touchmoveHandler,Zu),t.removeEventListener("mouseenter",this._enterHandler,Ni),t.removeEventListener("focus",this._enterHandler,Ni),t.removeEventListener("mouseleave",this._leaveHandler,Ni),t.removeEventListener("blur",this._leaveHandler,Ni),t.removeEventListener("mousedown",this._mousedownHandler,Co),t.removeEventListener("touchstart",this._mousedownHandler,Co),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,n){let a=t*this.numCols+n;return t&&(a-=this._firstRowOffset),a==this.activeCell}_focusActiveCell(t=!0){vt(()=>{setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(t||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return ec(t,this.startValue,this.endValue)}_isRangeEnd(t){return tc(t,this.startValue,this.endValue)}_isInRange(t){return ic(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return ec(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,n,a){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let o=this.rows[n][a-1];if(!o){let s=this.rows[n-1];o=s&&s[s.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(t,n,a){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let o=this.rows[n][a+1];if(!o){let s=this.rows[n+1];o=s&&s[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(t){return tc(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return ic(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return ec(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return tc(t,this.previewStart,this.previewEnd)}_isInPreview(t){return ic(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){let n=Zl(t);if(n){let a=n.getAttribute("data-mat-row"),o=n.getAttribute("data-mat-col");if(a&&o)return this.rows[parseInt(a)][parseInt(o)]}return null}};e.\u0275fac=function(n){return new(n||e)(u(O),u(te))},e.\u0275cmp=P({type:e,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[ve,$],attrs:dw,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,a){n&1&&(T(0,pw,3,6,"tr",0),Hi(1,fw,4,1,"tr",1,hw,!0),b(3,"span",2),q(4),_(),b(5,"span",2),q(6),_()),n&2&&(W(0,a._firstRowOffset<a.labelMinRequiredCells?0:-1),g(),ji(a.rows),g(2),w("id",a._startDateLabelId),g(),ke(" ",a.startDateAccessibleName,`
`),g(),w("id",a._endDateLabelId),g(),ke(" ",a.endDateAccessibleName,`
`))},dependencies:[At],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0});let r=e;return r})();function Xl(r){return r?.nodeName==="TD"}function Zl(r){let e;return Xl(r)?e=r:Xl(r.parentNode)?e=r.parentNode:Xl(r.parentNode?.parentNode)&&(e=r.parentNode.parentNode),e?.getAttribute("data-mat-row")!=null?e:null}function ec(r,e,i){return i!==null&&e!==i&&r<i&&r===e}function tc(r,e,i){return e!==null&&e!==i&&r>=e&&r===i}function ic(r,e,i,t){return t&&e!==null&&i!==null&&e!==i&&r>=e&&r<=i}function em(r){let e=r.changedTouches[0];return document.elementFromPoint(e.clientX,e.clientY)}var Ae=class{constructor(e,i){this.start=e,this.end=i}},Pi=(()=>{let e=class e{constructor(t,n){this.selection=t,this._adapter=n,this._selectionChanged=new Y,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,n){let a=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:n,oldValue:a})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}};e.\u0275fac=function(n){Zr()},e.\u0275prov=ye({token:e,factory:e.\u0275fac});let r=e;return r})(),Aw=(()=>{let e=class e extends Pi{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let t=new e(this._adapter);return t.updateSelection(this.selection,this),t}};e.\u0275fac=function(n){return new(n||e)(_t(we))},e.\u0275prov=ye({token:e,factory:e.\u0275fac});let r=e;return r})(),Rw=(()=>{let e=class e extends Pi{constructor(t){super(new Ae(null,null),t)}add(t){let{start:n,end:a}=this.selection;n==null?n=t:a==null?a=t:(n=t,a=null),super.updateSelection(new Ae(n,a),this)}isValid(){let{start:t,end:n}=this.selection;return t==null&&n==null?!0:t!=null&&n!=null?this._isValidDateInstance(t)&&this._isValidDateInstance(n)&&this._adapter.compareDate(t,n)<=0:(t==null||this._isValidDateInstance(t))&&(n==null||this._isValidDateInstance(n))}isComplete(){return this.selection.start!=null&&this.selection.end!=null}clone(){let t=new e(this._adapter);return t.updateSelection(this.selection,this),t}};e.\u0275fac=function(n){return new(n||e)(_t(we))},e.\u0275prov=ye({token:e,factory:e.\u0275fac});let r=e;return r})();function Ow(r,e){return r||new Aw(e)}var sm={provide:Pi,deps:[[new tr,new ir,Pi],we],useFactory:Ow};function Fw(r,e){return r||new Rw(e)}var Nw={provide:Pi,deps:[[new tr,new ir,Pi],we],useFactory:Fw},ko=new K("MAT_DATE_RANGE_SELECTION_STRATEGY"),Pw=(()=>{let e=class e{constructor(t){this._dateAdapter=t}selectionFinished(t,n){let{start:a,end:o}=n;return a==null?a=t:o==null&&t&&this._dateAdapter.compareDate(t,a)>=0?o=t:(a=t,o=null),new Ae(a,o)}createPreview(t,n){let a=null,o=null;return n.start&&!n.end&&t&&(a=n.start,o=t),new Ae(a,o)}createDrag(t,n,a){let o=n.start,s=n.end;if(!o||!s)return null;let l=this._dateAdapter,c=l.compareDate(o,s)!==0,d=l.getYear(a)-l.getYear(t),h=l.getMonth(a)-l.getMonth(t),p=l.getDate(a)-l.getDate(t);return c&&l.sameDate(t,n.start)?(o=a,l.compareDate(a,s)>0&&(s=l.addCalendarYears(s,d),s=l.addCalendarMonths(s,h),s=l.addCalendarDays(s,p))):c&&l.sameDate(t,n.end)?(s=a,l.compareDate(a,o)<0&&(o=l.addCalendarYears(o,d),o=l.addCalendarMonths(o,h),o=l.addCalendarDays(o,p))):(o=l.addCalendarYears(o,d),o=l.addCalendarMonths(o,h),o=l.addCalendarDays(o,p),s=l.addCalendarYears(s,d),s=l.addCalendarMonths(s,h),s=l.addCalendarDays(s,p)),new Ae(o,s)}};e.\u0275fac=function(n){return new(n||e)(_t(we))},e.\u0275prov=ye({token:e,factory:e.\u0275fac});let r=e;return r})();function Lw(r,e){return r||new Pw(e)}var Vw={provide:ko,deps:[[new tr,new ir,ko],we],useFactory:Lw},nc=7,Bw=0,tm=(()=>{let e=class e{get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){t instanceof Ae?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,n,a,o,s){this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=a,this._dir=o,this._rangeStrategy=s,this._rerenderSubscription=Ee.EMPTY,this.activeDrag=null,this.selectedChange=new R,this._userSelection=new R,this.dragStarted=new R,this.dragEnded=new R,this.activeDateChange=new R,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ot(null)).subscribe(()=>this._init())}ngOnChanges(t){let n=t.comparisonStart||t.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){let n=t.value,a=this._getDateFromDayOfMonth(n),o,s;this._selected instanceof Ae?(o=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):o=s=this._getDateInCurrentMonth(this._selected),(o!==n||s!==n)&&this.selectedChange.emit(a),this._userSelection.emit({value:a,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){let n=t.value,a=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(n),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){let n=this._activeDate,a=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&t.preventDefault();return;case 27:this._previewEnd!=null&&!Te(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation());return;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(nc+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%nc,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:n}){if(this._rangeStrategy){let a=n?n.rawValue:null,o=this._rangeStrategy.createPreview(a,this.selected,t);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&a){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,a,t);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){let n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:n??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){let t=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((s,l)=>({long:s,narrow:n[l],id:Bw++}));this._weekdays=o.slice(t).concat(o.slice(0,t))}_createWeekCells(){let t=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let a=0,o=this._firstWeekOffset;a<t;a++,o++){o==nc&&(this._weeks.push([]),o=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),a+1),l=this._shouldEnableDate(s),c=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),d=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new Lr(a+1,n[a],c,l,d,this._getCellCompareValue(s),s))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,n){return!!(t&&n&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(n)&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n))}_getCellCompareValue(t){if(t){let n=this._dateAdapter.getYear(t),a=this._dateAdapter.getMonth(t),o=this._dateAdapter.getDate(t);return new Date(n,a,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(t){t instanceof Ae?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}};e.\u0275fac=function(n){return new(n||e)(u(de),u(Vt,8),u(we,8),u(De,8),u(ko,8))},e.\u0275cmp=P({type:e,selectors:[["mat-month-view"]],viewQuery:function(n,a){if(n&1&&X(Kn,5),n&2){let o;E(o=M())&&(a._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[ve,$],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,a){n&1&&(b(0,"table",0)(1,"thead",1)(2,"tr"),Hi(3,gw,5,2,"th",2,om),_(),b(5,"tr",3),F(6,"th",4),_()(),b(7,"tbody",5),S("selectedValueChange",function(s){return a._dateSelected(s)})("activeDateChange",function(s){return a._updateActiveDate(s)})("previewChange",function(s){return a._previewChanged(s)})("dragStarted",function(s){return a.dragStarted.emit(s)})("dragEnded",function(s){return a._dragEnded(s)})("keyup",function(s){return a._handleCalendarBodyKeyup(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),_()()),n&2&&(g(3),ji(a._weekdays),g(4),w("label",a._monthLabel)("rows",a._weeks)("todayValue",a._todayDate)("startValue",a._rangeStart)("endValue",a._rangeEnd)("comparisonStart",a._comparisonRangeStart)("comparisonEnd",a._comparisonRangeEnd)("previewStart",a._previewStart)("previewEnd",a._previewEnd)("isRange",a._isRange)("labelMinRequiredCells",3)("activeCell",a._dateAdapter.getDate(a.activeDate)-1)("startDateAccessibleName",a.startDateAccessibleName)("endDateAccessibleName",a.endDateAccessibleName))},dependencies:[Kn],encapsulation:2,changeDetection:0});let r=e;return r})(),ft=24,rc=4,im=(()=>{let e=class e{get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),lm(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){t instanceof Ae?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,n,a){this._changeDetectorRef=t,this._dateAdapter=n,this._dir=a,this._rerenderSubscription=Ee.EMPTY,this.selectedChange=new R,this.yearSelected=new R,this.activeDateChange=new R,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ot(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let n=this._dateAdapter.getYear(this._activeDate)-Pr(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let a=0,o=[];a<ft;a++)o.push(n+a),o.length==rc&&(this._years.push(o.map(s=>this._createCellForYear(s))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){let n=t.value,a=this._dateAdapter.createDate(n,0,1),o=this._getDateFromYear(n);this.yearSelected.emit(a),this.selectedChange.emit(o)}_updateActiveDate(t){let n=t.value,a=this._activeDate;this.activeDate=this._getDateFromYear(n),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){let n=this._activeDate,a=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-rc);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,rc);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Pr(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ft-Pr(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-ft*10:-ft);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?ft*10:ft);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Pr(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){let n=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,n,1));return this._dateAdapter.createDate(t,n,Math.min(this._dateAdapter.getDate(this.activeDate),a))}_createCellForYear(t){let n=this._dateAdapter.createDate(t,0,1),a=this._dateAdapter.getYearName(n),o=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new Lr(t,a,a,this._shouldEnableYear(t),o)}_shouldEnableYear(t){if(t==null||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(t,0,1);for(let a=n;this._dateAdapter.getYear(a)==t;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(t){if(this._selectedYear=null,t instanceof Ae){let n=t.start||t.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}};e.\u0275fac=function(n){return new(n||e)(u(de),u(we,8),u(De,8))},e.\u0275cmp=P({type:e,selectors:[["mat-multi-year-view"]],viewQuery:function(n,a){if(n&1&&X(Kn,5),n&2){let o;E(o=M())&&(a._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[$],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,a){n&1&&(b(0,"table",0)(1,"thead",1)(2,"tr"),F(3,"th",2),_()(),b(4,"tbody",3),S("selectedValueChange",function(s){return a._yearSelected(s)})("activeDateChange",function(s){return a._updateActiveDate(s)})("keyup",function(s){return a._handleCalendarBodyKeyup(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),_()()),n&2&&(g(4),w("rows",a._years)("todayValue",a._todayYear)("startValue",a._selectedYear)("endValue",a._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._getActiveCell()))},dependencies:[Kn],encapsulation:2,changeDetection:0});let r=e;return r})();function lm(r,e,i,t,n){let a=r.getYear(e),o=r.getYear(i),s=cm(r,t,n);return Math.floor((a-s)/ft)===Math.floor((o-s)/ft)}function Pr(r,e,i,t){let n=r.getYear(e);return zw(n-cm(r,i,t),ft)}function cm(r,e,i){let t=0;return i?t=r.getYear(i)-ft+1:e&&(t=r.getYear(e)),t}function zw(r,e){return(r%e+e)%e}var nm=(()=>{let e=class e{get activeDate(){return this._activeDate}set activeDate(t){let n=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){t instanceof Ae?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,n,a,o){this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=a,this._dir=o,this._rerenderSubscription=Ee.EMPTY,this.selectedChange=new R,this.monthSelected=new R,this.activeDateChange=new R,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ot(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){let n=t.value,a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(a);let o=this._getDateFromMonth(n);this.selectedChange.emit(o)}_updateActiveDate(t){let n=t.value,a=this._activeDate;this.activeDate=this._getDateFromMonth(n),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){let n=this._activeDate,a=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(a=>this._createCellForMonth(a,t[a]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),a=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),a))}_createCellForMonth(t,n){let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),o=this._dateAdapter.format(a,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(a,"year"):void 0;return new Lr(t,n.toLocaleUpperCase(),o,this._shouldEnableMonth(t),s)}_shouldEnableMonth(t){let n=this._dateAdapter.getYear(this.activeDate);if(t==null||this._isYearAndMonthAfterMaxDate(n,t)||this._isYearAndMonthBeforeMinDate(n,t))return!1;if(!this.dateFilter)return!0;let a=this._dateAdapter.createDate(n,t,1);for(let o=a;this._dateAdapter.getMonth(o)==t;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(t,n){if(this.maxDate){let a=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return t>a||t===a&&n>o}return!1}_isYearAndMonthBeforeMinDate(t,n){if(this.minDate){let a=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return t<a||t===a&&n<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(t){t instanceof Ae?this._selectedMonth=this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._selectedMonth=this._getMonthInCurrentYear(t)}};e.\u0275fac=function(n){return new(n||e)(u(de),u(Vt,8),u(we,8),u(De,8))},e.\u0275cmp=P({type:e,selectors:[["mat-year-view"]],viewQuery:function(n,a){if(n&1&&X(Kn,5),n&2){let o;E(o=M())&&(a._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[$],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,a){n&1&&(b(0,"table",0)(1,"thead",1)(2,"tr"),F(3,"th",2),_()(),b(4,"tbody",3),S("selectedValueChange",function(s){return a._monthSelected(s)})("activeDateChange",function(s){return a._updateActiveDate(s)})("keyup",function(s){return a._handleCalendarBodyKeyup(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),_()()),n&2&&(g(4),w("label",a._yearLabel)("rows",a._months)("todayValue",a._todayMonth)("startValue",a._selectedMonth)("endValue",a._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._dateAdapter.getMonth(a.activeDate)))},dependencies:[Kn],encapsulation:2,changeDetection:0});let r=e;return r})(),Hw=1,dm=(()=>{let e=class e{constructor(t,n,a,o,s){this._intl=t,this.calendar=n,this._dateAdapter=a,this._dateFormats=o,this._id=`mat-calendar-header-${Hw++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-ft)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:ft)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,n){return this.calendar.currentView=="month"?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(n):this.calendar.currentView=="year"?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(n):lm(this._dateAdapter,t,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let n=this._dateAdapter.getYear(this.calendar.activeDate)-Pr(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),a=n+ft-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1));return[o,s]}};e.\u0275fac=function(n){return new(n||e)(u(Vr),u(Gt(()=>ac)),u(we,8),u(Vt,8),u(de))},e.\u0275cmp=P({type:e,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[$],ngContentSelectors:bw,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(n,a){n&1&&(me(),b(0,"div",0)(1,"div",1)(2,"span",2),q(3),_(),b(4,"button",3),S("click",function(){return a.currentPeriodClicked()}),b(5,"span",4),q(6),_(),st(),b(7,"svg",5),F(8,"polygon",6),_()(),nr(),F(9,"div",7),H(10),b(11,"button",8),S("click",function(){return a.previousClicked()}),st(),b(12,"svg",9),F(13,"path",10),_()(),nr(),b(14,"button",11),S("click",function(){return a.nextClicked()}),st(),b(15,"svg",9),F(16,"path",12),_()()()()),n&2&&(g(2),w("id",a._periodButtonLabelId),g(),pe(a.periodButtonDescription),g(),L("aria-label",a.periodButtonLabel)("aria-describedby",a._periodButtonLabelId),g(2),pe(a.periodButtonText),g(),z("mat-calendar-invert",a.calendar.currentView!=="month"),g(4),w("disabled",!a.previousEnabled()),L("aria-label",a.prevButtonLabel),g(3),w("disabled",!a.nextEnabled()),L("aria-label",a.nextButtonLabel))},dependencies:[Al,Fr],encapsulation:2,changeDetection:0});let r=e;return r})(),ac=(()=>{let e=class e{get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){t instanceof Ae?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){let n=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}constructor(t,n,a,o){this._dateAdapter=n,this._dateFormats=a,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new R,this.yearSelected=new R,this.monthSelected=new R,this.viewChanged=new R(!0),this._userSelection=new R,this._userDragDrop=new R,this._activeDrag=null,this.stateChanges=new Y,this._intlChanges=t.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new sr(this.headerComponent||dm),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){let n=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,a=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,o=n||a||t.dateFilter;if(o&&!o.firstChange){let s=this._getCurrentViewComponent();s&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){let n=t.value;(this.selected instanceof Ae||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,n){this.activeDate=t,this.currentView=n}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}};e.\u0275fac=function(n){return new(n||e)(u(Vr),u(we,8),u(Vt,8),u(de))},e.\u0275cmp=P({type:e,selectors:[["mat-calendar"]],viewQuery:function(n,a){if(n&1&&(X(tm,5),X(nm,5),X(im,5)),n&2){let o;E(o=M())&&(a.monthView=o.first),E(o=M())&&(a.yearView=o.first),E(o=M())&&(a.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[U([sm]),ve,$],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,a){if(n&1&&(T(0,_w,0,0,"ng-template",0),b(1,"div",1),T(2,vw,1,11)(3,yw,1,6)(4,xw,1,6),_()),n&2){let o;w("cdkPortalOutlet",a._calendarHeaderPortal),g(2),W(2,(o=a.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1)}},dependencies:[Jo,es,tm,nm,im],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let r=e;return r})(),rm={transformPanel:Bt("transformPanel",[tt("void => enter-dropdown",et("120ms cubic-bezier(0, 0, 0.2, 1)",ts([Ie({opacity:0,transform:"scale(1, 0.8)"}),Ie({opacity:1,transform:"scale(1, 1)"})]))),tt("void => enter-dialog",et("150ms cubic-bezier(0, 0, 0.2, 1)",ts([Ie({opacity:0,transform:"scale(0.7)"}),Ie({transform:"none",opacity:1})]))),tt("* => void",et("100ms linear",Ie({opacity:0})))]),fadeInCalendar:Bt("fadeInCalendar",[ti("void",Ie({opacity:0})),ti("enter",Ie({opacity:1})),tt("void => *",et("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},jw=0,hm=new K("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let r=G(Re);return()=>r.scrollStrategies.reposition()}});function qw(r){return()=>r.scrollStrategies.reposition()}var Ww={provide:hm,deps:[Re],useFactory:qw},pm=(()=>{let e=class e{constructor(t,n,a,o,s,l){this._elementRef=t,this._changeDetectorRef=n,this._globalModel=a,this._dateAdapter=o,this._rangeSelectionStrategy=s,this._subscriptions=new Ee,this._animationDone=new Y,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=l.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){let n=this._model.selection,a=t.value,o=n instanceof Ae;if(o&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(a,n,t.event);this._model.updateSelection(s,this)}else a&&(o||!this._dateAdapter.sameDate(a,n))&&this._model.add(a);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating=t.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,n){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,n&&this._changeDetectorRef.detectChanges()}};e.\u0275fac=function(n){return new(n||e)(u(O),u(de),u(Pi),u(we),u(ko,8),u(Vr))},e.\u0275cmp=P({type:e,selectors:[["mat-datepicker-content"]],viewQuery:function(n,a){if(n&1&&X(ac,5),n&2){let o;E(o=M())&&(a._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(n,a){n&1&&Vc("@transformPanel.start",function(s){return a._handleAnimationEvent(s)})("@transformPanel.done",function(s){return a._handleAnimationEvent(s)}),n&2&&(Lc("@transformPanel",a._animationState),xe(a.color?"mat-"+a.color:""),z("mat-datepicker-content-touch",a.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[$],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,a){if(n&1&&(b(0,"div",0)(1,"mat-calendar",1),S("yearSelected",function(s){return a.datepicker._selectYear(s)})("monthSelected",function(s){return a.datepicker._selectMonth(s)})("viewChanged",function(s){return a.datepicker._viewChanged(s)})("_userSelection",function(s){return a._handleUserSelection(s)})("_userDragDrop",function(s){return a._handleUserDragDrop(s)}),_(),T(2,ww,0,0,"ng-template",2),b(3,"button",3),S("focus",function(){return a._closeButtonFocused=!0})("blur",function(){return a._closeButtonFocused=!1})("click",function(){return a.datepicker.close()}),q(4),_()()),n&2){let o;z("mat-datepicker-content-container-with-custom-header",a.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",a._actionsPortal),L("aria-modal",!0)("aria-labelledby",(o=a._dialogLabelId)!==null&&o!==void 0?o:void 0),g(),xe(a.datepicker.panelClass),w("id",a.datepicker.id)("startAt",a.datepicker.startAt)("startView",a.datepicker.startView)("minDate",a.datepicker._getMinDate())("maxDate",a.datepicker._getMaxDate())("dateFilter",a.datepicker._getDateFilter())("headerComponent",a.datepicker.calendarHeaderComponent)("selected",a._getSelected())("dateClass",a.datepicker.dateClass)("comparisonStart",a.comparisonStart)("comparisonEnd",a.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",a.startDateAccessibleName)("endDateAccessibleName",a.endDateAccessibleName),g(),w("cdkPortalOutlet",a._actionsPortal),g(),z("cdk-visually-hidden",!a._closeButtonFocused),w("color",a.color||"primary"),g(),pe(a._closeButtonText)}},dependencies:[hd,ac,Jo,Al],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[rm.transformPanel,rm.fadeInCalendar]},changeDetection:0});let r=e;return r})(),Do=(()=>{let e=class e{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=Jc(t)}get opened(){return this._opened}set opened(t){t?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(t,n,a,o,s,l,c){this._overlay=t,this._viewContainerRef=a,this._dateAdapter=s,this._dir=l,this._model=c,this._inputStateChanges=Ee.EMPTY,this._document=G(Ze),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new R,this.monthSelected=new R,this.viewChanged=new R(!0),this.openedStream=new R,this.closedStream=new R,this._opened=!1,this.id=`mat-datepicker-${jw++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Y,this._injector=G(Me),this._changeDetectorRef=G(de),this._dateAdapter,this._scrollStrategy=o,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(t){let n=t.xPosition||t.yPosition;if(n&&!n.firstChange&&this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;a instanceof ad&&(this._setConnectedPositions(a),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal,this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Xc(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let t=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:a,location:o}=this._componentRef;a._startExitAnimation(),a._animationDone.pipe(zi(1)).subscribe(()=>{let s=this._document.activeElement;t&&(!s||s===this._document.activeElement||o.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let t=this.touchUi,n=new sr(pm,this._viewContainerRef),a=this._overlayRef=this._overlay.create(new da({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${t?"dialog":"popup"}`}));this._getCloseStream(a).subscribe(o=>{o&&o.preventDefault(),this.close()}),a.keydownEvents().subscribe(o=>{let s=o.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&o.preventDefault()}),this._componentRef=a.attach(n),this._forwardContentValues(this._componentRef.instance),t||vt(()=>{a.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){let n=this.xPosition==="end"?"end":"start",a=n==="start"?"end":"start",o=this.yPosition==="above"?"bottom":"top",s=o==="top"?"bottom":"top";return t.withPositions([{originX:n,originY:s,overlayX:n,overlayY:o},{originX:n,originY:o,overlayX:n,overlayY:s},{originX:a,originY:s,overlayX:a,overlayY:o},{originX:a,originY:o,overlayX:a,overlayY:s}])}_getCloseStream(t){let n=["ctrlKey","shiftKey","metaKey"];return Ce(t.backdropClick(),t.detachments(),t.keydownEvents().pipe(Mt(a=>a.keyCode===27&&!Te(a)||this.datepickerInput&&Te(a,"altKey")&&a.keyCode===38&&n.every(o=>!Te(a,o)))))}};e.\u0275fac=function(n){return new(n||e)(u(Re),u(te),u(ct),u(hm),u(we,8),u(De,8),u(Pi))},e.\u0275dir=A({type:e,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[x.HasDecoratorInputTransform,"touchUi","touchUi",N],disabled:[x.HasDecoratorInputTransform,"disabled","disabled",N],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[x.HasDecoratorInputTransform,"restoreFocus","restoreFocus",N],dateClass:"dateClass",panelClass:"panelClass",opened:[x.HasDecoratorInputTransform,"opened","opened",N]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[re,ve]});let r=e;return r})(),XE=(()=>{let e=class e extends Do{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275cmp=P({type:e,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[U([sm,{provide:Do,useExisting:e}]),ie,$],decls:0,vars:0,template:function(n,a){},encapsulation:2,changeDetection:0});let r=e;return r})(),$n=class{constructor(e,i){this.target=e,this.targetElement=i,this.value=this.target.value}},um=(()=>{let e=class e{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){let n=t,a=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&a.blur&&a.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){let a=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(a),this._cvaOnChange(a),this._onTouched(),this._formatValue(a),this.dateInput.emit(new $n(this,this._elementRef.nativeElement)),this.dateChange.emit(new $n(this,this._elementRef.nativeElement))}})}constructor(t,n,a){this._elementRef=t,this._dateAdapter=n,this._dateFormats=a,this.dateChange=new R,this.dateInput=new R,this.stateChanges=new Y,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ee.EMPTY,this._localeSubscription=Ee.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!s||this._matchesFilter(s)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),l=this._getMinDate();return!l||!s||this._dateAdapter.compareDate(l,s)<=0?null:{matDatepickerMin:{min:l,actual:s}}},this._maxValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),l=this._getMaxDate();return!l||!s||this._dateAdapter.compareDate(l,s)>=0?null:{matDatepickerMax:{max:l,actual:s}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){mm(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){let n=["ctrlKey","shiftKey","metaKey"];Te(t,"altKey")&&t.keyCode===40&&n.every(o=>!Te(t,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){let n=this._lastValueValid,a=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(a),a=this._dateAdapter.getValidDateOrNull(a);let o=!this._dateAdapter.sameDate(a,this.value);!a||o?this._cvaOnChange(a):(t&&!this.value&&this._cvaOnChange(a),n!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(a),this.dateInput.emit(new $n(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new $n(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t!=null?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){let n=this._getDateFilter();return!n||n(t)}};e.\u0275fac=function(n){return new(n||e)(u(O),u(we,8),u(Vt,8))},e.\u0275dir=A({type:e,inputs:{value:"value",disabled:[x.HasDecoratorInputTransform,"disabled","disabled",N]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[re,ve]});let r=e;return r})();function mm(r,e){let i=Object.keys(r);for(let t of i){let{previousValue:n,currentValue:a}=r[t];if(e.isDateInstance(n)&&e.isDateInstance(a)){if(!e.sameDate(n,a))return!0}else return!0}return!1}var Yw={provide:Zt,useExisting:Gt(()=>fm),multi:!0},Uw={provide:oa,useExisting:Gt(()=>fm),multi:!0},fm=(()=>{let e=class e extends um{set matDatepicker(t){t&&(this._datepicker=t,this._ariaOwns.set(t.opened?t.id:null),this._closedSubscription=t.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=t.openedStream.subscribe(()=>{this._ariaOwns.set(t.id)}),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}get max(){return this._max}set max(t){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){let n=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}constructor(t,n,a,o){super(t,n,a),this._formField=o,this._closedSubscription=Ee.EMPTY,this._openedSubscription=Ee.EMPTY,this._ariaOwns=Bo(null),this._validator=Pe.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}};e.\u0275fac=function(n){return new(n||e)(u(O),u(we,8),u(Vt,8),u(It,8))},e.\u0275dir=A({type:e,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,a){n&1&&S("input",function(s){return a._onInput(s.target.value)})("change",function(){return a._onChange()})("blur",function(){return a._onBlur()})("keydown",function(s){return a._onKeydown(s)}),n&2&&(yt("disabled",a.disabled),L("aria-haspopup",a._datepicker?"dialog":null)("aria-owns",a._ariaOwns())("min",a.min?a._dateAdapter.toIso8601(a.min):null)("max",a.max?a._dateAdapter.toIso8601(a.max):null)("data-mat-calendar",a._datepicker?a._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[x.None,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[U([Yw,Uw,{provide:Ol,useExisting:e}]),ie]});let r=e;return r})(),$w=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=A({type:e,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0});let r=e;return r})(),Kw=(()=>{let e=class e{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=t}constructor(t,n,a){this._intl=t,this._changeDetectorRef=n,this._stateChanges=Ee.EMPTY;let o=Number(a);this.tabIndex=o||o===0?o:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){let t=this.datepicker?this.datepicker.stateChanges:bt(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:bt(),a=this.datepicker?Ce(this.datepicker.openedStream,this.datepicker.closedStream):bt();this._stateChanges.unsubscribe(),this._stateChanges=Ce(this._intl.changes,t,n,a).subscribe(()=>this._changeDetectorRef.markForCheck())}};e.\u0275fac=function(n){return new(n||e)(u(Vr),u(de),Tt("tabindex"))},e.\u0275cmp=P({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,a,o){if(n&1&&J(o,$w,5),n&2){let s;E(s=M())&&(a._customIcon=s.first)}},viewQuery:function(n,a){if(n&1&&X(Cw,5),n&2){let o;E(o=M())&&(a._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,a){n&1&&S("click",function(s){return a._open(s)}),n&2&&(L("tabindex",null)("data-mat-calendar",a.datepicker?a.datepicker.id:null),z("mat-datepicker-toggle-active",a.datepicker&&a.datepicker.opened)("mat-accent",a.datepicker&&a.datepicker.color==="accent")("mat-warn",a.datepicker&&a.datepicker.color==="warn"))},inputs:{datepicker:[x.None,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[x.None,"aria-label","ariaLabel"],disabled:[x.HasDecoratorInputTransform,"disabled","disabled",N],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[re,ve,$],ngContentSelectors:Dw,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,a){n&1&&(me(kw),b(0,"button",1,0),T(2,Iw,2,0,":svg:svg",2),H(3),_()),n&2&&(w("disabled",a.disabled)("disableRipple",a.disableRipple),L("aria-haspopup",a.datepicker?"dialog":null)("aria-label",a.ariaLabel||a._intl.openCalendarLabel)("tabindex",a.disabled?-1:a.tabIndex),g(2),W(2,a._customIcon?-1:2))},dependencies:[Fr],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0});let r=e;return r})();function Qw(r){return oc(r,!0)}function am(r){return r.nodeType===Node.ELEMENT_NODE}function Gw(r){return r.nodeName==="INPUT"}function Jw(r){return r.nodeName==="TEXTAREA"}function oc(r,e){if(am(r)&&e){let t=(r.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((n,a)=>{let o=document.getElementById(a);return o&&n.push(o),n},[]);if(t.length)return t.map(n=>oc(n,!1)).join(" ")}if(am(r)){let i=r.getAttribute("aria-label")?.trim();if(i)return i}if(Gw(r)||Jw(r)){if(r.labels?.length)return Array.from(r.labels).map(n=>oc(n,!1)).join(" ");let i=r.getAttribute("placeholder")?.trim();if(i)return i;let t=r.getAttribute("title")?.trim();if(t)return t}return(r.textContent||"").replace(/\s+/g," ").trim()}var Eo=new K("MAT_DATE_RANGE_INPUT_PARENT"),gm=(()=>{let e=class e extends um{get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,a,o,s,l,c,d){super(n,c,d),this._rangeInput=t,this._elementRef=n,this._defaultErrorStateMatcher=a,this._injector=o,this._parentForm=s,this._parentFormGroup=l,this._dir=G(De,{optional:!0}),this._errorStateTracker=new Ci(this._defaultErrorStateMatcher,null,this._parentFormGroup,this._parentForm,this.stateChanges)}ngOnInit(){let t=this._injector.get(vi,null,{optional:!0,self:!0});t&&(this.ngControl=t,this._errorStateTracker.ngControl=t)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return this._elementRef.nativeElement.value.length===0}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){let t=this._elementRef.nativeElement,n=t.value;return n.length>0?n:t.placeholder}updateErrorState(){this._errorStateTracker.updateErrorState()}_onInput(t){super._onInput(t),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:t}){return t!==this._rangeInput._startInput&&t!==this._rangeInput._endInput}_assignValueProgrammatically(t){super._assignValueProgrammatically(t),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_getAccessibleName(){return Qw(this._elementRef.nativeElement)}};e.\u0275fac=function(n){return new(n||e)(u(Eo),u(O),u(wt),u(Me),u(Lt,8),u(ht,8),u(we,8),u(Vt,8))},e.\u0275dir=A({type:e,inputs:{errorStateMatcher:"errorStateMatcher"},standalone:!0,features:[ie]});let r=e;return r})(),Xw=(()=>{let e=class e extends gm{constructor(t,n,a,o,s,l,c,d){super(t,n,a,o,s,l,c,d),this._startValidator=h=>{let p=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(h.value)),f=this._model?this._model.selection.end:null;return!p||!f||this._dateAdapter.compareDate(p,f)<=0?null:{matStartDateInvalid:{end:f,actual:p}}},this._validator=Pe.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(t){return t.start}_shouldHandleChangeEvent(t){return super._shouldHandleChangeEvent(t)?t.oldValue?.start?!t.selection.start||!!this._dateAdapter.compareDate(t.oldValue.start,t.selection.start):!!t.selection.start:!1}_assignValueToModel(t){if(this._model){let n=new Ae(t,this._model.selection.end);this._model.updateSelection(n,this)}}_formatValue(t){super._formatValue(t),this._rangeInput._handleChildValueChange()}_onKeydown(t){let n=this._rangeInput._endInput,a=this._elementRef.nativeElement,o=this._dir?.value!=="rtl";(t.keyCode===39&&o||t.keyCode===37&&!o)&&a.selectionStart===a.value.length&&a.selectionEnd===a.value.length?(t.preventDefault(),n._elementRef.nativeElement.setSelectionRange(0,0),n.focus()):super._onKeydown(t)}};e.\u0275fac=function(n){return new(n||e)(u(Eo),u(O),u(wt),u(Me),u(Lt,8),u(ht,8),u(we,8),u(Vt,8))},e.\u0275dir=A({type:e,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(n,a){n&1&&S("input",function(s){return a._onInput(s.target.value)})("change",function(){return a._onChange()})("keydown",function(s){return a._onKeydown(s)})("blur",function(){return a._onBlur()}),n&2&&(yt("disabled",a.disabled),L("aria-haspopup",a._rangeInput.rangePicker?"dialog":null)("aria-owns",a._rangeInput._ariaOwns?a._rangeInput._ariaOwns():(a._rangeInput.rangePicker==null?null:a._rangeInput.rangePicker.opened)&&a._rangeInput.rangePicker.id||null)("min",a._getMinDate()?a._dateAdapter.toIso8601(a._getMinDate()):null)("max",a._getMaxDate()?a._dateAdapter.toIso8601(a._getMaxDate()):null))},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[U([{provide:Zt,useExisting:e,multi:!0},{provide:oa,useExisting:e,multi:!0}]),ie]});let r=e;return r})(),Zw=(()=>{let e=class e extends gm{constructor(t,n,a,o,s,l,c,d){super(t,n,a,o,s,l,c,d),this._endValidator=h=>{let p=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(h.value)),f=this._model?this._model.selection.start:null;return!p||!f||this._dateAdapter.compareDate(p,f)>=0?null:{matEndDateInvalid:{start:f,actual:p}}},this._validator=Pe.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(t){return t.end}_shouldHandleChangeEvent(t){return super._shouldHandleChangeEvent(t)?t.oldValue?.end?!t.selection.end||!!this._dateAdapter.compareDate(t.oldValue.end,t.selection.end):!!t.selection.end:!1}_assignValueToModel(t){if(this._model){let n=new Ae(this._model.selection.start,t);this._model.updateSelection(n,this)}}_moveCaretToEndOfStartInput(){let t=this._rangeInput._startInput._elementRef.nativeElement,n=t.value;n.length>0&&t.setSelectionRange(n.length,n.length),t.focus()}_onKeydown(t){let n=this._elementRef.nativeElement,a=this._dir?.value!=="rtl";t.keyCode===8&&!n.value?this._moveCaretToEndOfStartInput():(t.keyCode===37&&a||t.keyCode===39&&!a)&&n.selectionStart===0&&n.selectionEnd===0?(t.preventDefault(),this._moveCaretToEndOfStartInput()):super._onKeydown(t)}};e.\u0275fac=function(n){return new(n||e)(u(Eo),u(O),u(wt),u(Me),u(Lt,8),u(ht,8),u(we,8),u(Vt,8))},e.\u0275dir=A({type:e,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(n,a){n&1&&S("input",function(s){return a._onInput(s.target.value)})("change",function(){return a._onChange()})("keydown",function(s){return a._onKeydown(s)})("blur",function(){return a._onBlur()}),n&2&&(yt("disabled",a.disabled),L("aria-haspopup",a._rangeInput.rangePicker?"dialog":null)("aria-owns",a._rangeInput._ariaOwns?a._rangeInput._ariaOwns():(a._rangeInput.rangePicker==null?null:a._rangeInput.rangePicker.opened)&&a._rangeInput.rangePicker.id||null)("min",a._getMinDate()?a._dateAdapter.toIso8601(a._getMinDate()):null)("max",a._getMaxDate()?a._dateAdapter.toIso8601(a._getMaxDate()):null))},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[U([{provide:Zt,useExisting:e,multi:!0},{provide:oa,useExisting:e,multi:!0}]),ie]});let r=e;return r})(),eC=0,ZE=(()=>{let e=class e{get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){let t=this._startInput?._getPlaceholder()||"",n=this._endInput?._getPlaceholder()||"";return t||n?`${t} ${this.separator} ${n}`:""}get rangePicker(){return this._rangePicker}set rangePicker(t){t&&(this._model=t.registerInput(this),this._rangePicker=t,this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe(),this._ariaOwns.set(this.rangePicker.opened?t.id:null),this._closedSubscription=t.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=t.openedStream.subscribe(()=>{this._ariaOwns.set(t.id)}),this._registerModel(this._model))}get required(){return this._required??(this._isTargetRequired(this)||this._isTargetRequired(this._startInput)||this._isTargetRequired(this._endInput))??!1}set required(t){this._required=t}get dateFilter(){return this._dateFilter}set dateFilter(t){let n=this._startInput,a=this._endInput,o=n&&n._matchesFilter(n.value),s=a&&a._matchesFilter(n.value);this._dateFilter=t,n&&n._matchesFilter(n.value)!==o&&n._validatorOnChange(),a&&a._matchesFilter(a.value)!==s&&a._validatorOnChange()}get min(){return this._min}set min(t){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._revalidate())}get max(){return this._max}set max(t){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(t){t!==this._groupDisabled&&(this._groupDisabled=t,this.stateChanges.next(void 0))}get errorState(){return this._startInput&&this._endInput?this._startInput.errorState||this._endInput.errorState:!1}get empty(){let t=this._startInput?this._startInput.isEmpty():!1,n=this._endInput?this._endInput.isEmpty():!1;return t&&n}constructor(t,n,a,o,s){this._changeDetectorRef=t,this._elementRef=n,this._dateAdapter=o,this._formField=s,this._closedSubscription=Ee.EMPTY,this._openedSubscription=Ee.EMPTY,this.id=`mat-date-range-input-${eC++}`,this.focused=!1,this.controlType="mat-date-range-input",this._ariaOwns=Bo(null),this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new Y,this.disableAutomaticLabeling=!0,s?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")&&n.nativeElement.classList.add("mat-mdc-input-element","mat-mdc-form-field-input-control","mdc-text-field__input"),this.ngControl=a}setDescribedByIds(t){this._ariaDescribedBy=t.length?t.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(!this._model||!this._model.selection.start?this._startInput.focus():this._endInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),Ce(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(t){mm(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(t){let n=t==="start"?this._startInput:this._endInput;return n?n.getMirrorValue():""}_shouldHidePlaceholders(){return this._startInput?!this._startInput.isEmpty():!1}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){let t=this._formField;return t&&t._hasFloatingLabel()?t._labelId:null}_getStartDateAccessibleName(){return this._startInput._getAccessibleName()}_getEndDateAccessibleName(){return this._endInput._getAccessibleName()}_updateFocus(t){this.focused=t!==null,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(t){this._startInput&&this._startInput._registerModel(t),this._endInput&&this._endInput._registerModel(t)}_isTargetRequired(t){return t?.ngControl?.control?.hasValidator(Pe.required)}};e.\u0275fac=function(n){return new(n||e)(u(de),u(O),u(Kc,10),u(we,8),u(It,8))},e.\u0275cmp=P({type:e,selectors:[["mat-date-range-input"]],contentQueries:function(n,a,o){if(n&1&&(J(o,Xw,5),J(o,Zw,5)),n&2){let s;E(s=M())&&(a._startInput=s.first),E(s=M())&&(a._endInput=s.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(n,a){n&2&&(L("id",a.id)("aria-labelledby",a._getAriaLabelledby())("aria-describedby",a._ariaDescribedBy)("data-mat-calendar",a.rangePicker?a.rangePicker.id:null),z("mat-date-range-input-hide-placeholders",a._shouldHidePlaceholders())("mat-date-range-input-required",a.required))},inputs:{rangePicker:"rangePicker",required:[x.HasDecoratorInputTransform,"required","required",N],dateFilter:"dateFilter",min:"min",max:"max",disabled:[x.HasDecoratorInputTransform,"disabled","disabled",N],separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],standalone:!0,features:[U([{provide:di,useExisting:e},{provide:Eo,useExisting:e}]),re,ve,$],ngContentSelectors:Ew,decls:11,vars:5,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-wrapper","mat-date-range-input-end-wrapper"]],template:function(n,a){n&1&&(me(Sw),b(0,"div",0),S("cdkFocusChange",function(s){return a._updateFocus(s)}),b(1,"div",1),H(2),b(3,"span",2),q(4),_()(),b(5,"span",3),q(6),_(),b(7,"div",4),H(8,1),b(9,"span",2),q(10),_()()()),n&2&&(g(4),pe(a._getInputMirrorValue("start")),g(),z("mat-date-range-input-separator-hidden",a._shouldHideSeparator()),g(),pe(a.separator),g(4),pe(a._getInputMirrorValue("end")))},dependencies:[es],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px;color:var(--mat-datepicker-range-input-separator-color, var(--mat-app-on-surface))}.mat-form-field-disabled .mat-date-range-input-separator{color:var(--mat-datepicker-range-input-disabled-state-separator-color)}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner[disabled]{color:var(--mat-datepicker-range-input-disabled-state-text-color)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0});let r=e;return r})(),eM=(()=>{let e=class e extends Do{_forwardContentValues(t){super._forwardContentValues(t);let n=this.datepickerInput;n&&(t.comparisonStart=n.comparisonStart,t.comparisonEnd=n.comparisonEnd,t.startDateAccessibleName=n._getStartDateAccessibleName(),t.endDateAccessibleName=n._getEndDateAccessibleName())}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ne(e)))(a||e)}})(),e.\u0275cmp=P({type:e,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],standalone:!0,features:[U([Nw,Vw,{provide:Do,useExisting:e}]),ie,$],decls:0,vars:0,template:function(n,a){},encapsulation:2,changeDetection:0});let r=e;return r})();var tM=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({providers:[Vr,Ww],imports:[dt,Rl,wi,pa,rd,se,pm,Kw,dm,xi]});let r=e;return r})();var aM=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({imports:[se,se]});let r=e;return r})();var dM=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=le({imports:[se,se]});let r=e;return r})();var Nt=Object.create(null);Nt.open="0";Nt.close="1";Nt.ping="2";Nt.pong="3";Nt.message="4";Nt.upgrade="5";Nt.noop="6";var Br=Object.create(null);Object.keys(Nt).forEach(r=>{Br[Nt[r]]=r});var zr={type:"error",data:"parser error"};var vm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ym=typeof ArrayBuffer=="function",xm=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,Hr=({type:r,data:e},i,t)=>vm&&e instanceof Blob?i?t(e):bm(e,t):ym&&(e instanceof ArrayBuffer||xm(e))?i?t(e):bm(new Blob([e]),t):t(Nt[r]+(e||"")),bm=(r,e)=>{let i=new FileReader;return i.onload=function(){let t=i.result.split(",")[1];e("b"+(t||""))},i.readAsDataURL(r)};function _m(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}var cc;function wm(r,e){if(vm&&r.data instanceof Blob)return r.data.arrayBuffer().then(_m).then(e);if(ym&&(r.data instanceof ArrayBuffer||xm(r.data)))return e(_m(r.data));Hr(r,!1,i=>{cc||(cc=new TextEncoder),e(cc.encode(i))})}var Cm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<Cm.length;r++)jr[Cm.charCodeAt(r)]=r;var km=r=>{let e=r.length*.75,i=r.length,t,n=0,a,o,s,l;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);let c=new ArrayBuffer(e),d=new Uint8Array(c);for(t=0;t<i;t+=4)a=jr[r.charCodeAt(t)],o=jr[r.charCodeAt(t+1)],s=jr[r.charCodeAt(t+2)],l=jr[r.charCodeAt(t+3)],d[n++]=a<<2|o>>4,d[n++]=(o&15)<<4|s>>2,d[n++]=(s&3)<<6|l&63;return c};var tC=typeof ArrayBuffer=="function",qr=(r,e)=>{if(typeof r!="string")return{type:"message",data:Dm(r,e)};let i=r.charAt(0);return i==="b"?{type:"message",data:iC(r.substring(1),e)}:Br[i]?r.length>1?{type:Br[i],data:r.substring(1)}:{type:Br[i]}:zr},iC=(r,e)=>{if(tC){let i=km(r);return Dm(i,e)}else return{base64:!0,data:r}},Dm=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}};var Im="",Sm=(r,e)=>{let i=r.length,t=new Array(i),n=0;r.forEach((a,o)=>{Hr(a,!1,s=>{t[o]=s,++n===i&&e(t.join(Im))})})},Em=(r,e)=>{let i=r.split(Im),t=[];for(let n=0;n<i.length;n++){let a=qr(i[n],e);if(t.push(a),a.type==="error")break}return t};function Mm(){return new TransformStream({transform(r,e){wm(r,i=>{let t=i.length,n;if(t<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,t);else if(t<65536){n=new Uint8Array(3);let a=new DataView(n.buffer);a.setUint8(0,126),a.setUint16(1,t)}else{n=new Uint8Array(9);let a=new DataView(n.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(t))}r.data&&typeof r.data!="string"&&(n[0]|=128),e.enqueue(n),e.enqueue(i)})}})}var dc;function Mo(r){return r.reduce((e,i)=>e+i.length,0)}function To(r,e){if(r[0].length===e)return r.shift();let i=new Uint8Array(e),t=0;for(let n=0;n<e;n++)i[n]=r[0][t++],t===r[0].length&&(r.shift(),t=0);return r.length&&t<r[0].length&&(r[0]=r[0].slice(t)),i}function Tm(r,e){dc||(dc=new TextDecoder);let i=[],t=0,n=-1,a=!1;return new TransformStream({transform(o,s){for(i.push(o);;){if(t===0){if(Mo(i)<1)break;let l=To(i,1);a=(l[0]&128)===128,n=l[0]&127,n<126?t=3:n===126?t=1:t=2}else if(t===1){if(Mo(i)<2)break;let l=To(i,2);n=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),t=3}else if(t===2){if(Mo(i)<8)break;let l=To(i,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){s.enqueue(zr);break}n=d*Math.pow(2,32)+c.getUint32(4),t=3}else{if(Mo(i)<n)break;let l=To(i,n);s.enqueue(qr(a?l:dc.decode(l),e)),t=0}if(n===0||n>r){s.enqueue(zr);break}}}})}var hc=4;function ge(r){if(r)return nC(r)}function nC(r){for(var e in ge.prototype)r[e]=ge.prototype[e];return r}ge.prototype.on=ge.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};ge.prototype.once=function(r,e){function i(){this.off(r,i),e.apply(this,arguments)}return i.fn=e,this.on(r,i),this};ge.prototype.off=ge.prototype.removeListener=ge.prototype.removeAllListeners=ge.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+r];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var t,n=0;n<i.length;n++)if(t=i[n],t===e||t.fn===e){i.splice(n,1);break}return i.length===0&&delete this._callbacks["$"+r],this};ge.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+r],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(i){i=i.slice(0);for(var t=0,n=i.length;t<n;++t)i[t].apply(this,e)}return this};ge.prototype.emitReserved=ge.prototype.emit;ge.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};ge.prototype.hasListeners=function(r){return!!this.listeners(r).length};var hi=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,i)=>i(e,0),Xe=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Am="arraybuffer";function Ao(r,...e){return e.reduce((i,t)=>(r.hasOwnProperty(t)&&(i[t]=r[t]),i),{})}var rC=Xe.setTimeout,aC=Xe.clearTimeout;function pi(r,e){e.useNativeTimers?(r.setTimeoutFn=rC.bind(Xe),r.clearTimeoutFn=aC.bind(Xe)):(r.setTimeoutFn=Xe.setTimeout.bind(Xe),r.clearTimeoutFn=Xe.clearTimeout.bind(Xe))}var oC=1.33;function Rm(r){return typeof r=="string"?sC(r):Math.ceil((r.byteLength||r.size)*oC)}function sC(r){let e=0,i=0;for(let t=0,n=r.length;t<n;t++)e=r.charCodeAt(t),e<128?i+=1:e<2048?i+=2:e<55296||e>=57344?i+=3:(t++,i+=4);return i}function Ro(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Om(r){let e="";for(let i in r)r.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(r[i]));return e}function Fm(r){let e={},i=r.split("&");for(let t=0,n=i.length;t<n;t++){let a=i[t].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}var Oo=class extends Error{constructor(e,i,t){super(e),this.description=i,this.context=t,this.type="TransportError"}},ui=class extends ge{constructor(e){super(),this.writable=!1,pi(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,i,t){return super.emitReserved("error",new Oo(e,i,t)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let i=qr(e,this.socket.binaryType);this.onPacket(i)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,i={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let i=Om(e);return i.length?"?"+i:""}};var Wr=class extends ui{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let i=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let t=0;this._polling&&(t++,this.once("pollComplete",function(){--t||i()})),this.writable||(t++,this.once("drain",function(){--t||i()}))}else i()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let i=t=>{if(this.readyState==="opening"&&t.type==="open"&&this.onOpen(),t.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)};Em(e,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Sm(e,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=Ro()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(e,i)}};var Nm=!1;try{Nm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Pm=Nm;function lC(){}var pc=class extends Wr{constructor(e){if(super(e),typeof location<"u"){let i=location.protocol==="https:",t=location.port;t||(t=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||t!==e.port}}doWrite(e,i){let t=this.request({method:"POST",data:e});t.on("success",i),t.on("error",(n,a)=>{this.onError("xhr post error",n,a)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(i,t)=>{this.onError("xhr poll error",i,t)}),this.pollXhr=e}},Fo=(()=>{class r extends ge{constructor(i,t,n){super(),this.createRequest=i,pi(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var i;let t=Ao(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;let n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(i=this._opts.cookieJar)===null||i===void 0||i.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=r.requestsCount++,r.requests[this._index]=this)}_onError(i){this.emitReserved("error",i,this._xhr),this._cleanup(!0)}_cleanup(i){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=lC,i)try{this._xhr.abort()}catch{}typeof document<"u"&&delete r.requests[this._index],this._xhr=null}}_onLoad(){let i=this._xhr.responseText;i!==null&&(this.emitReserved("data",i),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return r.requestsCount=0,r.requests={},r})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Lm);else if(typeof addEventListener=="function"){let r="onpagehide"in Xe?"pagehide":"unload";addEventListener(r,Lm,!1)}}function Lm(){for(let r in Fo.requests)Fo.requests.hasOwnProperty(r)&&Fo.requests[r].abort()}var cC=function(){let r=Vm({xdomain:!1});return r&&r.responseType!==null}(),Li=class extends pc{constructor(e){super(e);let i=e&&e.forceBase64;this.supportsBinary=cC&&!i}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Fo(Vm,this.uri(),e)}};function Vm(r){let e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Pm))return new XMLHttpRequest}catch{}if(!e)try{return new Xe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Bm=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",mc=class extends ui{get name(){return"websocket"}doOpen(){let e=this.uri(),i=this.opts.protocols,t=Bm?{}:Ao(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(t.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,i,t)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let i=0;i<e.length;i++){let t=e[i],n=i===e.length-1;Hr(t,this.supportsBinary,a=>{try{this.doWrite(t,a)}catch{}n&&hi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=Ro()),this.supportsBinary||(i.b64=1),this.createUri(e,i)}},uc=Xe.WebSocket||Xe.MozWebSocket,Vi=class extends mc{createSocket(e,i,t){return Bm?new uc(e,i,t):i?new uc(e,i):new uc(e)}doWrite(e,i){this.ws.send(i)}};var Qn=class extends ui{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let i=Tm(Number.MAX_SAFE_INTEGER,this.socket.binaryType),t=e.readable.pipeThrough(i).getReader(),n=Mm();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();let a=()=>{t.read().then(({done:s,value:l})=>{s||(this.onPacket(l),a())}).catch(s=>{})};a();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let i=0;i<e.length;i++){let t=e[i],n=i===e.length-1;this._writer.write(t).then(()=>{n&&hi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var fc={websocket:Vi,webtransport:Qn,polling:Li};var dC=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,hC=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gn(r){if(r.length>8e3)throw"URI too long";let e=r,i=r.indexOf("["),t=r.indexOf("]");i!=-1&&t!=-1&&(r=r.substring(0,i)+r.substring(i,t).replace(/:/g,";")+r.substring(t,r.length));let n=dC.exec(r||""),a={},o=14;for(;o--;)a[hC[o]]=n[o]||"";return i!=-1&&t!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=pC(a,a.path),a.queryKey=uC(a,a.query),a}function pC(r,e){let i=/\/{2,9}/g,t=e.replace(i,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&t.splice(0,1),e.slice(-1)=="/"&&t.splice(t.length-1,1),t}function uC(r,e){let i={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,n,a){n&&(i[n]=a)}),i}var gc=typeof addEventListener=="function"&&typeof removeEventListener=="function",No=[];gc&&addEventListener("offline",()=>{No.forEach(r=>r())},!1);var Po=(()=>{class r extends ge{constructor(i,t){if(super(),this.binaryType=Am,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,i&&typeof i=="object"&&(t=i,i=null),i){let n=Gn(i);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Gn(t.host).host);pi(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{let a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Fm(this.opts.query)),gc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},No.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(i){let t=Object.assign({},this.opts.query);t.EIO=hc,t.transport=i,this.id&&(t.sid=this.id);let n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[i]);return new this._transportsByName[i](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let i=this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let t=this.createTransport(i);t.open(),this.setTransport(t)}setTransport(i){this.transport&&this.transport.removeAllListeners(),this.transport=i,i.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",r.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",i),this.emitReserved("heartbeat"),i.type){case"open":this.onHandshake(JSON.parse(i.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let t=new Error("server error");t.code=i.data,this._onError(t);break;case"message":this.emitReserved("data",i.data),this.emitReserved("message",i.data);break}}onHandshake(i){this.emitReserved("handshake",i),this.id=i.sid,this.transport.query.sid=i.sid,this._pingInterval=i.pingInterval,this._pingTimeout=i.pingTimeout,this._maxPayload=i.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let i=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+i,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},i),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let i=this._getWritablePackets();this.transport.send(i),this._prevBufferLen=i.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){let a=this.writeBuffer[n].data;if(a&&(t+=Rm(a)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let i=Date.now()>this._pingTimeoutTime;return i&&(this._pingTimeoutTime=0,hi(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),i}write(i,t,n){return this._sendPacket("message",i,t,n),this}send(i,t,n){return this._sendPacket("message",i,t,n),this}_sendPacket(i,t,n,a){if(typeof t=="function"&&(a=t,t=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let o={type:i,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){let i=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),i()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():i()}):this.upgrading?n():i()),this}_onError(i){if(r.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",i),this._onClose("transport error",i)}_onClose(i,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),gc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let n=No.indexOf(this._offlineEventListener);n!==-1&&No.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",i,t),this.writeBuffer=[],this._prevBufferLen=0}}}return r.protocol=hc,r})(),Lo=class extends Po{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let i=this.createTransport(e),t=!1;Po.priorWebsocketSuccess=!1;let n=()=>{t||(i.send([{type:"ping",data:"probe"}]),i.once("packet",h=>{if(!t)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;Po.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{t||this.readyState!=="closed"&&(d(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{let p=new Error("probe error");p.transport=i.name,this.emitReserved("upgradeError",p)}}))};function a(){t||(t=!0,d(),i.close(),i=null)}let o=h=>{let p=new Error("probe error: "+h);p.transport=i.name,a(),this.emitReserved("upgradeError",p)};function s(){o("transport closed")}function l(){o("socket closed")}function c(h){i&&h.name!==i.name&&a()}let d=()=>{i.removeListener("open",n),i.removeListener("error",o),i.removeListener("close",s),this.off("close",l),this.off("upgrading",c)};i.once("open",n),i.once("error",o),i.once("close",s),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{t||i.open()},200):i.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let i=[];for(let t=0;t<e.length;t++)~this.transports.indexOf(e[t])&&i.push(e[t]);return i}},Jn=class extends Lo{constructor(e,i={}){let t=typeof e=="object"?e:i;(!t.transports||t.transports&&typeof t.transports[0]=="string")&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(n=>fc[n]).filter(n=>!!n)),super(e,t)}};var gT=Jn.protocol;function zm(r,e="",i){let t=r;i=i||typeof location<"u"&&location,r==null&&(r=i.protocol+"//"+i.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=i.protocol+r:r=i.host+r),/^(https?|wss?):\/\//.test(r)||(typeof i<"u"?r=i.protocol+"//"+r:r="https://"+r),t=Gn(r)),t.port||(/^(http|ws)$/.test(t.protocol)?t.port="80":/^(http|ws)s$/.test(t.protocol)&&(t.port="443")),t.path=t.path||"/";let a=t.host.indexOf(":")!==-1?"["+t.host+"]":t.host;return t.id=t.protocol+"://"+a+":"+t.port+e,t.href=t.protocol+"://"+a+(i&&i.port===t.port?"":":"+t.port),t}var wc={};$m(wc,{Decoder:()=>yc,Encoder:()=>vc,PacketType:()=>Z,protocol:()=>Ym});var fC=typeof ArrayBuffer=="function",gC=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,Hm=Object.prototype.toString,bC=typeof Blob=="function"||typeof Blob<"u"&&Hm.call(Blob)==="[object BlobConstructor]",_C=typeof File=="function"||typeof File<"u"&&Hm.call(File)==="[object FileConstructor]";function Ur(r){return fC&&(r instanceof ArrayBuffer||gC(r))||bC&&r instanceof Blob||_C&&r instanceof File}function Yr(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let i=0,t=r.length;i<t;i++)if(Yr(r[i]))return!0;return!1}if(Ur(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Yr(r.toJSON(),!0);for(let i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&Yr(r[i]))return!0;return!1}function jm(r){let e=[],i=r.data,t=r;return t.data=bc(i,e),t.attachments=e.length,{packet:t,buffers:e}}function bc(r,e){if(!r)return r;if(Ur(r)){let i={_placeholder:!0,num:e.length};return e.push(r),i}else if(Array.isArray(r)){let i=new Array(r.length);for(let t=0;t<r.length;t++)i[t]=bc(r[t],e);return i}else if(typeof r=="object"&&!(r instanceof Date)){let i={};for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(i[t]=bc(r[t],e));return i}return r}function qm(r,e){return r.data=_c(r.data,e),delete r.attachments,r}function _c(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let i=0;i<r.length;i++)r[i]=_c(r[i],e);else if(typeof r=="object")for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(r[i]=_c(r[i],e));return r}var vC=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ym=5,Z=function(r){return r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK",r}(Z||{}),vc=class{constructor(e){this.replacer=e}encode(e){return(e.type===Z.EVENT||e.type===Z.ACK)&&Yr(e)?this.encodeAsBinary({type:e.type===Z.EVENT?Z.BINARY_EVENT:Z.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let i=""+e.type;return(e.type===Z.BINARY_EVENT||e.type===Z.BINARY_ACK)&&(i+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(i+=e.nsp+","),e.id!=null&&(i+=e.id),e.data!=null&&(i+=JSON.stringify(e.data,this.replacer)),i}encodeAsBinary(e){let i=jm(e),t=this.encodeAsString(i.packet),n=i.buffers;return n.unshift(t),n}};function Wm(r){return Object.prototype.toString.call(r)==="[object Object]"}var yc=class r extends ge{constructor(e){super(),this.reviver=e}add(e){let i;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(e);let t=i.type===Z.BINARY_EVENT;t||i.type===Z.BINARY_ACK?(i.type=t?Z.EVENT:Z.ACK,this.reconstructor=new xc(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(Ur(e)||e.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(e),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let i=0,t={type:Number(e.charAt(0))};if(Z[t.type]===void 0)throw new Error("unknown packet type "+t.type);if(t.type===Z.BINARY_EVENT||t.type===Z.BINARY_ACK){let a=i+1;for(;e.charAt(++i)!=="-"&&i!=e.length;);let o=e.substring(a,i);if(o!=Number(o)||e.charAt(i)!=="-")throw new Error("Illegal attachments");t.attachments=Number(o)}if(e.charAt(i+1)==="/"){let a=i+1;for(;++i&&!(e.charAt(i)===","||i===e.length););t.nsp=e.substring(a,i)}else t.nsp="/";let n=e.charAt(i+1);if(n!==""&&Number(n)==n){let a=i+1;for(;++i;){let o=e.charAt(i);if(o==null||Number(o)!=o){--i;break}if(i===e.length)break}t.id=Number(e.substring(a,i+1))}if(e.charAt(++i)){let a=this.tryParse(e.substr(i));if(r.isPayloadValid(t.type,a))t.data=a;else throw new Error("invalid payload")}return t}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,i){switch(e){case Z.CONNECT:return Wm(i);case Z.DISCONNECT:return i===void 0;case Z.CONNECT_ERROR:return typeof i=="string"||Wm(i);case Z.EVENT:case Z.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&vC.indexOf(i[0])===-1);case Z.ACK:case Z.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},xc=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let i=qm(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function gt(r,e,i){return r.on(e,i),function(){r.off(e,i)}}var yC=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Xn=class extends ge{constructor(e,i,t){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=i,t&&t.auth&&(this.auth=t.auth),this._opts=Object.assign({},t),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[gt(e,"open",this.onopen.bind(this)),gt(e,"packet",this.onpacket.bind(this)),gt(e,"error",this.onerror.bind(this)),gt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...i){var t,n,a;if(yC.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;let o={type:Z.EVENT,data:i};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){let d=this.ids++,h=i.pop();this._registerAckCallback(d,h),o.id=d}let s=(n=(t=this.io.engine)===null||t===void 0?void 0:t.transport)===null||n===void 0?void 0:n.writable,l=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!s||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,i){var t;let n=(t=this.flags.timeout)!==null&&t!==void 0?t:this._opts.ackTimeout;if(n===void 0){this.acks[e]=i;return}let a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);i.call(this,new Error("operation has timed out"))},n),o=(...s)=>{this.io.clearTimeoutFn(a),i.apply(this,s)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...i){return new Promise((t,n)=>{let a=(o,s)=>o?n(o):t(s);a.withError=!0,i.push(a),this.emit(e,...i)})}_addToQueue(e){let i;typeof e[e.length-1]=="function"&&(i=e.pop());let t={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((n,...a)=>t!==this._queue[0]?void 0:(n!==null?t.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(n)):(this._queue.shift(),i&&i(null,...a)),t.pending=!1,this._drainQueue())),this._queue.push(t),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let i=this._queue[0];i.pending&&!e||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Z.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){let t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Z.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Z.EVENT:case Z.BINARY_EVENT:this.onevent(e);break;case Z.ACK:case Z.BINARY_ACK:this.onack(e);break;case Z.DISCONNECT:this.ondisconnect();break;case Z.CONNECT_ERROR:this.destroy();let t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t);break}}onevent(e){let i=e.data||[];e.id!=null&&i.push(this.ack(e.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let i=this._anyListeners.slice();for(let t of i)t.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let i=this,t=!1;return function(...n){t||(t=!0,i.packet({type:Z.ACK,id:e,data:n}))}}onack(e){let i=this.acks[e.id];typeof i=="function"&&(delete this.acks[e.id],i.withError&&e.data.unshift(null),i.apply(this,e.data))}onconnect(e,i){this.id=e,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Z.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let i=this._anyListeners;for(let t=0;t<i.length;t++)if(e===i[t])return i.splice(t,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let i=this._anyOutgoingListeners;for(let t=0;t<i.length;t++)if(e===i[t])return i.splice(t,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let i=this._anyOutgoingListeners.slice();for(let t of i)t.apply(this,e.data)}}};function vn(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}vn.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),i=Math.floor(e*this.jitter*r);r=Math.floor(e*10)&1?r+i:r-i}return Math.min(r,this.max)|0};vn.prototype.reset=function(){this.attempts=0};vn.prototype.setMin=function(r){this.ms=r};vn.prototype.setMax=function(r){this.max=r};vn.prototype.setJitter=function(r){this.jitter=r};var Zn=class extends ge{constructor(e,i){var t;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(i=e,e=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,pi(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((t=i.randomizationFactor)!==null&&t!==void 0?t:.5),this.backoff=new vn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=e;let n=i.parser||wc;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var i;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(i=this.backoff)===null||i===void 0||i.setMin(e),this)}randomizationFactor(e){var i;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(i=this.backoff)===null||i===void 0||i.setJitter(e),this)}reconnectionDelayMax(e){var i;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(i=this.backoff)===null||i===void 0||i.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Jn(this.uri,this.opts);let i=this.engine,t=this;this._readyState="opening",this.skipReconnect=!1;let n=gt(i,"open",function(){t.onopen(),e&&e()}),a=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),e?e(s):this.maybeReconnectOnOpen()},o=gt(i,"error",a);if(this._timeout!==!1){let s=this._timeout,l=this.setTimeoutFn(()=>{n(),a(new Error("timeout")),i.close()},s);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(n),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(gt(e,"ping",this.onping.bind(this)),gt(e,"data",this.ondata.bind(this)),gt(e,"error",this.onerror.bind(this)),gt(e,"close",this.onclose.bind(this)),gt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(i){this.onclose("parse error",i)}}ondecoded(e){hi(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,i){let t=this.nsps[e];return t?this._autoConnect&&!t.active&&t.connect():(t=new Xn(this,e,i),this.nsps[e]=t),t}_destroy(e){let i=Object.keys(this.nsps);for(let t of i)if(this.nsps[t].active)return;this._close()}_packet(e){let i=this.encoder.encode(e);for(let t=0;t<i.length;t++)this.engine.write(i[t],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,i){var t;this.cleanup(),(t=this.engine)===null||t===void 0||t.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let i=this.backoff.duration();this._reconnecting=!0;let t=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(n=>{n?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",n)):e.onreconnect()}))},i);this.opts.autoUnref&&t.unref(),this.subs.push(()=>{this.clearTimeoutFn(t)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var $r={};function Kr(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};let i=zm(r,e.path||"/socket.io"),t=i.source,n=i.id,a=i.path,o=$r[n]&&a in $r[n].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||o,l;return s?l=new Zn(t,e):($r[n]||($r[n]=new Zn(t,e)),l=$r[n]),i.query&&!e.query&&(e.query=i.queryKey),l.socket(i.path,e)}Object.assign(Kr,{Manager:Zn,Socket:Xn,io:Kr,connect:Kr});var aA=(()=>{let e=class e{constructor(){this.socketUrl=Gc.socketUrl,this.socket=Kr(this.socketUrl);let t=localStorage.getItem("userData"),n;if(t){let a=JSON.parse(t);n=a.id,this.connectUser(a.id)}else console.log("No data found in localStorage.")}connectUser(t){this.socket.emit("connectUser",t)}emit(t,n){this.socket.emit(t,n)}on(t){return new yn(n=>{this.socket.on(t,a=>{n.next(a)})})}disconnect(){this.socket.disconnect()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ye({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();export{U1 as a,G1 as b,J1 as c,nu as d,aA as e,Rl as f,uu as g,Ik as h,Sk as i,Du as j,Or as k,Tu as l,qy as m,Pu as n,ex as o,ZD as p,_I as q,vI as r,rS as s,aS as t,oS as u,sS as v,lS as w,cS as x,dS as y,hS as z,pS as A,uS as B,mS as C,fS as D,WS as E,qx as F,YS as G,gE as H,sw as I,bE as J,_E as K,vE as L,XE as M,fm as N,Kw as O,Xw as P,Zw as Q,ZE as R,eM as S,tM as T,aM as U,dM as V};
