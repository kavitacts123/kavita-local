import{b as Q}from"./chunk-Z5OIG6JY.js";import{C as T,Eb as v,Fb as _,Ia as h,Jb as O,Jd as I,Ka as d,P as S,Sb as w,Ua as c,Va as n,W as x,X as A,_a as C,aa as g,ba as b,bb as m,db as p,gb as D,k as E,lc as N,ne as y,oe as F,qc as B,rb as s,sa as r,sb as P,ta as u,tb as f,te as L,vc as z,wb as j,xb as R,yb as V}from"./chunk-MV3MVNGJ.js";function G(t,e){if(t&1){let a=C();c(0,"div",6)(1,"div",7),m("click",function(){g(a);let o=p();return b(o.deleteConfirmed())}),s(2,"Confirm"),n(),c(3,"div",7),m("click",function(){g(a);let o=p();return b(o.close())}),s(4,"Close"),n()()}}var $=(()=>{let e=class e{constructor(i,o){this.dialogRef=i,this.data=o}deleteConfirmed(){this.dialogRef.close({action:"delete-confirmed"})}close(){this.dialogRef.close()}};e.\u0275fac=function(o){return new(o||e)(u(y),u(F))},e.\u0275cmp=x({type:e,selectors:[["shared-message-popup"]],decls:7,vars:2,consts:[[1,"msg-popup-dialog","p-3"],[1,"msg-popup-close"],["src","../../../assets/images/close-icon-circle.png","alt","",3,"click"],[1,"msg-popup-content","p-3","pt-1"],[1,"display-message"],["class","popup-delete-btn d-flex align-items-center justify-content-between mx-5 px-5 py-2",4,"ngIf"],[1,"popup-delete-btn","d-flex","align-items-center","justify-content-between","mx-5","px-5","py-2"],[3,"click"]],template:function(o,l){o&1&&(c(0,"div",0)(1,"div",1)(2,"img",2),m("click",function(){return l.close()}),n()(),c(3,"div",3)(4,"div",4),s(5),n(),h(6,G,5,0,"div",5),n()()),o&2&&(r(5),f(" ",l.data.message," "),r(),d("ngIf",l.data.action==="delete-confirmation"))},dependencies:[w],styles:[".msg-popup-close[_ngcontent-%COMP%]{text-align:right}.msg-popup-dialog[_ngcontent-%COMP%]{padding:10px 15px 35px;text-align:center}.msg-popup-close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:40px;cursor:pointer}.popup-delete-btn[_ngcontent-%COMP%]{color:#fd5454;margin-top:20px;cursor:pointer}"]});let t=e;return t})();function H(t,e){if(t&1&&(c(0,"div",13),s(1),n()),t&2){let a=p();r(),f(" ",a.couponError," ")}}function J(t,e){if(t&1&&(c(0,"div",14),s(1),n()),t&2){let a=p();r(),f(" ",a.couponSuccess," ")}}function K(t,e){if(t&1){let a=C();c(0,"div",15)(1,"button",16),m("click",function(){g(a);let o=p();return b(o.noCoupon())}),s(2),v(3,"translate"),n()()}t&2&&(r(2),f(" ",_(3,1,"I don't have a coupon, Proceed to checkout.")," "))}function X(t,e){if(t&1){let a=C();c(0,"button",17),m("click",function(){g(a);let o=p();return b(o.applyCoupon())}),s(1),v(2,"translate"),n()}if(t&2){let a=p();d("disabled",a.couponError||!a.couponCode.trim()),r(),f(" ",_(2,2,"Check Coupon")," ")}}function Y(t,e){if(t&1){let a=C();c(0,"button",18),m("click",function(){g(a);let o=p();return b(o.proceedToCheckout())}),s(1),v(2,"translate"),n()}t&2&&(r(),f(" ",_(2,1,"Proceed to Checkout")," "))}var rt=(()=>{let e=class e{constructor(i,o,l){this.dialogRef=i,this.talentService=o,this.cdr=l,this.couponCode="",this.couponError="",this.couponSuccess="",this.couponApplied=!1,this.couponInputSubject=new E}ngOnInit(){this.couponInputSubject.pipe(T(500)).subscribe(i=>{})}onCouponInput(){this.couponError="",this.couponSuccess=""}applyCoupon(){if(!this.couponCode.trim()){this.couponError="Please enter a coupon code.";return}this.talentService.validateCoupon(this.couponCode).subscribe(i=>{i.status?(this.couponSuccess="Coupon code applied successfully!",this.couponError="",this.couponApplied=!0):(this.couponError="Invalid Coupon Code. Please try again.",this.couponSuccess="",this.couponApplied=!1)},i=>{i.status===0?this.couponError="Network error. Please check your connection.":this.couponError="An error occurred. Please try again later.",this.couponSuccess="",console.error("Coupon validation error:",i),this.couponApplied=!1})}proceedToCheckout(){this.dialogRef.close(this.couponCode)}noCoupon(){this.dialogRef.close(null)}closeDialog(){this.dialogRef.close(!1)}};e.\u0275fac=function(o){return new(o||e)(u(y),u(Q),u(O))},e.\u0275cmp=x({type:e,selectors:[["app-coupon-code-alert"]],decls:16,vars:12,consts:[[1,"container","p-4"],[1,"modal-header","pb-2"],["id","couponModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"my-2"],["type","text","id","couponCode",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["class","text-danger mt-2",4,"ngIf"],["class","text-success mt-2",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"modal-footer","mt-1"],["type","button","class","btn btn-success",3,"disabled","click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"text-danger","mt-2"],[1,"text-success","mt-2"],[1,"mt-3"],[1,"btn","btn-link",3,"click"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-primary",3,"click"]],template:function(o,l){o&1&&(c(0,"div",0)(1,"div",1)(2,"h5",2),s(3),v(4,"translate"),n(),c(5,"button",3),m("click",function(){return l.closeDialog()}),n()(),c(6,"div",4)(7,"div",5)(8,"input",6),v(9,"translate"),V("ngModelChange",function(M){return R(l.couponCode,M)||(l.couponCode=M),M}),n(),h(10,H,2,1,"div",7)(11,J,2,1,"div",8),n(),h(12,K,4,3,"div",9),n(),c(13,"div",10),h(14,X,3,4,"button",11)(15,Y,3,3,"button",12),n()()),o&2&&(r(3),P(_(4,8,"Enter Coupon Code")),r(5),D("placeholder",_(9,10,"Enter your coupon code")),j("ngModel",l.couponCode),r(2),d("ngIf",l.couponError),r(),d("ngIf",l.couponSuccess),r(),d("ngIf",!l.couponApplied),r(2),d("ngIf",!l.couponApplied),r(),d("ngIf",l.couponApplied))},dependencies:[w,N,B,z,L],styles:[".error-text[_ngcontent-%COMP%]{color:red;font-size:14px}.mat-dialog-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.mat-form-field[_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})();var Ct=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=A({type:e}),e.\u0275inj=S({imports:[I,I]});let t=e;return t})();export{$ as a,rt as b,Ct as c};
